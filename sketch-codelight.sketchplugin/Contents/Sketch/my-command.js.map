{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./node_modules/@skpm/timers/test-if-fiber.js","webpack://exports/./node_modules/@skpm/timers/timeout.js","webpack://exports/(webpack)/buildin/global.js","webpack://exports/./src/monaco/css.js","webpack://exports/./src/monaco/html.js","webpack://exports/./src/monaco/imba/index.js","webpack://exports/./src/monaco/java.js","webpack://exports/./src/monaco/javascript.js","webpack://exports/./src/monaco/languages.js","webpack://exports/./src/monaco/less.js","webpack://exports/./src/monaco/markdown.js","webpack://exports/./src/monaco/python.js","webpack://exports/./src/monaco/ruby.js","webpack://exports/./src/monaco/xml.js","webpack://exports/./src/monarch.js","webpack://exports/./src/my-command.js","webpack://exports/./src/test.js","webpack://exports/./src/theme.js","webpack://exports/external \"sketch\""],"names":["exports","conf","wordPattern","comments","blockComment","brackets","autoClosingPairs","open","close","notIn","surroundingPairs","language","defaultToken","tokenPostfix","ws","identifier","token","tokenizer","root","include","selector","next","selectorbody","selectorname","selectorattribute","term","rulevalue","warndebug","import","urldeclaration","parenthizedterm","declarationbody","comment","name","numbers","units","keyframedeclaration","switchTo","keyframebody","functioninvocation","functionarguments","strings","stringenddoublequote","stringendquote","EMPTY_ELEMENTS","onEnterRules","beforeText","RegExp","join","afterText","action","indentAction","ignoreCase","doctype","otherTag","script","nextEmbedded","scriptAfterType","scriptAfterTypeEquals","scriptWithCustomType","scriptEmbedded","style","styleAfterType","styleAfterTypeEquals","styleWithCustomType","styleEmbedded","names","access","ivar","constant","lineComment","keywords","boolean","contextual_keywords","operators","logic","ranges","dot","math","symbols","escapes","postaccess","className","methodName","regEx","regexpctl","regexpesc","body","cases","bracket","js_comment","string_start","value","unspaced_expr","number","whitespace","tag","tag_singleton_ref","tag_parts","tag_start","tag_inter","tag_data","tag_content","tag_attr_value","tag_parens","importstart","parens","braces","declstart","defstart","propstart","string","herestring","hereregexp","regexp","regexrange","digits","octaldigits","binarydigits","hexdigits","javadoc","builtins","exponent","rootInBrace","tagContent","tagBody","imba","id","extensions","aliases","mimetypes","require","ruby","filenames","javascript","css","python","firstLine","html","less","markdown","xml","java","identifierPlus","nestedJSBegin","nestedJSEnd","keyword","attribute","stringsEndDoubleQuote","stringsEndQuote","atRules","control","noncontrol","jsescapes","empty","codeblock","codeblockgh","codeblockghend","linecontent","embedded","endDocString","endDblDocString","stringBody","dblStringBody","keywordops","declarations","linedecls","escape","decpart","decimal","delim","heredelim","dodecl","modifier","sstring","dstring","heredoc","interpolated","interpolated_compound","pregexp","regexcontrol","regexpcomment","pstring","qstring","qqstring","exportsconf","qualifiedName","cdata","Object","defineProperty","arrayToHash","array","result","i","length","createKeywordMatcher","arr","caseInsensitive","map","x","toLowerCase","hash","word","undefined","hasOwnProperty","isFuzzyActionArr","what","Array","isArray","isFuzzyAction","isString$1","isIAction","s","fixCase","lexer","str","sanitize","replace","log","msg","console","languageId","throwError","Error","substituteMatches","matches","state","re","stateMatches","full","sub","dollar","n","attr","ofs","total","split","unshift","findRules","rules","idx","lastIndexOf","substr","stateExists","exist","stateNames","isArrayOf","elemType","obj","bool","prop","def","onerr","compileRegExp","indexOf","source","selectScrutinee","num","parts","createGuard","ruleName","tkey","val","scrut","oppat","match","parseInt","op","pat","test","tester","inWords","words","elem","patx","eos","patexp","scrutinee","compileAction","newAction","tokenSubst","goBack","usesEmbedded","results","group","push","didmatch","Rule","regex","matchOnlyAtLineStart","sregex","act","compile","json","noThrow","maxStack","start","lexerMin","addRules","newrules","rule","newrule","setRegex","setAction","rule1","matchOnlyAtStart","key","bracketIdx","desc","empty$1","freeze","dispose","_isWindows","_isMacintosh","_isLinux","_isRootUser","_isNative","_locale","navigator","userAgent","Platform","_platform","Web","Mac","Windows","Linux","_globals","self","global","setTimeout$1","clearTimeout$1","setInterval","clearInterval","win","_modules","_winjs","moduleId","deps","factory","exportsPassedIn","depsValues","dep","apply","globalObject","window","baseCoreUtilsInit","_Global","hasWinRT","markSupportedForProcessing","func","supportedForProcessing","_setImmediate","setImmediate","bind","handler","setTimeout","profilerInit","msWriteProfilerMark","baseInit","_WinJS","_BaseCoreUtils","_WriteProfilerMark","initializeProperties","target","members","prefix","keys","properties","len","enumerable","charCodeAt","member","get","set","setName","configurable","writable","forEach","defineProperties","_rootNamespace","Namespace","create","prototype","createNamespace","parentNamespace","currentNamespace","namespaceFragments","splice","namespaceName","defineWithParent","define","LazyStates","uninitialized","working","initialized","lazy","f","moduleDefine","publicNS","_lazy","_moduleDefine","constructor","instanceMembers","staticMembers","derive","baseClass","basePrototype","mix","arguments","Class","errorsInit","_Base","ErrorFromName","message","eventsInit","createEventProperty","eventPropStateName","userHandler","wrapper","evt","addEventListener","removeEventListener","createEventProperties","props","EventMixinEvent","EventMixinEvent_ctor","type","detail","timeStamp","Date","now","bubbles","cancelable","currentTarget","defaultPrevented","_preventDefaultCalled","trusted","eventPhase","preventDefault","stopImmediatePropagation","_stopImmediatePropagationCalled","stopPropagation","eventMixin","_listeners","listener","useCapture","eventListeners","l","dispatchEvent","details","listeners","eventValue","slice","_createEventProperty","traceInit","nop","v","_traceAsyncOperationStarting","Debug","msTraceAsyncOperationStarting","_traceAsyncOperationCompleted","msTraceAsyncOperationCompleted","_traceAsyncCallbackStarting","msTraceAsyncCallbackStarting","_traceAsyncCallbackCompleted","msTraceAsyncCallbackCompleted","promiseStateMachineInit","_ErrorFromName","_Events","_Trace","setNonUserCodeExceptions","ListenerType","promiseEventListeners","errorET","canceledName","tagWithStack","promise","thenPromise","errorPromise","exceptionPromise","completePromise","all","error_number","state_created","state_working","state_waiting","state_waiting_canceled","state_canceled","state_canceling","state_success_notify","state_success","state_error_notify","state_error","_","enter","_setState","cancel","done","then","_completed","_error","_notify","_progress","_setCompleteValue","_setErrorValue","completed","error","progress","setCompleteValue","setErrorValue","waitedUpon","_value","ThenPromise","_state","pushListener","_errorId","_chainedError","callonerror","detailsForHandledError","handlesOnError","_cancelAction","CompletePromise","queue","p","shift","notifySuccess","_cleanupAction","ErrorPromise","notifyError","PromiseStateMachine","_nextState","_run","Promise_done","onComplete","onError","onProgress","Promise_then","context","detailsForChainedError","detailsForError","_setChainedErrorValue","_setExceptionValue","detailsForException","targetState","createErrorDetails","exception","parent","errorValue","_isException","errorId","setErrorInfo","exceptionValue","asyncOpID","c","e","onerrorDetails","MS_ASYNC_OP_STATUS_SUCCESS","ex","call","errorID","MS_ASYNC_OP_STATUS_CANCELED","MS_ASYNC_OP_STATUS_ERROR","asyncCallbackStarted","onerrorDetailsGenerator","isException","creator","_stack","Promise","_getStack","_creator","ErrorPromise_ctor","ErrorPromise_done","unused","_doneHandler","ErrorPromise_then","ExceptionPromise","ExceptionPromise_ctor","CompletePromise_ctor","CompletePromise_done","CompletePromise_then","newValue","timeout","timeoutMS","clearTimeout","timeoutWithPromise","cancelPromise","cancelTimeout","staticCanceledPromise","Promise_ctor","init","oncancel","_oncancel","complete","stack","Promise_addEventListener","eventType","capture","any","Promise_any","values","canceled","as","Promise_as","Promise_dispatchEvent","is","Promise_is","Promise_join","errors","undefineds","pending","argDone","errorCount","canceledCount","Key","Done","Promise_removeEventListener","thenEach","Promise_thenEach","Promise_timeout","time","to","wrap","Promise_wrap","wrapError","Promise_wrapError","_veryExpensiveTagWithStack","_veryExpensiveTagWithStack_tag","debuggerEnabled","_cancelBlocker","Promise__cancelBlocker","input","output","Promise_done_rethrow","promiseInit","_StateMachine","exported","Promise$1","TPromise","PPromise","outstandingPromiseErrors","promiseErrorHandler","onUnexpectedError","ErrorHandler","unexpectedErrorHandler","_removeListener","newUnexpectedErrorHandler","emit","errorHandler","isPromiseCanceledError","Node","element","LinkedList","_first","insert","atTheEnd","newNode","_last","oldLast","prev","oldFirst","candidate","anchor","_done","node","CallbackList","callback","bucket","_callbacks","remove","ret","elements","toArray","args","isEmpty","Event","_disposable","None","Emitter","_options","event","invoke","_disposed","_event","thisArgs","disposables","firstListener","onFirstListenerAdd","add","onFirstListenerDidAdd","onListenerDidAdd","_noop","onLastListenerRemove","BoundedMap","limit","Number","MAX_VALUE","ratio","Map","entries","entry","size","trim","serialized","has","k","t","res","delete","head","tail","clear","index","current","PathIterator","_from","_to","justSeps","ch","_fwd","_bwd","a","aPos","aLen","thisPos","cmp","substring","Touch","First","Last","nfcCache","nfdCache","CACHE","TokenizationRegistryImpl","_onDidChange","onDidChange","_map","_colorMap","languages","fire","changedLanguages","changedColorMap","support","colorMap","SuggestTriggerKind","DocumentHighlightKind","SymbolKind","symbolKindToCssClass","_fromMapping","File","Module","Package","Method","Property","Field","Constructor","Enum","Interface","Function","Variable","Constant","String","Boolean","Null","EnumMember","Struct","Operator","TypeParameter","toCssClassName","kind","TokenizationRegistry","Token","offset","TokenizationResult","tokens","endState","TokenizationResult2","NullStateImpl","other","NULL_STATE","NULL_MODE_ID","CACHE_STACK_DEPTH","MonarchStackElementFactory","maxCacheDepth","_maxCacheDepth","_entries","depth","MonarchStackElement","stackElementId","getStackElementId","_INSTANCE","_equals","b","EmbeddedModeData","modeId","equals","stateClone","clone","MonarchLineStateFactory","embeddedModeData","MonarchLineState","embeddedModeDataClone","hasOwnProperty$2","MonarchClassicTokensCollector","_tokens","_language","_lastTokenType","_lastTokenLanguage","startOffset","embeddedModeLine","offsetDelta","nestedModeId","embeddedModeState","nestedModeTokenizationSupport","enterMode","nestedResult","tokenize","concat","MonarchModernTokensCollector","modeService","theme","_modeService","_theme","_prependTokens","_currentLanguageId","_lastTokenMetadata","getLanguageIdentifier","metadata","tokenize2","_merge","bLen","cLen","Uint32Array","MonarchTokenizer","standaloneThemeService","_standaloneThemeService","_modeId","_lexer","_embeddedModes","emitting","_tokenizationRegistryListener","isOneOfMyEmbeddedModes","rootState","line","lineState","tokensCollector","endLineState","_tokenize","finalize","getTheme","tokenTheme","collector","_nestedTokenize","_myTokenize","popOffset","hasEmbeddedPopRule","regexSource","search","_findLeavingNestedModeOffset","nestedEndState","nestedModeTokenize","nestedModeLine","restOfTheLine","lineLength","pos","groupActions","groupMatches","groupMatched","groupRule","pos0","stackLen0","groupLen0","matched","enteringEmbeddedMode","restOfLine","charAt","Math","max","nextState","transform","pop","popall","totalLen","tokenType","rest","findBracket","bracketType","enteringEmbeddedModeId","getModeIdForLanguageName","_getNestedEmbeddedModeData","mimetypeOrModeId","nestedMode","_locateMode","tokenizationSupport","getId","getInitialState","isRegisteredMode","getModeId","getOrCreateMode","mode","getMode","createTokenizationSupport","roundFloat","decimalPoints","pow","round","RGBA","r","g","min","HSLA","h","rgba","chroma","q","hsla","_hue2rgb","HSVA","cmax","cmin","delta","m","hsva","abs","Color","arg","_hsla","toRGBA","_hsva","R","_relativeLuminanceForComponent","G","B","luminance","another","lum1","getRelativeLuminance","lum2","yiq","factor","thisA","colorA","transparent","Format","CSS","format","fromRGBA","hex","parseHex","red","color","of","relative","isLighterThan","lighten","isDarkerThan","darken","white","black","blue","green","cyan","lightgrey","formatRGB","formatRGBA","toFixed","formatHSL","formatHSLA","_toTwoDigitHex","toString","formatHex","formatHexA","compact","isOpaque","_parseHexDigit","charCode","ParsedTokenThemeRule","fontStyle","foreground","background","parseTokenTheme","resultLen","segments","j","lenJ","segment","resolveParsedTokenThemeRules","parsedThemeRules","sort","strcmp","defaultFontStyle","defaultForeground","defaultBackground","incomingDefaults","ColorMap","defaults","ThemeTrieElementRule","ThemeTrieElement","TokenTheme","_lastColorId","_id2color","_color2id","toUpperCase","fromHex","createFromParsedTokenTheme","_root","_cache","getColorMap","toExternalThemeTrieElement","_match","standardToken","toStandardTokenType","STANDARD_TOKEN_TYPE_REGEXP","_fontStyle","_foreground","_background","ExternalThemeTrieElement","mainRule","children","_mainRule","_children","dotIndex","child","acceptOverwrite","lexers","langid","register","langId","config","getLexer","code","sketch","UI","hexToColor","alpha","exec","NSColor","colorWithCalibratedRed_green_blue_alpha","selection","textLayer","firstObject","content","stringValue","highlight","chr","setIsEditingText","tok","end","range","NSMakeRange","addAttribute_value_forRange","NSForegroundColorAttributeName","iter$","monarch","Theme","raw","toMonaco","inv","inverted","createFromRawTokenTheme","colors","dark","light","items","cache","js","jsx","ts","md","styleElement","styles","registeredLanguages","getLanguage","lang","options","decorations","types","lines","dec","ln","filter","lstr","ary","tref","fromCharCode","move","jsonify","lineCount","out","li","htmlify","langconf","JSON","stringify","base","inherit","named","TAG","operator","symbol","regexgroup","xmlref","decl","lineNumber","agentCursor","localCursor","lvar","limport","tagbase","tagname","tagstr","tagop","tagbracket","tagattr","tagmodifier","taglistener","special","parse","toTheme","v_","$1","tokenColors","item","scope","settings"],"mappings":";;;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;;;;;;;;;;;;ACFA;AACA,qBAAqB,mBAAO,CAAC,qEAAiB;;AAE9C;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,yCAAyC,cAAc,IAAI;AAC3D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AC1DA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;ACnBA;;;;AAIAA,OAAO,CAACC,IAAR,GAAe;AACdC,aAAW,EAAE,yDADC;AAGdC,UAAQ,EAAE;AACTC,gBAAY,EAAE,CAAC,IAAD,EAAO,IAAP;AADL,GAHI;AAOdC,UAAQ,EAAE,CACT,CAAC,GAAD,EAAM,GAAN,CADS,EAET,CAAC,GAAD,EAAM,GAAN,CAFS,EAGT,CAAC,GAAD,EAAM,GAAN,CAHS,CAP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","file":"my-command.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/my-command.js\");\n","module.exports = function () {\n  return typeof coscript !== 'undefined' && coscript.createFiber\n}\n","/* globals coscript, sketch */\nvar fiberAvailable = require('./test-if-fiber')\n\nvar setTimeout\nvar clearTimeout\n\nvar fibers = []\n\nif (fiberAvailable()) {\n  var fibers = []\n\n  setTimeout = function (func, delay, param1, param2, param3, param4, param5, param6, param7, param8, param9, param10) {\n    // fibers takes care of keeping coscript around\n    var id = fibers.length\n    fibers.push(coscript.scheduleWithInterval_jsFunction(\n      (delay || 0) / 1000,\n      function () {\n        func(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10)\n      }\n    ))\n    return id\n  }\n\n  clearTimeout = function (id) {\n    var timeout = fibers[id]\n    if (timeout) {\n      timeout.cancel() // fibers takes care of keeping coscript around\n      fibers[id] = undefined // garbage collect the fiber\n    }\n  }\n} else {\n  setTimeout = function (func, delay, param1, param2, param3, param4, param5, param6, param7, param8, param9, param10) {\n    coscript.shouldKeepAround = true\n    var id = fibers.length\n    fibers.push(true)\n    coscript.scheduleWithInterval_jsFunction(\n      (delay || 0) / 1000,\n      function () {\n        if (fibers[id]) { // if not cleared\n          func(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10)\n        }\n        clearTimeout(id)\n        if (fibers.every(function (_id) { return !_id })) { // if everything is cleared\n          coscript.shouldKeepAround = false\n        }\n      }\n    )\n    return id\n  }\n\n  clearTimeout = function (id) {\n    fibers[id] = false\n  }\n}\n\nmodule.exports = {\n  setTimeout: setTimeout,\n  clearTimeout: clearTimeout\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexports.conf = {\n\twordPattern: /(#?-?\\d*\\.\\d\\w*%?)|((::|[@#.!:])?[\\w-?]+%?)|::|[@#.!:]/g,\n\n\tcomments: {\n\t\tblockComment: ['/*', '*/']\n\t},\n\n\tbrackets: [\n\t\t['{', '}'],\n\t\t['[', ']'],\n\t\t['(', ')']\n\t],\n\n\tautoClosingPairs: [\n\t\t{ open: '{', close: '}', notIn: ['string', 'comment'] },\n\t\t{ open: '[', close: ']', notIn: ['string', 'comment'] },\n\t\t{ open: '(', close: ')', notIn: ['string', 'comment'] },\n\t\t{ open: '\"', close: '\"', notIn: ['string', 'comment'] },\n\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] }\n\t],\n\n\tsurroundingPairs: [\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '\"', close: '\"' },\n\t\t{ open: '\\'', close: '\\'' }\n\t]\n};\n\nexports.language = {\n\tdefaultToken: '',\n\ttokenPostfix: '.css',\n\n\tws: '[ \\t\\n\\r\\f]*', // whitespaces (referenced in several rules)\n\tidentifier: '-?-?([a-zA-Z]|(\\\\\\\\(([0-9a-fA-F]{1,6}\\\\s?)|[^[0-9a-fA-F])))([\\\\w\\\\-]|(\\\\\\\\(([0-9a-fA-F]{1,6}\\\\s?)|[^[0-9a-fA-F])))*',\n\n\tbrackets: [\n\t\t{ open: '{', close: '}', token: 'delimiter.bracket' },\n\t\t{ open: '[', close: ']', token: 'delimiter.bracket' },\n\t\t{ open: '(', close: ')', token: 'delimiter.parenthesis' },\n\t\t{ open: '<', close: '>', token: 'delimiter.angle' }\n\t],\n\n\ttokenizer: {\n\t\troot: [\n\t\t\t{ include: '@selector' },\n\t\t],\n\n\t\tselector: [\n\t\t\t{ include: '@comments' },\n\t\t\t{ include: '@import' },\n\t\t\t{ include: '@strings' },\n\t\t\t['[@](keyframes|-webkit-keyframes|-moz-keyframes|-o-keyframes)', { token: 'keyword', next: '@keyframedeclaration' }],\n\t\t\t['[@](page|content|font-face|-moz-document)', { token: 'keyword' }],\n\t\t\t['[@](charset|namespace)', { token: 'keyword', next: '@declarationbody' }],\n\t\t\t['(url-prefix)(\\\\()', ['attribute.value', { token: 'delimiter.parenthesis', next: '@urldeclaration' }]],\n\t\t\t['(url)(\\\\()', ['attribute.value', { token: 'delimiter.parenthesis', next: '@urldeclaration' }]],\n\t\t\t{ include: '@selectorname' },\n\t\t\t['[\\\\*]', 'tag'], // selector symbols\n\t\t\t['[>\\\\+,]', 'delimiter'], // selector operators\n\t\t\t['\\\\[', { token: 'delimiter.bracket', next: '@selectorattribute' }],\n\t\t\t['{', { token: 'delimiter.bracket', next: '@selectorbody' }]\n\t\t],\n\n\t\tselectorbody: [\n\t\t\t{ include: '@comments' },\n\t\t\t['[*_]?@identifier@ws:(?=(\\\\s|\\\\d|[^{;}]*[;}]))', 'attribute.name', '@rulevalue'], // rule definition: to distinguish from a nested selector check for whitespace, number or a semicolon\n\t\t\t['}', { token: 'delimiter.bracket', next: '@pop' }]\n\t\t],\n\n\t\tselectorname: [\n\t\t\t['(\\\\.|#(?=[^{])|%|(@identifier)|:)+', 'tag'], // selector (.foo, div, ...)\n\t\t],\n\n\t\tselectorattribute: [\n\t\t\t{ include: '@term' },\n\t\t\t[']', { token: 'delimiter.bracket', next: '@pop' }],\n\t\t],\n\n\t\tterm: [\n\t\t\t{ include: '@comments' },\n\t\t\t['(url-prefix)(\\\\()', ['attribute.value', { token: 'delimiter.parenthesis', next: '@urldeclaration' }]],\n\t\t\t['(url)(\\\\()', ['attribute.value', { token: 'delimiter.parenthesis', next: '@urldeclaration' }]],\n\t\t\t{ include: '@functioninvocation' },\n\t\t\t{ include: '@numbers' },\n\t\t\t{ include: '@name' },\n\t\t\t['([<>=\\\\+\\\\-\\\\*\\\\/\\\\^\\\\|\\\\~,])', 'delimiter'],\n\t\t\t[',', 'delimiter']\n\t\t],\n\n\t\trulevalue: [\n\t\t\t{ include: '@comments' },\n\t\t\t{ include: '@strings' },\n\t\t\t{ include: '@term' },\n\t\t\t['!important', 'keyword'],\n\t\t\t[';', 'delimiter', '@pop'],\n\t\t\t['(?=})', { token: '', next: '@pop' }] // missing semicolon\n\t\t],\n\n\t\twarndebug: [\n\t\t\t['[@](warn|debug)', { token: 'keyword', next: '@declarationbody' }]\n\t\t],\n\n\t\timport: [\n\t\t\t['[@](import)', { token: 'keyword', next: '@declarationbody' }]\n\t\t],\n\n\t\turldeclaration: [\n\t\t\t{ include: '@strings' },\n\t\t\t['[^)\\r\\n]+', 'string'],\n\t\t\t['\\\\)', { token: 'delimiter.parenthesis', next: '@pop' }]\n\t\t],\n\n\t\tparenthizedterm: [\n\t\t\t{ include: '@term' },\n\t\t\t['\\\\)', { token: 'delimiter.parenthesis', next: '@pop' }]\n\t\t],\n\n\t\tdeclarationbody: [\n\t\t\t{ include: '@term' },\n\t\t\t[';', 'delimiter', '@pop'],\n\t\t\t['(?=})', { token: '', next: '@pop' }] // missing semicolon\n\t\t],\n\n\t\tcomments: [\n\t\t\t['\\\\/\\\\*', 'comment', '@comment'],\n\t\t\t['\\\\/\\\\/+.*', 'comment']\n\t\t],\n\n\t\tcomment: [\n\t\t\t['\\\\*\\\\/', 'comment', '@pop'],\n\t\t\t[/[^*/]+/, 'comment'],\n\t\t\t[/./, 'comment'],\n\t\t],\n\n\t\tname: [\n\t\t\t['@identifier', 'attribute.value']\n\t\t],\n\n\t\tnumbers: [\n\t\t\t['-?(\\\\d*\\\\.)?\\\\d+([eE][\\\\-+]?\\\\d+)?', { token: 'attribute.value.number', next: '@units' }],\n\t\t\t['#[0-9a-fA-F_]+(?!\\\\w)', 'attribute.value.hex']\n\t\t],\n\n\t\tunits: [\n\t\t\t['(em|ex|ch|rem|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?', 'attribute.value.unit', '@pop']\n\t\t],\n\n\t\tkeyframedeclaration: [\n\t\t\t['@identifier', 'attribute.value'],\n\t\t\t['{', { token: 'delimiter.bracket', switchTo: '@keyframebody' }],\n\t\t],\n\n\t\tkeyframebody: [\n\t\t\t{ include: '@term' },\n\t\t\t['{', { token: 'delimiter.bracket', next: '@selectorbody' }],\n\t\t\t['}', { token: 'delimiter.bracket', next: '@pop' }],\n\t\t],\n\n\t\tfunctioninvocation: [\n\t\t\t['@identifier\\\\(', { token: 'attribute.value', next: '@functionarguments' }],\n\t\t],\n\n\t\tfunctionarguments: [\n\t\t\t['\\\\$@identifier@ws:', 'attribute.name'],\n\t\t\t['[,]', 'delimiter'],\n\t\t\t{ include: '@term' },\n\t\t\t['\\\\)', { token: 'attribute.value', next: '@pop' }],\n\t\t],\n\n\t\tstrings: [\n\t\t\t['~?\"', { token: 'string', next: '@stringenddoublequote' }],\n\t\t\t['~?\\'', { token: 'string', next: '@stringendquote' }]\n\t\t],\n\n\t\tstringenddoublequote: [\n\t\t\t['\\\\\\\\.', 'string'],\n\t\t\t['\"', { token: 'string', next: '@pop' }],\n\t\t\t[/[^\\\\\"]+/, 'string'],\n\t\t\t['.', 'string']\n\t\t],\n\n\t\tstringendquote: [\n\t\t\t['\\\\\\\\.', 'string'],\n\t\t\t['\\'', { token: 'string', next: '@pop' }],\n\t\t\t[/[^\\\\']+/, 'string'],\n\t\t\t['.', 'string']\n\t\t]\n\t}\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst EMPTY_ELEMENTS = ['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'menuitem', 'meta', 'param', 'source', 'track', 'wbr'];\n\nexports.conf = {\n\twordPattern: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\$\\^\\&\\*\\(\\)\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\s]+)/g,\n\n\tcomments: {\n\t\tblockComment: ['<!--', '-->']\n\t},\n\n\tbrackets: [\n\t\t['<!--', '-->'],\n\t\t['<', '>'],\n\t\t['{', '}'],\n\t\t['(', ')']\n\t],\n\n\tautoClosingPairs: [\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '\"', close: '\"' },\n\t\t{ open: '\\'', close: '\\'' }\n\t],\n\n\tsurroundingPairs: [\n\t\t{ open: '\"', close: '\"' },\n\t\t{ open: '\\'', close: '\\'' },\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '<', close: '>' },\n\t],\n\n\tonEnterRules: [\n\t\t{\n\t\t\tbeforeText: new RegExp(\"<(?!(?:\" + EMPTY_ELEMENTS.join('|') + \"))([_:\\\\w][_:\\\\w-.\\\\d]*)([^/>]*(?!/)>)[^<]*$\", 'i'),\n\t\t\tafterText: /^<\\/([_:\\w][_:\\w-.\\d]*)\\s*>$/i,\n\t\t\taction: { indentAction: 2 }\n\t\t},\n\t\t{\n\t\t\tbeforeText: new RegExp(\"<(?!(?:\" + EMPTY_ELEMENTS.join('|') + \"))(\\\\w[\\\\w\\\\d]*)([^/>]*(?!/)>)[^<]*$\", 'i'),\n\t\t\taction: { indentAction: 1 }\n\t\t}\n\t],\n};\n\nexports.language = {\n\tdefaultToken: '',\n\ttokenPostfix: '.html',\n\tignoreCase: true,\n\n\t// The main tokenizer for our languages\n\ttokenizer: {\n\t\troot: [\n\t\t\t[/<!DOCTYPE/, 'metatag', '@doctype'],\n\t\t\t[/<!--/, 'comment', '@comment'],\n\t\t\t[/(<)((?:[\\w\\-]+:)?[\\w\\-]+)(\\s*)(\\/>)/, ['delimiter', 'tag', '', 'delimiter']],\n\t\t\t[/(<)(script)/, ['delimiter', { token: 'tag', next: '@script' }]],\n\t\t\t[/(<)(style)/, ['delimiter', { token: 'tag', next: '@style' }]],\n\t\t\t[/(<)((?:[\\w\\-]+:)?[\\w\\-]+)/, ['delimiter', { token: 'tag', next: '@otherTag' }]],\n\t\t\t[/(<\\/)((?:[\\w\\-]+:)?[\\w\\-]+)/, ['delimiter', { token: 'tag', next: '@otherTag' }]],\n\t\t\t[/</, 'delimiter'],\n\t\t\t[/[^<]+/], // text\n\t\t],\n\n\t\tdoctype: [\n\t\t\t[/[^>]+/, 'metatag.content'],\n\t\t\t[/>/, 'metatag', '@pop'],\n\t\t],\n\n\t\tcomment: [\n\t\t\t[/-->/, 'comment', '@pop'],\n\t\t\t[/[^-]+/, 'comment.content'],\n\t\t\t[/./, 'comment.content']\n\t\t],\n\n\t\totherTag: [\n\t\t\t[/\\/?>/, 'delimiter', '@pop'],\n\t\t\t[/\"([^\"]*)\"/, 'attribute.value'],\n\t\t\t[/'([^']*)'/, 'attribute.value'],\n\t\t\t[/[\\w\\-]+/, 'attribute.name'],\n\t\t\t[/=/, 'delimiter'],\n\t\t\t[/[ \\t\\r\\n]+/], // whitespace\n\t\t],\n\n\t\t// -- BEGIN <script> tags handling\n\n\t\t// After <script\n\t\tscript: [\n\t\t\t[/type/, 'attribute.name', '@scriptAfterType'],\n\t\t\t[/lang/, 'attribute.name', '@styleAfterType'],\n\t\t\t[/\"([^\"]*)\"/, 'attribute.value'],\n\t\t\t[/'([^']*)'/, 'attribute.value'],\n\t\t\t[/[\\w\\-]+/, 'attribute.name'],\n\t\t\t[/=/, 'delimiter'],\n\t\t\t[/>/, { token: 'delimiter', next: '@scriptEmbedded', nextEmbedded: 'text/javascript' }],\n\t\t\t[/[ \\t\\r\\n]+/], // whitespace\n\t\t\t[/(<\\/)(script\\s*)(>)/, ['delimiter', 'tag', { token: 'delimiter', next: '@pop' }]]\n\t\t],\n\n\t\t// After <script ... type\n\t\tscriptAfterType: [\n\t\t\t[/=/, 'delimiter', '@scriptAfterTypeEquals'],\n\t\t\t[/>/, { token: 'delimiter', next: '@scriptEmbedded', nextEmbedded: 'text/javascript' }], // cover invalid e.g. <script type>\n\t\t\t[/[ \\t\\r\\n]+/], // whitespace\n\t\t\t[/<\\/script\\s*>/, { token: '@rematch', next: '@pop' }]\n\t\t],\n\n\t\t// After <script ... type =\n\t\tscriptAfterTypeEquals: [\n\t\t\t[/\"([^\"]*)\"/, { token: 'attribute.value', switchTo: '@scriptWithCustomType.$1' }],\n\t\t\t[/'([^']*)'/, { token: 'attribute.value', switchTo: '@scriptWithCustomType.$1' }],\n\t\t\t[/>/, { token: 'delimiter', next: '@scriptEmbedded', nextEmbedded: 'text/javascript' }], // cover invalid e.g. <script type=>\n\t\t\t[/[ \\t\\r\\n]+/], // whitespace\n\t\t\t[/<\\/script\\s*>/, { token: '@rematch', next: '@pop' }]\n\t\t],\n\n\t\t// After <script ... type = $S2\n\t\tscriptWithCustomType: [\n\t\t\t[/>/, { token: 'delimiter', next: '@scriptEmbedded.$S2', nextEmbedded: '$S2' }],\n\t\t\t[/\"([^\"]*)\"/, 'attribute.value'],\n\t\t\t[/'([^']*)'/, 'attribute.value'],\n\t\t\t[/[\\w\\-]+/, 'attribute.name'],\n\t\t\t[/=/, 'delimiter'],\n\t\t\t[/[ \\t\\r\\n]+/], // whitespace\n\t\t\t[/<\\/script\\s*>/, { token: '@rematch', next: '@pop' }]\n\t\t],\n\n\t\tscriptEmbedded: [\n\t\t\t[/<\\/script/, { token: '@rematch', next: '@pop', nextEmbedded: '@pop' }],\n\t\t\t[/[^<]+/, '']\n\t\t],\n\n\t\t// After <style\n\t\tstyle: [\n\t\t\t[/type/, 'attribute.name', '@styleAfterType'],\n\t\t\t[/lang/, 'attribute.name', '@styleAfterType'],\n\t\t\t[/\"([^\"]*)\"/, 'attribute.value'],\n\t\t\t[/'([^']*)'/, 'attribute.value'],\n\t\t\t[/[\\w\\-]+/, 'attribute.name'],\n\t\t\t[/=/, 'delimiter'],\n\t\t\t[/>/, { token: 'delimiter', next: '@styleEmbedded', nextEmbedded: 'text/css' }],\n\t\t\t[/[ \\t\\r\\n]+/], // whitespace\n\t\t\t[/(<\\/)(style\\s*)(>)/, ['delimiter', 'tag', { token: 'delimiter', next: '@pop' }]]\n\t\t],\n\n\t\t// After <style ... type\n\t\tstyleAfterType: [\n\t\t\t[/=/, 'delimiter', '@styleAfterTypeEquals'],\n\t\t\t[/>/, { token: 'delimiter', next: '@styleEmbedded', nextEmbedded: 'text/css' }], // cover invalid e.g. <style type>\n\t\t\t[/[ \\t\\r\\n]+/], // whitespace\n\t\t\t[/<\\/style\\s*>/, { token: '@rematch', next: '@pop' }]\n\t\t],\n\n\t\t// After <style ... type =\n\t\tstyleAfterTypeEquals: [\n\t\t\t[/\"([^\"]*)\"/, { token: 'attribute.value', switchTo: '@styleWithCustomType.$1' }],\n\t\t\t[/'([^']*)'/, { token: 'attribute.value', switchTo: '@styleWithCustomType.$1' }],\n\t\t\t[/>/, { token: 'delimiter', next: '@styleEmbedded', nextEmbedded: 'text/css' }], // cover invalid e.g. <style type=>\n\t\t\t[/[ \\t\\r\\n]+/], // whitespace\n\t\t\t[/<\\/style\\s*>/, { token: '@rematch', next: '@pop' }]\n\t\t],\n\n\t\t// After <style ... type = $S2\n\t\tstyleWithCustomType: [\n\t\t\t[/>/, { token: 'delimiter', next: '@styleEmbedded.$S2', nextEmbedded: '$S2' }],\n\t\t\t[/\"([^\"]*)\"/, 'attribute.value'],\n\t\t\t[/'([^']*)'/, 'attribute.value'],\n\t\t\t[/[\\w\\-]+/, 'attribute.name'],\n\t\t\t[/=/, 'delimiter'],\n\t\t\t[/[ \\t\\r\\n]+/], // whitespace\n\t\t\t[/<\\/style\\s*>/, { token: '@rematch', next: '@pop' }]\n\t\t],\n\n\t\tstyleEmbedded: [\n\t\t\t[/<\\/style/, { token: '@rematch', next: '@pop', nextEmbedded: '@pop' }],\n\t\t\t[/[^<]+/, '']\n\t\t]\n\t}\n};","var names = {\n\taccess: 'delimiter.access',\n\tivar: 'variable.instance',\n\tconstant: 'identifier.const'\n};\n\nvar conf = exports.conf = {\n\twordPattern: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#%\\^\\&\\*\\(\\)\\=\\$\\-\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g,\n\tcomments: {\n\t\tblockComment: ['###','###'],\n\t\tlineComment: '#'\n\t},\n\tbrackets: [\n\t\t['{','}','delimiter.curly'],\n\t\t['[',']','delimiter.square'],\n\t\t['(',')','delimiter.parenthesis'],\n\t\t['<','>','delimiter.angle']\n\t],\n\tautoClosingPairs: [\n\t\t{open: '\"',close: '\"',notIn: ['string','comment']},\n\t\t{open: '\\'',close: '\\'',notIn: ['string','comment']},\n\t\t{open: '{',close: '}',notIn: ['comment']},\n\t\t{open: '[',close: ']',notIn: ['string','comment']},\n\t\t{open: '(',close: ')',notIn: ['string','comment']},\n\t\t{open: '<',close: '>',notIn: ['string','comment','operators']}\n\t],\n\tonEnterRules: [{\n\t\tbeforeText: /^\\s*(?:def|class|for|if|elif|else|while|try|with|finally|except|async).*?$/,\n\t\taction: {indentAction: 1}\n\t},{\n\t\tbeforeText: /\\s*(?:do)\\s*(\\|.*\\|\\s*)?$/,\n\t\taction: {indentAction: 1}\n\t}]\n};\n\n// ivar namespace.instance.identifier\n// constant constructor.identifier\nvar language = exports.language = {\n\tdefaultToken: 'invalid',\n\tignoreCase: false,\n\ttokenPostfix: '.imba',\n\tbrackets: [\n\t\t{open: '{',close: '}',token: 'delimiter.curly'},\n\t\t{open: '[',close: ']',token: 'delimiter.square'},\n\t\t{open: '(',close: ')',token: 'delimiter.parenthesis'}\n\t],\n\tkeywords: [\n\t\t'def','and','or','is','isnt','not','on','yes','@','no','off',\n\t\t'true','false','null','this','self',\n\t\t'new','delete','typeof','in','instanceof',\n\t\t'return','throw','break','continue','debugger',\n\t\t'if','elif','else','switch','for','while','do','try','catch','finally',\n\t\t'class','extends','super',\n\t\t'undefined','then','unless','until','loop','of','by','when',\n\t\t'tag','prop','export','import','extend',\n\t\t'var','let','const','require','isa','await'\n\t],\n\tboolean: ['true','false','yes','no','undefined'],\n\tcontextual_keywords: [\n\t\t'from','global','attr'\n\t],\n\toperators: [\n\t\t'=','!','~','?',':','!!',\n\t\t'&','|','^','%','<<',\n\t\t'>>','>>>','+=','-=','*=','/=','&=','|=','?=',\n\t\t'^=','%=','<<=','>>=','>>>=','..','...'\n\t],\n\tlogic: [\n\t\t'>','<','==','<=','>=','!=','&&','||','===','!=='\n\t],\n\tranges: ['..','...'],\n\tdot: ['.'],\n\tmath: [\n\t\t'+','-','*','/','++','--'\n\t],\n\t\n\t// we include these common regular expressions\n\tsymbols: /[=><!~?&%|+\\-*\\/\\^\\.,\\:]+/,\n\tescapes: /\\\\(?:[abfnrtv\\\\\"'$]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\tpostaccess: /(:(?=\\w))?/,\n\tivar: /\\@[a-zA-Z_]\\w*/,\n\tconstant: /[A-Z][A-Za-z\\d\\-\\_]*/,\n\tclassName: /[A-Z][A-Za-z\\d\\-\\_]*|[A-Za-z\\d\\-\\_]+/,\n\tmethodName: /[A-Za-z\\_][A-Za-z\\d\\-\\_]*\\=?/,\n\tidentifier: /[a-z_][A-Za-z\\d\\-\\_]*/,\n\t\n\tregEx: /\\/(?!\\/\\/)(?:[^\\/\\\\]|\\\\.)*\\/[igm]*/,\n\t\n\tregexpctl: /[(){}\\[\\]\\$\\^|\\-*+?\\.]/,\n\tregexpesc: /\\\\(?:[bBdDfnrstvwWn0\\\\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,\n\t\n\t// The main tokenizer for our languages\n\ttokenizer: {\n\t\troot: [\n\t\t\t{include: '@body'}\n\t\t],\n\t\tbody: [\n\t\t\t[/([a-z]\\w*)(\\:)(?=\\w)/,{\n\t\t\t\tcases: {\n\t\t\t\t\t'this:': ['variable.predefined.this','delimiter.access'],\n\t\t\t\t\t'self:': ['variable.predefined.self','delimiter.access'],\n\t\t\t\t\t'@default': ['identifier','delimiter.access']\n\t\t\t\t}\n\t\t\t}],\n\t\t\t\n\t\t\t[/(@ivar)(\\:)(?=\\w)/,[names.ivar,names.access]],\n\t\t\t[/(@constant)(\\:)(?=\\w)/,[names.constant,names.access]],\n\t\t\t\n\t\t\t[/(class|tag|module)(?=\\s)/,{token: 'keyword.$1',next: '@declstart.$1'}],\n\t\t\t[/(def)(?=\\s)/,{token: 'keyword.$1',next: '@defstart.$1'}],\n\t\t\t[/(prop|attr)(?=\\s)/,{token: 'keyword.$1',next: '@propstart.$1'}],\n\t\t\t\n\t\t\t[/(import)(?=\\s)/,{token: 'keyword.$1',next: '@importstart.$1'}],\n\t\t\t\n\t\t\t[/([a-z]\\w*)(:?(?!\\w))/,{\n\t\t\t\tcases: {\n\t\t\t\t\t'$2': ['key.identifier','delimiter'],\n\t\t\t\t\t'this': 'variable.predefined.this',\n\t\t\t\t\t'self': 'variable.predefined.self',\n\t\t\t\t\t'$1@boolean': {token: 'boolean.$0'},\n\t\t\t\t\t'$1@keywords': {token: 'keyword.$0'},\n\t\t\t\t\t'$1@contextual_keywords': {token: 'identifier.$0'},\n\t\t\t\t\t'@default': ['identifier','delimiter']\n\t\t\t\t}\n\t\t\t}],\n\t\t\t\n\t\t\t// [/([a-z]\\w*)(:)(?!\\w))/, { cases: {\n\t\t\t// \t\t'$2': ['key.identifier','delimiter'],\n\t\t\t// \t\t'this': 'variable.predefined.this',\n\t\t\t// \t\t'self': 'variable.predefined.self',\n\t\t\t// \t\t'$1@keywords': { token: 'keyword.$0' },\n\t\t\t// \t\t'$1@contextual_keywords': { token: 'identifier.$0' },\n\t\t\t// \t\t'@default': ['identifier','delimiter']\n\t\t\t// \t}\n\t\t\t\n\t\t\t// }],\n\t\t\t\n\t\t\t// identifiers and keywords\n\t\t\t[/\\@[a-zA-Z_]\\w*/,'variable.instance'],\n\t\t\t[/\\$\\w+\\$/,'identifier.env'],\n\t\t\t[/\\$\\d+/,'identifier.special'],\n\t\t\t[/\\$[a-zA-Z_]\\w*/,'identifier.sys'],\n\t\t\t[/[A-Z][A-Za-z\\d\\-\\_]*/,{token: 'identifier.const'}],\n\t\t\t[/[a-z_][A-Za-z\\d\\-\\_]*/,{token: 'identifier'}],\n\t\t\t\n\t\t\t[/\\(/,{token: 'paren.open',next: '@parens'}],\n\t\t\t\n\t\t\t// whitespace\n\t\t\t{include: '@whitespace'},\n\t\t\t{include: '@tag'},\n\t\t\t{include: '@tag_singleton_ref'},\n\t\t\t\n\t\t\t// Comments\n\t\t\t[/### (javascript|compiles to)\\:/,{token: 'comment',next: '@js_comment',nextEmbedded: 'text/javascript'}],\n\t\t\t\n\t\t\t{include: '@comments'},\n\t\t\t[/(\\:)([\\@\\w\\-\\_]+)/,['symbol.start','symbol']],\n\t\t\t[/\\$\\d+/,'entity.special.arg'],\n\t\t\t[/\\&/,'operator'],\n\t\t\t\n\t\t\t// regular expressions\n\t\t\t[/\\/(?!\\ )(?=([^\\\\\\/]|\\\\.)+\\/)/,{token: 'regexp.slash',bracket: '@open',next: '@regexp'}],\n\t\t\t\n\t\t\t// ['///', { token: 'regexp', next: '@hereregexp' }],\n\t\t\t// [/^(\\s*)(@regEx)/, ['', 'regexp']],\n\t\t\t// [/(\\()(\\s*)(@regEx)/, ['@brackets', '', 'regexp']],\n\t\t\t// [/(\\,)(\\s*)(@regEx)/, ['delimiter', '', 'regexp']],\n\t\t\t// [/(\\=)(\\s*)(@regEx)/, ['delimiter', '', 'regexp']],\n\t\t\t// [/(\\:)(\\s*)(@regEx)/, ['delimiter', '', 'regexp']],\n\t\t\t// [/(\\[)(\\s*)(@regEx)/, ['@brackets', '', 'regexp']],\n\t\t\t// [/(\\!)(\\s*)(@regEx)/, ['delimiter', '', 'regexp']],\n\t\t\t// [/(\\&)(\\s*)(@regEx)/, ['delimiter', '', 'regexp']],\n\t\t\t// [/(\\|)(\\s*)(@regEx)/, ['delimiter', '', 'regexp']],\n\t\t\t// [/(\\?)(\\s*)(@regEx)/, ['delimiter', '', 'regexp']],\n\t\t\t// [/(\\{)(\\s*)(@regEx)/, ['@brackets', '', 'regexp']],\n\t\t\t// [/(\\;)(\\s*)(@regEx)/, ['', '', 'regexp']],\n\t\t\t// \n\t\t\t[/}/,{cases: {\n\t\t\t\t'$S2==interpolatedstring': {token: 'string',next: '@pop'},\n\t\t\t\t'@default': '@brackets'\n\t\t\t}}],\n\t\t\t[/[\\{\\}\\(\\)\\[\\]]/,'@brackets'],\n\t\t\t{include: '@operators'},\n\t\t\t\n\t\t\t// numbers\n\t\t\t{include: '@number'},\n\t\t\t// delimiter: after number because of .\\d floats\n\t\t\t[/[,]/,'delimiter.comma'],\n\t\t\t[/[.]/,'delimiter.dot'],\n\t\t\t// strings:\n\t\t\t[/\"\"\"/,'string','@herestring.\"\"\"'],\n\t\t\t[/'''/,'string','@herestring.\\'\\'\\''],\n\t\t\t[/\"/,{cases: {'@eos': 'string','@default': {token: 'string',next: '@string.\"'}}}],\n\t\t\t[/'/,{cases: {'@eos': 'string','@default': {token: 'string',next: '@string.\\''}}}]\n\t\t],\n\t\tjs_comment: [\n\t\t\t[/###/,{token: 'comment',next: '@pop',nextEmbedded: '@pop'}]\n\t\t],\n\t\t\n\t\tstring_start: [\n\t\t\t[/\"\"\"/,'string','@herestring.\"\"\"'],\n\t\t\t[/'''/,'string','@herestring.\\'\\'\\''],\n\t\t\t[/\"/,{cases: {'@eos': 'string','@default': {token: 'string',next: '@string.\"'}}}],\n\t\t\t[/'/,{cases: {'@eos': 'string','@default': {token: 'string',next: '@string.\\''}}}]\n\t\t],\n\t\tvalue: [\n\t\t\t{include: 'string_start'},\n\t\t\t{include: '@number'}\n\t\t],\n\t\tunspaced_expr: [\n\t\t\t[/([a-z]\\w*)(\\:)(?=\\w)/,{\n\t\t\t\tcases: {\n\t\t\t\t\t'this:': ['variable.predefined.this','delimiter.access'],\n\t\t\t\t\t'self:': ['variable.predefined.self','delimiter.access'],\n\t\t\t\t\t'@default': ['identifier','delimiter.access']\n\t\t\t\t}\n\t\t\t}],\n\t\t\t\n\t\t\t[/(@ivar)(\\:)(?=\\w)/,[names.ivar,names.access]],\n\t\t\t[/(@constant)(\\:)(?=\\w)/,[names.constant,names.access]]\n\t\t],\n\t\tnumber: [\n\t\t\t[/\\d+[eE]([\\-+]?\\d+)?/,'number.float'],\n\t\t\t[/\\d+\\.\\d+([eE][\\-+]?\\d+)?/,'number.float'],\n\t\t\t[/0[xX][0-9a-fA-F]+/,'number.hex'],\n\t\t\t[/0[0-7]+(?!\\d)/,'number.octal'],\n\t\t\t[/\\d+/,'number']\n\t\t],\n\t\toperators: [\n\t\t\t[/@symbols/,{cases: {\n\t\t\t\t'@operators': 'operator',\n\t\t\t\t'@math': 'operator.math',\n\t\t\t\t'@logic': 'operator.logic',\n\t\t\t\t'@dot': 'operator.dot',\n\t\t\t\t'@default': 'delimiter'\n\t\t\t}}],\n\t\t\t[/\\&\\b/,'operator']\n\t\t],\n\t\twhitespace: [\n\t\t\t[/[ \\t\\r\\n]+/,'white']\n\t\t],\n\t\tcomments: [\n\t\t\t[/###/,'comment','@comment'],\n\t\t\t[/#(\\s.*)?$/,'comment']\n\t\t],\n\t\t\n\t\ttag: [\n\t\t\t[/\\<\\>/,{token: 'tag.empty'}],\n\t\t\t[/(<)([a-z][a-z\\-\\d]*(?:\\:[A-Za-z\\-\\d]+)?)/,['tag.open',{token: 'tag.name.tag-$2',next: '@tag_start'}]],\n\t\t\t[/(<)([A-Z][A-Za-z\\-\\d]*)/,['tag.open',{token: 'tag.name.local',next: '@tag_start'}]],\n\t\t\t[/(<)(?=[a-z\\d\\#\\.\\{\\@])/,{token: 'tag.open',next: '@tag_start'}]\n\t\t],\n\t\ttag_singleton_ref: [\n\t\t\t[/\\#(-*[a-zA-Z][\\w\\-]*)+/,'tag.singleton.ref']\n\t\t],\n\t\ttag_parts: [\n\t\t\t[/\\#(-*[a-zA-Z][\\w\\-]*)/,'tag.id'],\n\t\t\t[/\\.(-*[a-zA-Z][\\w\\-]*)/,'tag.class'],\n\t\t\t[/\\@(-*[a-zA-Z][\\w\\-]*)/,'tag.iref'],\n\t\t\t[/[\\#\\.\\@]\\{/,{token: 'tag.interpolated.open',next: '@tag_inter'}]\n\t\t],\n\t\ttag_start: [\n\t\t\t[/[ \\t\\r\\n]+/,{token: 'white',switchTo: '@tag_content'}],\n\t\t\t{include: 'tag_parts'},\n\t\t\t[/\\[/,{token: 'tag.data.open',next: '@tag_data'}],\n\t\t\t[/[\\=\\-]?\\>/,{token: 'tag.close',next: '@pop'}]\n\t\t],\n\t\ttag_inter: [\n\t\t\t['}',{token: 'tag.interpolated.close',next: '@pop'}],\n\t\t\t{include: 'body'}\n\t\t],\n\t\ttag_data: [\n\t\t\t[']',{token: 'tag.data.close',next: '@pop'}],\n\t\t\t{include: 'body'}\n\t\t],\n\t\ttag_content: [\n\t\t\t// [/(\\:[a-zA-Z][\\w\\-]*)((?:\\.[a-zA-Z][\\w\\-]*)+|)\\s*(\\=)\\s*/, ['tag.attribute.listener','tag.attribute.modifier','tag.attribute'], '@tag_attr_value'],\n\t\t\t[/(\\:[a-zA-Z][\\w\\-]*)((?:\\.[a-zA-Z][\\w\\-]*)+)/,['tag.attribute.listener','tag.attribute.modifier']],\n\t\t\t\n\t\t\t[/(\\:[a-zA-Z][\\w\\-]*)/,{token: 'tag.attribute.listener'}],\n\t\t\t// [/(\\.[a-zA-Z\\-][\\w\\-]*)/, { token: 'tag.class.conditional'}],\n\t\t\t[/([a-zA-Z\\-][\\w\\-]*(\\:[a-zA-Z][\\w\\-]*)?)/,{token: 'tag.attribute.name'}],\n\t\t\t// [/([\\:][a-zA-Z][\\w\\-]*([\\:\\.][a-zA-Z][\\w\\-]*)*)\\s*(\\=)\\s*/, { token: 'tag.attribute.listener', next: '@tag_attr_value' }],\n\t\t\t// [/([@\\.]?[a-zA-Z][\\w\\-]*([\\:\\.][a-zA-Z][\\w\\-]*)*)\\s*(\\=)\\s*/, { token: 'tag.attribute', next: '@tag_attr_value' }],\n\t\t\t\n\t\t\t{include: 'tag_parts'},\n\t\t\t{include: '@whitespace'},\n\t\t\t// ['>', { token: 'tag.close', next: '@pop' }],\n\t\t\t[/[\\=\\-]?\\>/,{token: 'tag.close',next: '@pop'}],\n\t\t\t// [/\\s*\\=\\s*(?!\\>)/, { token: 'tag.attribute.operator', next: '@tag_attr_value' }],\n\t\t\t[/(\\=)\\s*/,{token: 'delimiter.eq.tag',next: '@tag_attr_value'}], // switch to rather?\n\t\t\t[/\\(/,{token: 'paren.open.tag',next: '@tag_parens'}]\n\t\t],\n\t\ttag_attr_value: [\n\t\t\t[/(?=(\\:?[\\w]+\\=))/,{token: '',next: '@pop'}],\n\t\t\t[/(?=(\\>|\\s))/,{token: '',next: '@pop'}],\n\t\t\t[/\\(/,{token: 'paren.open',next: '@parens'}],\n\t\t\t[/\\{/,{token: 'brace.open',next: '@braces'}],\n\t\t\t[/\\[/,{token: 'bracket.open',next: '@brackets'}],\n\t\t\t{include: 'body'}\n\t\t// { include: 'unspaced_expr'},\n\t\t// [/\\(/, { token: 'paren.open', next: '@parens' }],\n\t\t// [/\\{/, { token: 'brace.open', next: '@braces' }]\n\t\t],\n\t\ttag_parens: [\n\t\t\t[/\\)/,{token: 'paren.close.tag',next: '@pop'}],\n\t\t\t[/(\\))(\\:?)/,['paren.close.tag','delimiter.colon'],'@pop'],\n\t\t\t{include: 'body'}\n\t\t],\n\t\timportstart: [\n\t\t\t[/^./,{token: '@rematch',next: '@pop'}],\n\t\t\t[/(from|as)/,{token: 'keyword.$1'}],\n\t\t\t[/[\\{\\}\\,]/,{token: 'keyword'}],\n\t\t\t[/\"\"\"/,'string','@herestring.\"\"\"'],\n\t\t\t[/'''/,'string','@herestring.\\'\\'\\''],\n\t\t\t[/\"/,{cases: {'@eos': 'string','@default': {token: 'string',next: '@string.\"'}}}],\n\t\t\t[/'/,{cases: {'@eos': 'string','@default': {token: 'string',next: '@string.\\''}}}],\n\t\t\t[/[a-z_A-Z][A-Za-z\\d\\-\\_]*/,{token: 'identifier.import'}]\n\t\t],\n\t\t\n\t\tparens: [\n\t\t\t[/\\)/,{token: 'paren.close',next: '@pop'}],\n\t\t\t[/(\\))(\\:?)/,['paren.close','delimiter.colon'],'@pop'],\n\t\t\t{include: 'body'}\n\t\t],\n\t\tbraces: [\n\t\t\t['}',{token: 'brace.close',next: '@pop'}],\n\t\t\t{include: 'body'}\n\t\t],\n\t\tbrackets: [\n\t\t\t[']',{token: 'bracket.close',next: '@pop'}],\n\t\t\t{include: 'body'}\n\t\t],\n\t\t\n\t\tdeclstart: [\n\t\t\t[/^./,{token: '@rematch',next: '@pop'}],\n\t\t\t[/[A-Z][A-Za-z\\d\\-\\_]*/,{token: 'identifier.decl.$S2'}],\n\t\t\t[/\\./,{token: 'delimiter.dot'}],\n\t\t\t[/[a-z_][A-Za-z\\d\\-\\_]*/,{token: 'identifier.decl.$S2'}],\n\t\t\t[/[ \\t\\<\\>]+/,'operator.inherits string']\n\t\t],\n\t\t\n\t\tdefstart: [\n\t\t\t[/(self)\\./,{token: 'identifier.decl.def.self'}],\n\t\t\t[/@methodName/,{token: 'identifier.decl.def',next: '@pop'}],\n\t\t\t[/^./,{token: '@rematch',next: '@pop'}]\n\t\t],\n\t\t\n\t\tpropstart: [\n\t\t\t[/@identifier/,{token: 'identifier.decl.$S2',next: '@pop'}],\n\t\t\t[/^./,{token: '@rematch',next: '@pop'}]\n\t\t],\n\t\t\n\t\t\n\t\tstring: [\n\t\t\t[/[^\"'\\{\\\\]+/,'string'],\n\t\t\t[/@escapes/,'string.escape'],\n\t\t\t[/\\./,'string.escape.invalid'],\n\t\t\t[/\\./,'string.escape.invalid'],\n\t\t\t[/\\{/,{cases: {'$S2==\"': {token: 'string',next: 'root.interpolatedstring'},'@default': 'string'}}],\n\t\t\t[/[\"']/,{cases: {'$#==$S2': {token: 'string',next: '@pop'},'@default': 'string'}}],\n\t\t\t[/#/,'string']\n\t\t],\n\t\therestring: [\n\t\t\t[/(\"\"\"|''')/,{cases: {'$1==$S2': {token: 'string',next: '@pop'},'@default': 'string'}}],\n\t\t\t[/[^#\\\\'\"\\{]+/,'string'],\n\t\t\t[/['\"]+/,'string'],\n\t\t\t[/@escapes/,'string.escape'],\n\t\t\t[/\\./,'string.escape.invalid'],\n\t\t\t[/\\{/,{cases: {'$S2==\"\"\"': {token: 'string',next: 'root.interpolatedstring'},'@default': 'string'}}],\n\t\t\t[/#/,'string']\n\t\t],\n\t\tcomment: [\n\t\t\t[/[^#]+/,'comment'],\n\t\t\t[/###/,'comment','@pop'],\n\t\t\t[/#/,'comment']\n\t\t],\n\t\thereregexp: [\n\t\t\t[/[^\\\\\\/#]/,'regexp'],\n\t\t\t[/\\\\./,'regexp'],\n\t\t\t[/#.*$/,'comment'],\n\t\t\t['///[igm]*',{token: 'regexp',next: '@pop'}],\n\t\t\t[/\\//,'regexp']\n\t\t],\n\t\t\n\t\tregexp: [\n\t\t\t[/(\\{)(\\d+(?:,\\d*)?)(\\})/,['regexp.escape.control','regexp.escape.control','regexp.escape.control']],\n\t\t\t[/(\\[)(\\^?)(?=(?:[^\\]\\\\\\/]|\\\\.)+)/,['regexp.escape.control',{token: 'regexp.escape.control',next: '@regexrange'}]],\n\t\t\t[/(\\()(\\?:|\\?=|\\?!)/,['regexp.escape.control','regexp.escape.control']],\n\t\t\t[/[()]/,'regexp.escape.control'],\n\t\t\t[/@regexpctl/,'regexp.escape.control'],\n\t\t\t[/[^\\\\\\/]/,'regexp'],\n\t\t\t[/@regexpesc/,'regexp.escape'],\n\t\t\t[/\\\\\\./,'regexp.invalid'],\n\t\t\t['/',{token: 'regexp.slash',bracket: '@close'},'@pop']\n\t\t],\n\t\t\n\t\tregexrange: [\n\t\t\t[/-/,'regexp.escape.control'],\n\t\t\t[/\\^/,'regexp.invalid'],\n\t\t\t[/@regexpesc/,'regexp.escape'],\n\t\t\t[/[^\\]]/,'regexp'],\n\t\t\t[/\\]/,'regexp.escape.control','@pop']\n\t\t]\n\t}\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexports.conf = {\n\t// the default separators except `@$`\n\twordPattern: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\#\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g,\n\tcomments: {\n\t\tlineComment: '//',\n\t\tblockComment: ['/*', '*/'],\n\t},\n\tbrackets: [\n\t\t['{', '}'],\n\t\t['[', ']'],\n\t\t['(', ')'],\n\t],\n\tautoClosingPairs: [\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '\"', close: '\"' },\n\t\t{ open: '\\'', close: '\\'' },\n\t],\n\tsurroundingPairs: [\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '\"', close: '\"' },\n\t\t{ open: '\\'', close: '\\'' },\n\t\t{ open: '<', close: '>' },\n\t]\n};\n\nexports.language = {\n\tdefaultToken: '',\n\ttokenPostfix: '.java',\n\n\tkeywords: [\n\t\t'abstract', 'continue', 'for', 'new', 'switch', 'assert', 'default',\n\t\t'goto', 'package', 'synchronized', 'boolean', 'do', 'if', 'private',\n\t\t'this', 'break', 'double', 'implements', 'protected', 'throw', 'byte',\n\t\t'else', 'import', 'public', 'throws', 'case', 'enum', 'instanceof', 'return',\n\t\t'transient', 'catch', 'extends', 'int', 'short', 'try', 'char', 'final',\n\t\t'interface', 'static', 'void', 'class', 'finally', 'long', 'strictfp',\n\t\t'volatile', 'const', 'float', 'native', 'super', 'while', 'true', 'false'\n\t],\n\n\toperators: [\n\t\t'=', '>', '<', '!', '~', '?', ':',\n\t\t'==', '<=', '>=', '!=', '&&', '||', '++', '--',\n\t\t'+', '-', '*', '/', '&', '|', '^', '%', '<<',\n\t\t'>>', '>>>', '+=', '-=', '*=', '/=', '&=', '|=',\n\t\t'^=', '%=', '<<=', '>>=', '>>>='\n\t],\n\n\t// we include these common regular expressions\n\tsymbols: /[=><!~?:&|+\\-*\\/\\^%]+/,\n\tescapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\tdigits: /\\d+(_+\\d+)*/,\n\toctaldigits: /[0-7]+(_+[0-7]+)*/,\n\tbinarydigits: /[0-1]+(_+[0-1]+)*/,\n\thexdigits: /[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,\n\n\t// The main tokenizer for our languages\n\ttokenizer: {\n\t\troot: [\n\t\t\t// identifiers and keywords\n\t\t\t[/[a-zA-Z_$][\\w$]*/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'@keywords': { token: 'keyword.$0' },\n\t\t\t\t\t'@default': 'identifier'\n\t\t\t\t}\n\t\t\t}],\n\n\t\t\t// whitespace\n\t\t\t{ include: '@whitespace' },\n\n\t\t\t// delimiters and operators\n\t\t\t[/[{}()\\[\\]]/, '@brackets'],\n\t\t\t[/[<>](?!@symbols)/, '@brackets'],\n\t\t\t[/@symbols/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'@operators': 'delimiter',\n\t\t\t\t\t'@default': ''\n\t\t\t\t}\n\t\t\t}],\n\n\t\t\t// @ annotations.\n\t\t\t[/@\\s*[a-zA-Z_\\$][\\w\\$]*/, 'annotation'],\n\n\t\t\t// numbers\n\t\t\t[/(@digits)[eE]([\\-+]?(@digits))?[fFdD]?/, 'number.float'],\n\t\t\t[/(@digits)\\.(@digits)([eE][\\-+]?(@digits))?[fFdD]?/, 'number.float'],\n\t\t\t[/0[xX](@hexdigits)[Ll]?/, 'number.hex'],\n\t\t\t[/0(@octaldigits)[Ll]?/, 'number.octal'],\n\t\t\t[/0[bB](@binarydigits)[Ll]?/, 'number.binary'],\n\t\t\t[/(@digits)[fFdD]/, 'number.float'],\n\t\t\t[/(@digits)[lL]?/, 'number'],\n\n\t\t\t// delimiter: after number because of .\\d floats\n\t\t\t[/[;,.]/, 'delimiter'],\n\n\t\t\t// strings\n\t\t\t[/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n\t\t\t[/\"/, 'string', '@string'],\n\n\t\t\t// characters\n\t\t\t[/'[^\\\\']'/, 'string'],\n\t\t\t[/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n\t\t\t[/'/, 'string.invalid']\n\t\t],\n\n\t\twhitespace: [\n\t\t\t[/[ \\t\\r\\n]+/, ''],\n\t\t\t[/\\/\\*\\*(?!\\/)/, 'comment.doc', '@javadoc'],\n\t\t\t[/\\/\\*/, 'comment', '@comment'],\n\t\t\t[/\\/\\/.*$/, 'comment'],\n\t\t],\n\n\t\tcomment: [\n\t\t\t[/[^\\/*]+/, 'comment'],\n\t\t\t// [/\\/\\*/, 'comment', '@push' ],    // nested comment not allowed :-(\n\t\t\t// [/\\/\\*/,    'comment.invalid' ],    // this breaks block comments in the shape of /* //*/\n\t\t\t[/\\*\\//, 'comment', '@pop'],\n\t\t\t[/[\\/*]/, 'comment']\n\t\t],\n\t\t//Identical copy of comment above, except for the addition of .doc\n\t\tjavadoc: [\n\t\t\t[/[^\\/*]+/, 'comment.doc'],\n\t\t\t// [/\\/\\*/, 'comment.doc', '@push' ],    // nested comment not allowed :-(\n\t\t\t[/\\/\\*/, 'comment.doc.invalid'],\n\t\t\t[/\\*\\//, 'comment.doc', '@pop'],\n\t\t\t[/[\\/*]/, 'comment.doc']\n\t\t],\n\n\t\tstring: [\n\t\t\t[/[^\\\\\"]+/, 'string'],\n\t\t\t[/@escapes/, 'string.escape'],\n\t\t\t[/\\\\./, 'string.escape.invalid'],\n\t\t\t[/\"/, 'string', '@pop']\n\t\t],\n\t},\n};\n","var language = exports.language = {\n\ttokenPostfix: '.js',\n\t\n\tkeywords: [\n\t\t'boolean','break','byte','case','catch','char','class','const','continue','debugger',\n\t\t'default','delete','do','double','else','enum','export','extends','false','final',\n\t\t'finally','float','for','function','goto','if','implements','in',\n\t\t'instanceof','int','interface','long','native','new','null','package','private',\n\t\t'protected','public','return','short','static','super','switch','synchronized','this',\n\t\t'throw','throws','transient','true','try','typeof','var','void','volatile','while',\n\t\t'with','let','await','async'\n\t],\n\t\n\tbuiltins: [\n\t\t'define','require','window','document','undefined'\n\t],\n\t\n\toperators: [\n\t\t'=','>','<','!','~','?',':',\n\t\t'==','<=','>=','!=','&&','||','++','--',\n\t\t'+','-','*','/','&','|','^','%','<<',\n\t\t'>>','>>>','+=','-=','*=','/=','&=','|=',\n\t\t'^=','%=','<<=','>>=','>>>='\n\t],\n\t\n\t// define our own brackets as '<' and '>' do not match in javascript\n\tbrackets: [\n\t\t{open: '(',close: ')',token: 'bracket.parenthesis'},\n\t\t{open: '{',close: '}',token: 'bracket.curly'},\n\t\t{open: '[',close: ']',token: 'bracket.square'}\n\t],\n\t\n\t// common regular expressions\n\tsymbols: /[~!@#%\\^&*-+=|\\\\:`<>.?\\/]+/,\n\tescapes: /\\\\(?:[btnfr\\\\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,\n\texponent: /[eE][\\-+]?[0-9]+/,\n\t\n\tregexpctl: /[(){}\\[\\]\\$\\^|\\-*+?\\.]/,\n\tregexpesc: /\\\\(?:[bBdDfnrstvwWn0\\\\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,\n\t\n\ttokenizer: {\n\t\troot: [\n\t\t\t// identifiers and keywords\n\t\t\t[/([a-zA-Z_\\$][\\w\\$]*)(\\s*)(:?)/,{\n\t\t\t\tcases: {\n\t\t\t\t\t'$1==import': {token: 'keyword',next: '@import'}, // ['keyword','white','delimiter', '@import'],\n\t\t\t\t\t'$1@keywords': ['keyword','white','delimiter'],\n\t\t\t\t\t'$3': ['key.identifier','white','delimiter'], // followed by :\n\t\t\t\t\t'$1@builtins': ['predefined.identifier','white','delimiter'],\n\t\t\t\t\t'@default': ['identifier','white','delimiter']\n\t\t\t\t}\n\t\t\t}],\n\t\t\t\n\t\t\t// whitespace\n\t\t\t{include: '@whitespace'},\n\t\t\t\n\t\t\t// regular expression: ensure it is terminated before beginning (otherwise it is an opeator)\n\t\t\t[/\\/(?=([^\\\\\\/]|\\\\.)+\\/(?!\\/))/,{token: 'regexp.slash',bracket: '@open',next: '@regexp'}],\n\t\t\t\n\t\t\t[/(<)([:\\w]+)/,['start.delimiter.tag',{token: 'tag',next: '@tagContent'}]],\n\t\t\t\n\t\t\t// delimiters and operators\n\t\t\t[/[{}()\\[\\]]/,'@brackets'],\n\t\t\t[/[;,.]/,'delimiter'],\n\t\t\t[/@symbols/,{cases: {'@operators': 'operator','@default': ''}}],\n\t\t\t\n\t\t\t// numbers\n\t\t\t[/\\d+\\.\\d*(@exponent)?/,'number.float'],\n\t\t\t[/\\.\\d+(@exponent)?/,'number.float'],\n\t\t\t[/\\d+@exponent/,'number.float'],\n\t\t\t[/0[xX][\\da-fA-F]+/,'number.hex'],\n\t\t\t[/0[0-7]+/,'number.octal'],\n\t\t\t[/\\d+/,'number'],\n\t\t\t\n\t\t\t{include: '@strings'}\n\t\t],\n\t\t\n\t\tstrings: [\n\t\t\t// strings: recover on non-terminated strings\n\t\t\t[/\"([^\"\\\\]|\\\\.)*$/,'string.invalid'], // non-teminated string\n\t\t\t[/'([^'\\\\]|\\\\.)*$/,'string.invalid'], // non-teminated string\n\t\t\t[/\"/,'string','@string.\"'],\n\t\t\t[/'/,'string','@string.\\'']\n\t\t],\n\t\t\n\t\trootInBrace: [\n\t\t\t[/\\}/,'delimiter','@pop'],\n\t\t\t{include: '@root'}\n\t\t],\n\t\t\n\t\ttagContent: [\n\t\t\t[/\\/\\s*>/,'delimiter','@pop'],\n\t\t\t[/>/,{token: 'end.delimiter.tag',switchTo: '@tagBody'}],\n\t\t\t[/\"([^\"]*)\"/,'attribute.value'],\n\t\t\t[/'([^']*)'/,'attribute.value'],\n\t\t\t[/[\\w\\-]+/,'attribute.name'],\n\t\t\t[/\\=/,'delimiter'],\n\t\t\t[/\\{/,'delimiter','@rootInBrace'],\n\t\t\t{include: '@whitespace'}\n\t\t],\n\t\t\n\t\ttagBody: [\n\t\t\t[/\\{/,'delimiter','@rootInBrace'],\n\t\t\t[/(<)([:\\w]+)/,['start.delimiter.tag',{token: 'tag',next: '@tagContent'}]],\n\t\t\t[/(<\\/)(\\w+)(>)/,['delimiter','tag',{token: 'delimiter',next: '@pop'}]]\n\t\t],\n\t\t\n\t\timport: [\n\t\t\t[/;/,'delimiter','@pop'],\n\t\t\t[/^/,'white','@pop'],\n\t\t\t[/\\b(from|as)\\b/,'keyword'],\n\t\t\t{include: '@whitespace'},\n\t\t\t{include: '@strings'}\n\t\t],\n\t\t\n\t\twhitespace: [\n\t\t\t[/[ \\t\\r\\n]+/,'white'],\n\t\t\t[/\\/\\*/,'comment','@comment'],\n\t\t\t[/\\/\\/.*$/,'comment']\n\t\t],\n\t\t\n\t\tcomment: [\n\t\t\t[/[^\\/*]+/,'comment'],\n\t\t\t// [/\\/\\*/, 'comment', '@push' ],    # nested comment not allowed :-(\n\t\t\t[/\\/\\*/,'comment.invalid'],\n\t\t\t[\"\\\\*/\",'comment','@pop'],\n\t\t\t[/[\\/*]/,'comment']\n\t\t],\n\t\t\n\t\tstring: [\n\t\t\t[/[^\\\\\"']+/,'string'],\n\t\t\t[/@escapes/,'string.escape'],\n\t\t\t[/\\\\./,'string.escape.invalid'],\n\t\t\t[/[\"']/,{\n\t\t\t\tcases: {\n\t\t\t\t\t'$#==$S2': {token: 'string',next: '@pop'},\n\t\t\t\t\t'@default': 'string'\n\t\t\t\t}\n\t\t\t}]\n\t\t],\n\t\t\n\t\t// We match regular expression quite precisely\n\t\tregexp: [\n\t\t\t[/(\\{)(\\d+(?:,\\d*)?)(\\})/,['@brackets.regexp.escape.control','regexp.escape.control','@brackets.regexp.escape.control']],\n\t\t\t[/(\\[)(\\^?)(?=(?:[^\\]\\\\\\/]|\\\\.)+)/,['@brackets.regexp.escape.control',{token: 'regexp.escape.control',next: '@regexrange'}]],\n\t\t\t[/(\\()(\\?:|\\?=|\\?!)/,['@brackets.regexp.escape.control','regexp.escape.control']],\n\t\t\t[/[()]/,'@brackets.regexp.escape.control'],\n\t\t\t[/@regexpctl/,'regexp.escape.control'],\n\t\t\t[/[^\\\\\\/]/,'regexp'],\n\t\t\t[/@regexpesc/,'regexp.escape'],\n\t\t\t[/\\\\\\./,'regexp.invalid'],\n\t\t\t['/',{token: 'regexp.slash',bracket: '@close'},'@pop']\n\t\t],\n\t\t\n\t\tregexrange: [\n\t\t\t[/-/,'regexp.escape.control'],\n\t\t\t[/\\^/,'regexp.invalid'],\n\t\t\t[/@regexpesc/,'regexp.escape'],\n\t\t\t[/[^\\]]/,'regexp'],\n\t\t\t[/\\]/,'@brackets.regexp.escape.control','@pop']\n\t\t]\n\t}\n};\n","// add javascript as well\n\nvar imba = exports.imba = {\n\tid: 'imba',\n\textensions: ['.imba'],\n\taliases: ['Imba','imba'],\n\tmimetypes: ['application/imba'],\n\tlanguage: require('./imba')\n};\n\nvar ruby = exports.ruby = {\n\tid: 'ruby',\n\textensions: ['.rb','.rbx','.rjs','.gemspec','.pp'],\n\tfilenames: ['rakefile'],\n\taliases: ['Ruby','rb'],\n\tlanguage: require('./ruby')\n};\n\nvar javascript = exports.javascript = {\n\tid: 'javascript',\n\textensions: ['.js','.jsx','.json'],\n\taliases: ['JavaScript','js'],\n\tlanguage: require('./javascript')\n};\n\nvar css = exports.css = {\n\tid: 'css',\n\textensions: ['.css','.scss'],\n\taliases: ['CSS','css'],\n\tmimetypes: ['text/css'],\n\tlanguage: require('./css')\n};\n\nvar python = exports.python = {\n\tid: 'python',\n\textensions: ['.py','.rpy','.pyw','.cpy','.gyp','.gypi'],\n\taliases: ['Python','py'],\n\tfirstLine: '^#!/.*\\\\bpython[0-9.-]*\\\\b',\n\tlanguage: require('./python')\n};\n\nvar html = exports.html = {\n\tid: 'html',\n\textensions: ['.html','.htm','.shtml','.xhtml','.mdoc','.jsp','.asp','.aspx','.jshtm'],\n\taliases: ['HTML','htm','html','xhtml'],\n\tmimetypes: ['text/html','text/x-jshtm','text/template','text/ng-template'],\n\tlanguage: require('./html')\n};\n\nvar less = exports.less = {\n\tid: 'less',\n\textensions: ['.less'],\n\taliases: ['Less','less'],\n\tmimetypes: ['text/x-less','text/less'],\n\tlanguage: require('./less')\n};\n\nvar markdown = exports.markdown = {\n\tid: 'markdown',\n\textensions: ['.md'],\n\taliases: ['Markdown','md'],\n\tmimetypes: ['text/markdown','text/md'],\n\tlanguage: require('./markdown')\n};\n\nvar xml = exports.xml = {\n\tid: 'xml',\n\textensions: ['.xml','.dtd','.ascx','.csproj','.config','.wxi','.wxl','.wxs','.xaml','.svg','.svgz'],\n\tfirstLine: '(\\\\<\\\\?xml.*)|(\\\\<svg)|(\\\\<\\\\!doctype\\\\s+svg)',\n\taliases: ['XML','xml'],\n\tmimetypes: ['text/xml','application/xml','application/xaml+xml','application/xml-dtd'],\n\tlanguage: require('./xml')\n};\n\nvar java = exports.java = {\n\tid: 'java',\n\textensions: ['.java','.jav'],\n\taliases: ['Java','java'],\n\tmimetypes: ['text/x-java-source','text/x-java'],\n\tlanguage: require('./java')\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexports.conf = {\n\twordPattern: /(#?-?\\d*\\.\\d\\w*%?)|([@#!.:]?[\\w-?]+%?)|[@#!.]/g,\n\tcomments: {\n\t\tblockComment: ['/*', '*/'],\n\t\tlineComment: '//'\n\t},\n\tbrackets: [\n\t\t['{', '}'],\n\t\t['[', ']'],\n\t\t['(', ')'],\n\t],\n\tautoClosingPairs: [\n\t\t{ open: '{', close: '}', notIn: ['string', 'comment'] },\n\t\t{ open: '[', close: ']', notIn: ['string', 'comment'] },\n\t\t{ open: '(', close: ')', notIn: ['string', 'comment'] },\n\t\t{ open: '\"', close: '\"', notIn: ['string', 'comment'] },\n\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t],\n\tsurroundingPairs: [\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '\"', close: '\"' },\n\t\t{ open: '\\'', close: '\\'' },\n\t]\n};\n\nexports.language = {\n\tdefaultToken: '',\n\ttokenPostfix: '.less',\n\n\tidentifier: '-?-?([a-zA-Z]|(\\\\\\\\(([0-9a-fA-F]{1,6}\\\\s?)|[^[0-9a-fA-F])))([\\\\w\\\\-]|(\\\\\\\\(([0-9a-fA-F]{1,6}\\\\s?)|[^[0-9a-fA-F])))*',\n\tidentifierPlus: '-?-?([a-zA-Z:.]|(\\\\\\\\(([0-9a-fA-F]{1,6}\\\\s?)|[^[0-9a-fA-F])))([\\\\w\\\\-:.]|(\\\\\\\\(([0-9a-fA-F]{1,6}\\\\s?)|[^[0-9a-fA-F])))*',\n\n\tbrackets: [\n\t\t{ open: '{', close: '}', token: 'delimiter.curly' },\n\t\t{ open: '[', close: ']', token: 'delimiter.bracket' },\n\t\t{ open: '(', close: ')', token: 'delimiter.parenthesis' },\n\t\t{ open: '<', close: '>', token: 'delimiter.angle' }\n\t],\n\n\ttokenizer: {\n\t\troot: [\n\t\t\t{ include: '@nestedJSBegin' },\n\n\t\t\t['[ \\\\t\\\\r\\\\n]+', ''],\n\n\t\t\t{ include: '@comments' },\n\t\t\t{ include: '@keyword' },\n\t\t\t{ include: '@strings' },\n\t\t\t{ include: '@numbers' },\n\t\t\t['[*_]?[a-zA-Z\\\\-\\\\s]+(?=:.*(;|(\\\\\\\\$)))', 'attribute.name', '@attribute'],\n\n\t\t\t['url(\\\\-prefix)?\\\\(', { token: 'tag', next: '@urldeclaration' }],\n\n\t\t\t['[{}()\\\\[\\\\]]', '@brackets'],\n\t\t\t['[,:;]', 'delimiter'],\n\n\t\t\t['#@identifierPlus', 'tag.id'],\n\t\t\t['&', 'tag'],\n\n\t\t\t['\\\\.@identifierPlus(?=\\\\()', 'tag.class', '@attribute'],\n\t\t\t['\\\\.@identifierPlus', 'tag.class'],\n\n\t\t\t['@identifierPlus', 'tag'],\n\t\t\t{ include: '@operators' },\n\n\t\t\t['@(@identifier(?=[:,\\\\)]))', 'variable', '@attribute'],\n\t\t\t['@(@identifier)', 'variable'],\n\t\t\t['@', 'key', '@atRules']\n\t\t],\n\n\t\tnestedJSBegin: [\n\t\t\t['``', 'delimiter.backtick'],\n\t\t\t['`', { token: 'delimiter.backtick', next: '@nestedJSEnd', nextEmbedded: 'text/javascript' }],\n\t\t],\n\n\t\tnestedJSEnd: [\n\t\t\t['`', { token: 'delimiter.backtick', next: '@pop', nextEmbedded: '@pop' }],\n\t\t],\n\n\t\toperators: [\n\t\t\t['[<>=\\\\+\\\\-\\\\*\\\\/\\\\^\\\\|\\\\~]', 'operator']\n\t\t],\n\n\t\tkeyword: [\n\t\t\t['(@[\\\\s]*import|![\\\\s]*important|true|false|when|iscolor|isnumber|isstring|iskeyword|isurl|ispixel|ispercentage|isem|hue|saturation|lightness|alpha|lighten|darken|saturate|desaturate|fadein|fadeout|fade|spin|mix|round|ceil|floor|percentage)\\\\b', 'keyword']\n\t\t],\n\n\t\turldeclaration: [\n\t\t\t{ include: '@strings' },\n\t\t\t['[^)\\r\\n]+', 'string'],\n\t\t\t['\\\\)', { token: 'tag', next: '@pop' }],\n\t\t],\n\n\t\tattribute: [\n\t\t\t{ include: '@nestedJSBegin' },\n\t\t\t{ include: '@comments' },\n\t\t\t{ include: '@strings' },\n\t\t\t{ include: '@numbers' },\n\n\t\t\t{ include: '@keyword' },\n\n\t\t\t['[a-zA-Z\\\\-]+(?=\\\\()', 'attribute.value', '@attribute'],\n\t\t\t['>', 'operator', '@pop'],\n\t\t\t['@identifier', 'attribute.value'],\n\t\t\t{ include: '@operators' },\n\t\t\t['@(@identifier)', 'variable'],\n\n\t\t\t['[)\\\\}]', '@brackets', '@pop'],\n\t\t\t['[{}()\\\\[\\\\]>]', '@brackets'],\n\n\t\t\t['[;]', 'delimiter', '@pop'],\n\t\t\t['[,=:]', 'delimiter'],\n\n\t\t\t['\\\\s', ''],\n\t\t\t['.', 'attribute.value']\n\t\t],\n\n\t\tcomments: [\n\t\t\t['\\\\/\\\\*', 'comment', '@comment'],\n\t\t\t['\\\\/\\\\/+.*', 'comment'],\n\t\t],\n\n\t\tcomment: [\n\t\t\t['\\\\*\\\\/', 'comment', '@pop'],\n\t\t\t['.', 'comment'],\n\t\t],\n\n\t\tnumbers: [\n\t\t\t['(\\\\d*\\\\.)?\\\\d+([eE][\\\\-+]?\\\\d+)?', { token: 'attribute.value.number', next: '@units' }],\n\t\t\t['#[0-9a-fA-F_]+(?!\\\\w)', 'attribute.value.hex']\n\t\t],\n\n\t\tunits: [\n\t\t\t['(em|ex|ch|rem|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?', 'attribute.value.unit', '@pop']\n\t\t],\n\n\t\tstrings: [\n\t\t\t['~?\"', { token: 'string.delimiter', next: '@stringsEndDoubleQuote' }],\n\t\t\t['~?\\'', { token: 'string.delimiter', next: '@stringsEndQuote' }]\n\t\t],\n\n\t\tstringsEndDoubleQuote: [\n\t\t\t['\\\\\\\\\"', 'string'],\n\t\t\t['\"', { token: 'string.delimiter', next: '@popall' }],\n\t\t\t['.', 'string']\n\t\t],\n\n\t\tstringsEndQuote: [\n\t\t\t['\\\\\\\\\\'', 'string'],\n\t\t\t['\\'', { token: 'string.delimiter', next: '@popall' }],\n\t\t\t['.', 'string']\n\t\t],\n\n\t\tatRules: [\n\t\t\t{ include: '@comments' },\n\t\t\t{ include: '@strings' },\n\t\t\t['[()]', 'delimiter'],\n\t\t\t['[\\\\{;]', 'delimiter', '@pop'],\n\t\t\t['.', 'key']\n\t\t]\n\t}\n};\n","// Difficulty: \"Ultra-Violence\"\n// Language definition for Markdown\n// Quite complex definition mostly due to almost full inclusion\n// of the HTML mode (so we can properly match nested HTML tag definitions)\nexports.language = {\n  // escape codes\n  control:  /[\\\\`*_\\[\\]{}()#+\\-\\.!]/,\n  noncontrol: /[^\\\\`*_\\[\\]{}()#+\\-\\.!]/,\n  escapes:  /\\\\(?:@control)/,\n\n  // escape codes for javascript/CSS strings\n  jsescapes:  /\\\\(?:[btnfr\\\\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,\n\n  // non matched elements\n  empty: [\n    'area', 'base', 'basefont', 'br', 'col', 'frame',\n    'hr', 'img', 'input', 'isindex', 'link', 'meta', 'param'\n  ],\n\n  tokenizer: {\n    root: [\n      // headers\n      [/^(\\s*)(#+)((?:[^\\\\#]|@escapes)+)((?:#+)?)/, ['white','keyword.$1','keyword.$1','keyword.$1']],\n      [/^\\s*(=+|\\-+)\\s*$/, 'keyword.header'],\n      [/^\\s*((\\*[ ]?)+)\\s*$/, 'keyword.header'],\n\n      // code & quote\n      [/^\\s*>+/, 'string.quote' ],\n      [/^(\\t|[ ]{4}).*$/, 'namespace.code'], // code line\n      [/^\\s*~+\\s*$/, { token: 'namespace.code', bracket: '@open', next: '@codeblock' }],\n\n      // github style code blocks\n      [/^\\s*````\\s*(\\w+)\\s*$/, { token: 'namespace.code', bracket: '@open', next: '@codeblockgh', nextEmbedded: 'text/x-$1' }],\n      [/^\\s*````\\s*((?:\\w|[\\/\\-])+)\\s*$/, { token: 'namespace.code', bracket: '@open', next: '@codeblockgh', nextEmbedded: '$1' }],\n\n      // list\n      [/^\\s*([\\*\\-+:]|\\d\\.)/, 'string.list'],\n\n      // markup within lines\n      { include: '@linecontent' },\n    ],\n\n    codeblock: [\n      [/^\\s*~+\\s*$/, { token: 'namespace.code', bracket: '@close', next: '@pop' }],\n      [/.*$/, 'namespace.code' ],\n    ],\n\n    // github style code blocks\n    codeblockgh: [\n      [/````\\s*$/, { token: '@rematch', bracket: '@close', switchTo: '@codeblockghend', nextEmbedded: '@pop' }],\n      [/[^`]*$/, 'namespace.code' ],\n    ],\n\n    codeblockghend: [\n      [/\\s*````/, { token: 'namespace.code', bracket: '@close', next: '@pop' } ],\n      [/./, '@rematch', '@pop'],\n    ],\n\n    linecontent: [\n      // [/\\s(?=<(\\w+)[^>]*>)/, {token: 'html', next: 'html.$1', nextEmbedded: 'text/html' } ],\n      // [/<(\\w+)[^>]*>/, {token: '@rematch', next: 'html.$1', nextEmbedded: 'text/html' } ],\n\n      // escapes\n      [/&\\w+;/, 'string.escape'],\n      [/@escapes/, 'escape' ],\n\n      // various markup\n      [/\\b__([^\\\\_]|@escapes|_(?!_))+__\\b/, 'strong'],\n      [/\\*\\*([^\\\\*]|@escapes|\\*(?!\\*))+\\*\\*/, 'strong'],\n      [/\\b_[^_]+_\\b/, 'emphasis'],\n      [/\\*([^\\\\*]|@escapes)+\\*/, 'emphasis'],\n      [/`([^\\\\`]|@escapes)+`/, 'namespace.code'],\n\n      // links\n      [/\\{[^}]+\\}/, 'string.target'],\n      [/(!?\\[)((?:[^\\]\\\\]|@escapes)+)(\\]\\([^\\)]+\\))/, ['string.link', '', 'string.link' ]],\n      [/(!?\\[)((?:[^\\]\\\\]|@escapes)+)(\\])/, 'string.link'],\n\n      // or html\n      { include: 'html' },\n    ],\n\n    html: [\n      // html tags\n      [/<(\\w+)\\/>/, 'tag.tag-$1' ],\n      [/<(\\w+)/,  {cases: { '@empty':   { token: 'tag.tag-$1', next: '@tag.$1' },\n                            '@default': { token: 'tag.tag-$1', bracket: '@open', next: '@tag.$1' } }}],\n      [/<\\/(\\w+)\\s*>/,  { token: 'tag.tag-$1', bracket: '@close', next: '@pop' } ],\n\n      // whitespace\n      { include: '@whitespace' },\n    ],\n\n\n    // whitespace and (html style) comments\n    whitespace: [\n      [/[ ]{2}$/, 'invalid'],\n      [/[ \\t\\r\\n]+/, 'white'],\n      [/<!--/, 'comment', '@comment']\n    ],\n\n    comment: [\n      [/[^<\\-]+/, 'comment.content' ],\n      [/-->/, 'comment', '@pop' ],\n      [/<!--/, 'comment.content.invalid'],\n      [/[<\\-]/, 'comment.content' ]\n    ],\n\n    // Almost full HTML tag matching, complete with embedded scripts & styles\n    tag: [\n      [/[ \\t\\r\\n]+/, 'white' ],\n      [/(type)(\\s*=\\s*)(\")([^\"]+)(\")/, [ 'attribute.name', 'delimiter', 'attribute.value',\n                                         {token: 'attribute.value', switchTo: '@tag.$S2.$4' },\n                                         'attribute.value'] ],\n      [/(type)(\\s*=\\s*)(')([^']+)(')/, [ 'attribute.name', 'delimiter', 'attribute.value',\n                                         {token: 'attribute.value', switchTo: '@tag.$S2.$4' },\n                                         'attribute.value'] ],\n      [/(\\w+)(\\s*=\\s*)(\"[^\"]*\"|'[^']*')/, ['attribute.name','delimiter','attribute.value']],\n      [/\\w+/, 'attribute.name' ],\n      [/\\/>/, 'tag.tag-$S2', '@pop'],\n      [/>/, { cases: { '$S2==style' : { token: 'tag.tag-$S2', switchTo: '@embedded.$S2', nextEmbedded: 'text/css'},\n                       '$S2==script': { cases: { '$S3'     : { token: 'tag.tag-$S2', switchTo: '@embedded.$S2', nextEmbedded: '$S3' },\n                                                 '@default': { token: 'tag.tag-$S2', switchTo: '@embedded.$S2', nextEmbedded: 'mjavascript' } } },\n                       '@default'   : { token: 'tag.tag-$S2', switchTo: 'html' } } }],\n    ],\n\n    embedded: [\n      [/[^\"'<]+/, ''],\n      [/<\\/(\\w+)\\s*>/, { cases: { '$1==$S2' : { token: '@rematch', switchTo: '@html', nextEmbedded: '@pop' },\n                                  '@default': '' } }],\n      [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid' ],  // non-teminated string\n      [/'([^'\\\\]|\\\\.)*$/, 'string.invalid' ],  // non-teminated string\n      [/\"/, 'string', '@string.\"' ],\n      [/'/, 'string', '@string.\\'' ],\n      [/</, '']\n    ],\n\n    // scan embedded strings in javascript or css\n    string: [\n      [/[^\\\\\"']+/, 'string'],\n      [/@jsescapes/, 'string.escape'],\n      [/\\\\./,      'string.escape.invalid'],\n      [/[\"']/,     { cases: { '$#==$S2' : { token: 'string', next: '@pop' },\n                              '@default': 'string' }} ]\n    ],\n\n  },\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexports.conf = {\n\tcomments: {\n\t\tlineComment: '#',\n\t\tblockComment: ['\\'\\'\\'', '\\'\\'\\''],\n\t},\n\tbrackets: [\n\t\t['{', '}'],\n\t\t['[', ']'],\n\t\t['(', ')']\n\t],\n\tautoClosingPairs: [\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '\"', close: '\"', notIn: ['string'] },\n\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t],\n\tsurroundingPairs: [\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '\"', close: '\"' },\n\t\t{ open: '\\'', close: '\\'' },\n\t]\n};\n\nexports.language = {\n\tdefaultToken: '',\n\ttokenPostfix: '.python',\n\n\tkeywords: [\n\t\t'and',\n\t\t'as',\n\t\t'assert',\n\t\t'break',\n\t\t'class',\n\t\t'continue',\n\t\t'def',\n\t\t'del',\n\t\t'elif',\n\t\t'else',\n\t\t'except',\n\t\t'exec',\n\t\t'finally',\n\t\t'for',\n\t\t'from',\n\t\t'global',\n\t\t'if',\n\t\t'import',\n\t\t'in',\n\t\t'is',\n\t\t'lambda',\n\t\t'None',\n\t\t'not',\n\t\t'or',\n\t\t'pass',\n\t\t'print',\n\t\t'raise',\n\t\t'return',\n\t\t'self',\n\t\t'try',\n\t\t'while',\n\t\t'with',\n\t\t'yield',\n\n\t\t'int',\n\t\t'float',\n\t\t'long',\n\t\t'complex',\n\t\t'hex',\n\n\t\t'abs',\n\t\t'all',\n\t\t'any',\n\t\t'apply',\n\t\t'basestring',\n\t\t'bin',\n\t\t'bool',\n\t\t'buffer',\n\t\t'bytearray',\n\t\t'callable',\n\t\t'chr',\n\t\t'classmethod',\n\t\t'cmp',\n\t\t'coerce',\n\t\t'compile',\n\t\t'complex',\n\t\t'delattr',\n\t\t'dict',\n\t\t'dir',\n\t\t'divmod',\n\t\t'enumerate',\n\t\t'eval',\n\t\t'execfile',\n\t\t'file',\n\t\t'filter',\n\t\t'format',\n\t\t'frozenset',\n\t\t'getattr',\n\t\t'globals',\n\t\t'hasattr',\n\t\t'hash',\n\t\t'help',\n\t\t'id',\n\t\t'input',\n\t\t'intern',\n\t\t'isinstance',\n\t\t'issubclass',\n\t\t'iter',\n\t\t'len',\n\t\t'locals',\n\t\t'list',\n\t\t'map',\n\t\t'max',\n\t\t'memoryview',\n\t\t'min',\n\t\t'next',\n\t\t'object',\n\t\t'oct',\n\t\t'open',\n\t\t'ord',\n\t\t'pow',\n\t\t'print',\n\t\t'property',\n\t\t'reversed',\n\t\t'range',\n\t\t'raw_input',\n\t\t'reduce',\n\t\t'reload',\n\t\t'repr',\n\t\t'reversed',\n\t\t'round',\n\t\t'set',\n\t\t'setattr',\n\t\t'slice',\n\t\t'sorted',\n\t\t'staticmethod',\n\t\t'str',\n\t\t'sum',\n\t\t'super',\n\t\t'tuple',\n\t\t'type',\n\t\t'unichr',\n\t\t'unicode',\n\t\t'vars',\n\t\t'xrange',\n\t\t'zip',\n\n\t\t'True',\n\t\t'False',\n\n\t\t'__dict__',\n\t\t'__methods__',\n\t\t'__members__',\n\t\t'__class__',\n\t\t'__bases__',\n\t\t'__name__',\n\t\t'__mro__',\n\t\t'__subclasses__',\n\t\t'__init__',\n\t\t'__import__'\n\t],\n\n\tbrackets: [\n\t\t{ open: '{', close: '}', token: 'delimiter.curly' },\n\t\t{ open: '[', close: ']', token: 'delimiter.bracket' },\n\t\t{ open: '(', close: ')', token: 'delimiter.parenthesis' }\n\t],\n\n\ttokenizer: {\n\t\troot: [\n\t\t\t{ include: '@whitespace' },\n\t\t\t{ include: '@numbers' },\n\t\t\t{ include: '@strings' },\n\n\t\t\t[/[,:;]/, 'delimiter'],\n\t\t\t[/[{}\\[\\]()]/, '@brackets'],\n\n\t\t\t[/@[a-zA-Z]\\w*/, 'tag'],\n\t\t\t[/[a-zA-Z]\\w*/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'@keywords': 'keyword',\n\t\t\t\t\t'@default': 'identifier'\n\t\t\t\t}\n\t\t\t}]\n\t\t],\n\n\t\t// Deal with white space, including single and multi-line comments\n\t\twhitespace: [\n\t\t\t[/\\s+/, 'white'],\n\t\t\t[/(^#.*$)/, 'comment'],\n\t\t\t[/('''.*''')|(\"\"\".*\"\"\")/, 'string'],\n\t\t\t[/'''.*$/, 'string', '@endDocString'],\n\t\t\t[/\"\"\".*$/, 'string', '@endDblDocString']\n\t\t],\n\t\tendDocString: [\n\t\t\t[/\\\\'/, 'string'],\n\t\t\t[/.*'''/, 'string', '@popall'],\n\t\t\t[/.*$/, 'string']\n\t\t],\n\t\tendDblDocString: [\n\t\t\t[/\\\\\"/, 'string'],\n\t\t\t[/.*\"\"\"/, 'string', '@popall'],\n\t\t\t[/.*$/, 'string']\n\t\t],\n\n\t\t// Recognize hex, negatives, decimals, imaginaries, longs, and scientific notation\n\t\tnumbers: [\n\t\t\t[/-?0x([abcdef]|[ABCDEF]|\\d)+[lL]?/, 'number.hex'],\n\t\t\t[/-?(\\d*\\.)?\\d+([eE][+\\-]?\\d+)?[jJ]?[lL]?/, 'number']\n\t\t],\n\n\t\t// Recognize strings, including those broken across lines with \\ (but not without)\n\t\tstrings: [\n\t\t\t[/'$/, 'string.escape', '@popall'],\n\t\t\t[/'/, 'string.escape', '@stringBody'],\n\t\t\t[/\"$/, 'string.escape', '@popall'],\n\t\t\t[/\"/, 'string.escape', '@dblStringBody']\n\t\t],\n\t\tstringBody: [\n\t\t\t[/\\\\./, 'string'],\n\t\t\t[/'/, 'string.escape', '@popall'],\n\t\t\t[/.(?=.*')/, 'string'],\n\t\t\t[/.*\\\\$/, 'string'],\n\t\t\t[/.*$/, 'string', '@popall']\n\t\t],\n\t\tdblStringBody: [\n\t\t\t[/\\\\./, 'string'],\n\t\t\t[/\"/, 'string.escape', '@popall'],\n\t\t\t[/.(?=.*\")/, 'string'],\n\t\t\t[/.*\\\\$/, 'string'],\n\t\t\t[/.*$/, 'string', '@popall']\n\t\t]\n\t}\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexports.conf = {\n\tcomments: {\n\t\tlineComment: '#',\n\t\tblockComment: ['=begin', '=end'],\n\t},\n\tbrackets: [\n\t\t['(', ')'],\n\t\t['{', '}'],\n\t\t['[', ']']\n\t],\n\tautoClosingPairs: [\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '\"', close: '\"' },\n\t\t{ open: '\\'', close: '\\'' },\n\t],\n\tsurroundingPairs: [\n\t\t{ open: '{', close: '}' },\n\t\t{ open: '[', close: ']' },\n\t\t{ open: '(', close: ')' },\n\t\t{ open: '\"', close: '\"' },\n\t\t{ open: '\\'', close: '\\'' },\n\t]\n};\n\n/*\n * Ruby language definition\n *\n * Quite a complex language due to elaborate escape sequences\n * and quoting of literate strings/regular expressions, and\n * an 'end' keyword that does not always apply to modifiers like until and while,\n * and a 'do' keyword that sometimes starts a block, but sometimes is part of\n * another statement (like 'while').\n *\n * (1) end blocks:\n * 'end' may end declarations like if or until, but sometimes 'if' or 'until'\n * are modifiers where there is no 'end'. Also, 'do' sometimes starts a block\n * that is ended by 'end', but sometimes it is part of a 'while', 'for', or 'until'\n * To do proper brace matching we do some elaborate state manipulation.\n * some examples:\n *\n *   until bla do\n *     work until tired\n *     list.each do\n *       something if test\n *     end\n *   end\n *\n * or\n *\n * if test\n *  something (if test then x end)\n *  bar if bla\n * end\n *\n * or, how about using class as a property..\n *\n * class Test\n *   def endpoint\n *     self.class.endpoint || routes\n *   end\n * end\n *\n * (2) quoting:\n * there are many kinds of strings and escape sequences. But also, one can\n * start many string-like things as '%qx' where q specifies the kind of string\n * (like a command, escape expanded, regular expression, symbol etc.), and x is\n * some character and only another 'x' ends the sequence. Except for brackets\n * where the closing bracket ends the sequence.. and except for a nested bracket\n * inside the string like entity. Also, such strings can contain interpolated\n * ruby expressions again (and span multiple lines). Moreover, expanded\n * regular expression can also contain comments.\n */\n\nexports.language = {\n\ttokenPostfix: '.ruby',\n\n\tkeywords: [\n\t\t'__LINE__', '__ENCODING__', '__FILE__', 'BEGIN', 'END', 'alias', 'and', 'begin',\n\t\t'break', 'case', 'class', 'def', 'defined?', 'do', 'else', 'elsif', 'end',\n\t\t'ensure', 'for', 'false', 'if', 'in', 'module', 'next', 'nil', 'not', 'or', 'redo',\n\t\t'rescue', 'retry', 'return', 'self', 'super', 'then', 'true', 'undef', 'unless',\n\t\t'until', 'when', 'while', 'yield',\n\t],\n\n\tkeywordops: [\n\t\t'::', '..', '...', '?', ':', '=>'\n\t],\n\n\tbuiltins: [\n\t\t'require', 'public', 'private', 'include', 'extend', 'attr_reader',\n\t\t'protected', 'private_class_method', 'protected_class_method', 'new'\n\t],\n\n\t// these are closed by 'end' (if, while and until are handled separately)\n\tdeclarations: [\n\t\t'module', 'class', 'def', 'case', 'do', 'begin', 'for', 'if', 'while', 'until', 'unless'\n\t],\n\n\tlinedecls: [\n\t\t'def', 'case', 'do', 'begin', 'for', 'if', 'while', 'until', 'unless'\n\t],\n\n\toperators: [\n\t\t'^', '&', '|', '<=>', '==', '===', '!~', '=~', '>', '>=', '<', '<=', '<<', '>>', '+',\n\t\t'-', '*', '/', '%', '**', '~', '+@', '-@', '[]', '[]=', '`',\n\t\t'+=', '-=', '*=', '**=', '/=', '^=', '%=', '<<=', '>>=', '&=', '&&=', '||=', '|='\n\t],\n\n\tbrackets: [\n\t\t{ open: '(', close: ')', token: 'delimiter.parenthesis' },\n\t\t{ open: '{', close: '}', token: 'delimiter.curly' },\n\t\t{ open: '[', close: ']', token: 'delimiter.square' }\n\t],\n\n\t// we include these common regular expressions\n\tsymbols: /[=><!~?:&|+\\-*\\/\\^%\\.]+/,\n\n\t// escape sequences\n\tescape: /(?:[abefnrstv\\\\\"'\\n\\r]|[0-7]{1,3}|x[0-9A-Fa-f]{1,2}|u[0-9A-Fa-f]{4})/,\n\tescapes: /\\\\(?:C\\-(@escape|.)|c(@escape|.)|@escape)/,\n\n\tdecpart: /\\d(_?\\d)*/,\n\tdecimal: /0|@decpart/,\n\n\tdelim: /[^a-zA-Z0-9\\s\\n\\r]/,\n\theredelim: /(?:\\w+|'[^']*'|\"[^\"]*\"|`[^`]*`)/,\n\n\tregexpctl: /[(){}\\[\\]\\$\\^|\\-*+?\\.]/,\n\tregexpesc: /\\\\(?:[AzZbBdDfnrstvwWn0\\\\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})?/,\n\n\n\t// The main tokenizer for our languages\n\ttokenizer: {\n\t\t// Main entry.\n\t\t// root.<decl> where decl is the current opening declaration (like 'class')\n\t\troot: [\n\t\t\t// identifiers and keywords\n\t\t\t// most complexity here is due to matching 'end' correctly with declarations.\n\t\t\t// We distinguish a declaration that comes first on a line, versus declarations further on a line (which are most likey modifiers)\n\t\t\t[/^(\\s*)([a-z_]\\w*[!?=]?)/, ['white',\n\t\t\t\t{\n\t\t\t\t\tcases: {\n\t\t\t\t\t\t'for|until|while': { token: 'keyword.$2', next: '@dodecl.$2' },\n\t\t\t\t\t\t'@declarations': { token: 'keyword.$2', next: '@root.$2' },\n\t\t\t\t\t\t'end': { token: 'keyword.$S2', next: '@pop' },\n\t\t\t\t\t\t'@keywords': 'keyword',\n\t\t\t\t\t\t'@builtins': 'predefined',\n\t\t\t\t\t\t'@default': 'identifier'\n\t\t\t\t\t}\n\t\t\t\t}]],\n\t\t\t[/[a-z_]\\w*[!?=]?/,\n\t\t\t\t{\n\t\t\t\t\tcases: {\n\t\t\t\t\t\t'if|unless|while|until': { token: 'keyword.$0x', next: '@modifier.$0x' },\n\t\t\t\t\t\t'for': { token: 'keyword.$2', next: '@dodecl.$2' },\n\t\t\t\t\t\t'@linedecls': { token: 'keyword.$0', next: '@root.$0' },\n\t\t\t\t\t\t'end': { token: 'keyword.$S2', next: '@pop' },\n\t\t\t\t\t\t'@keywords': 'keyword',\n\t\t\t\t\t\t'@builtins': 'predefined',\n\t\t\t\t\t\t'@default': 'identifier'\n\t\t\t\t\t}\n\t\t\t\t}],\n\n\t\t\t[/[A-Z][\\w]*[!?=]?/, 'constructor.identifier'],     // constant\n\t\t\t[/\\$[\\w]*/, 'global.constant'],               // global\n\t\t\t[/@[\\w]*/, 'namespace.instance.identifier'], // instance\n\t\t\t[/@@[\\w]*/, 'namespace.class.identifier'],    // class\n\n\t\t\t// here document\n\t\t\t[/<<-(@heredelim).*/, { token: 'string.heredoc.delimiter', next: '@heredoc.$1' }],\n\t\t\t[/[ \\t\\r\\n]+<<(@heredelim).*/, { token: 'string.heredoc.delimiter', next: '@heredoc.$1' }],\n\t\t\t[/^<<(@heredelim).*/, { token: 'string.heredoc.delimiter', next: '@heredoc.$1' }],\n\n\n\t\t\t// whitespace\n\t\t\t{ include: '@whitespace' },\n\n\t\t\t// strings\n\t\t\t[/\"/, { token: 'string.d.delim', next: '@dstring.d.\"' }],\n\t\t\t[/'/, { token: 'string.sq.delim', next: '@sstring.sq' }],\n\n\t\t\t// % literals. For efficiency, rematch in the 'pstring' state\n\t\t\t[/%([rsqxwW]|Q?)/, { token: '@rematch', next: 'pstring' }],\n\n\t\t\t// commands and symbols\n\t\t\t[/`/, { token: 'string.x.delim', next: '@dstring.x.`' }],\n\t\t\t[/:(\\w|[$@])\\w*[!?=]?/, 'string.s'],\n\t\t\t[/:\"/, { token: 'string.s.delim', next: '@dstring.s.\"' }],\n\t\t\t[/:'/, { token: 'string.s.delim', next: '@sstring.s' }],\n\n\t\t\t// regular expressions. Lookahead for a (not escaped) closing forwardslash on the same line\n\t\t\t[/\\/(?=(\\\\\\/|[^\\/\\n])+\\/)/, { token: 'regexp.delim', next: '@regexp' }],\n\n\t\t\t// delimiters and operators\n\t\t\t[/[{}()\\[\\]]/, '@brackets'],\n\t\t\t[/@symbols/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'@keywordops': 'keyword',\n\t\t\t\t\t'@operators': 'operator',\n\t\t\t\t\t'@default': ''\n\t\t\t\t}\n\t\t\t}],\n\n\t\t\t[/[;,]/, 'delimiter'],\n\n\t\t\t// numbers\n\t\t\t[/0[xX][0-9a-fA-F](_?[0-9a-fA-F])*/, 'number.hex'],\n\t\t\t[/0[_oO][0-7](_?[0-7])*/, 'number.octal'],\n\t\t\t[/0[bB][01](_?[01])*/, 'number.binary'],\n\t\t\t[/0[dD]@decpart/, 'number'],\n\t\t\t[/@decimal((\\.@decpart)?([eE][\\-+]?@decpart)?)/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'$1': 'number.float',\n\t\t\t\t\t'@default': 'number'\n\t\t\t\t}\n\t\t\t}],\n\n\t\t],\n\n\t\t// used to not treat a 'do' as a block opener if it occurs on the same\n\t\t// line as a 'do' statement: 'while|until|for'\n\t\t// dodecl.<decl> where decl is the declarations started, like 'while'\n\t\tdodecl: [\n\t\t\t[/^/, { token: '', switchTo: '@root.$S2' }], // get out of do-skipping mode on a new line\n\t\t\t[/[a-z_]\\w*[!?=]?/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'end': { token: 'keyword.$S2', next: '@pop' }, // end on same line\n\t\t\t\t\t'do': { token: 'keyword', switchTo: '@root.$S2' }, // do on same line: not an open bracket here\n\t\t\t\t\t'@linedecls': { token: '@rematch', switchTo: '@root.$S2' }, // other declaration on same line: rematch\n\t\t\t\t\t'@keywords': 'keyword',\n\t\t\t\t\t'@builtins': 'predefined',\n\t\t\t\t\t'@default': 'identifier'\n\t\t\t\t}\n\t\t\t}],\n\t\t\t{ include: '@root' }\n\t\t],\n\n\t\t// used to prevent potential modifiers ('if|until|while|unless') to match\n\t\t// with 'end' keywords.\n\t\t// modifier.<decl>x where decl is the declaration starter, like 'if'\n\t\tmodifier: [\n\t\t\t[/^/, '', '@pop'], // it was a modifier: get out of modifier mode on a new line\n\t\t\t[/[a-z_]\\w*[!?=]?/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'end': { token: 'keyword.$S2', next: '@pop' }, // end on same line\n\t\t\t\t\t'then|else|elsif|do': { token: 'keyword', switchTo: '@root.$S2' }, // real declaration and not a modifier\n\t\t\t\t\t'@linedecls': { token: '@rematch', switchTo: '@root.$S2' }, // other declaration => not a modifier\n\t\t\t\t\t'@keywords': 'keyword',\n\t\t\t\t\t'@builtins': 'predefined',\n\t\t\t\t\t'@default': 'identifier'\n\t\t\t\t}\n\t\t\t}],\n\t\t\t{ include: '@root' }\n\t\t],\n\n\t\t// single quote strings (also used for symbols)\n\t\t// sstring.<kind>  where kind is 'sq' (single quote) or 's' (symbol)\n\t\tsstring: [\n\t\t\t[/[^\\\\']+/, 'string.$S2'],\n\t\t\t[/\\\\\\\\|\\\\'|\\\\$/, 'string.$S2.escape'],\n\t\t\t[/\\\\./, 'string.$S2.invalid'],\n\t\t\t[/'/, { token: 'string.$S2.delim', next: '@pop' }]\n\t\t],\n\n\t\t// double quoted \"string\".\n\t\t// dstring.<kind>.<delim> where kind is 'd' (double quoted), 'x' (command), or 's' (symbol)\n\t\t// and delim is the ending delimiter (\" or `)\n\t\tdstring: [\n\t\t\t[/[^\\\\`\"#]+/, 'string.$S2'],\n\t\t\t[/#/, 'string.$S2.escape', '@interpolated'],\n\t\t\t[/\\\\$/, 'string.$S2.escape'],\n\t\t\t[/@escapes/, 'string.$S2.escape'],\n\t\t\t[/\\\\./, 'string.$S2.escape.invalid'],\n\t\t\t[/[`\"]/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'$#==$S3': { token: 'string.$S2.delim', next: '@pop' },\n\t\t\t\t\t'@default': 'string.$S2'\n\t\t\t\t}\n\t\t\t}]\n\t\t],\n\n\t\t// literal documents\n\t\t// heredoc.<close> where close is the closing delimiter\n\t\theredoc: [\n\t\t\t[/^(\\s*)(@heredelim)$/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'$2==$S2': ['string.heredoc', { token: 'string.heredoc.delimiter', next: '@pop' }],\n\t\t\t\t\t'@default': ['string.heredoc', 'string.heredoc']\n\t\t\t\t}\n\t\t\t}],\n\t\t\t[/.*/, 'string.heredoc'],\n\t\t],\n\n\t\t// interpolated sequence\n\t\tinterpolated: [\n\t\t\t[/\\$\\w*/, 'global.constant', '@pop'],\n\t\t\t[/@\\w*/, 'namespace.class.identifier', '@pop'],\n\t\t\t[/@@\\w*/, 'namespace.instance.identifier', '@pop'],\n\t\t\t[/[{]/, { token: 'string.escape.curly', switchTo: '@interpolated_compound' }],\n\t\t\t['', '', '@pop'], // just a # is interpreted as a #\n\t\t],\n\n\t\t// any code\n\t\tinterpolated_compound: [\n\t\t\t[/[}]/, { token: 'string.escape.curly', next: '@pop' }],\n\t\t\t{ include: '@root' },\n\t\t],\n\n\t\t// %r quoted regexp\n\t\t// pregexp.<open>.<close> where open/close are the open/close delimiter\n\t\tpregexp: [\n\t\t\t{ include: '@whitespace' },\n\t\t\t// turns out that you can quote using regex control characters, aargh!\n\t\t\t// for example; %r|kgjgaj| is ok (even though | is used for alternation)\n\t\t\t// so, we need to match those first\n\t\t\t[/[^\\(\\{\\[\\\\]/, {\n\t\t\t\tcases: {\n\t\t\t\t\t'$#==$S3': { token: 'regexp.delim', next: '@pop' },\n\t\t\t\t\t'$#==$S2': { token: 'regexp.delim', next: '@push' }, // nested delimiters are allowed..\n\t\t\t\t\t'~[)}\\\\]]': '@brackets.regexp.escape.control',\n\t\t\t\t\t'~@regexpctl': 'regexp.escape.control',\n\t\t\t\t\t'@default': 'regexp'\n\t\t\t\t}\n\t\t\t}],\n\t\t\t{ include: '@regexcontrol' },\n\t\t],\n\n\t\t// We match regular expression quite precisely\n\t\tregexp: [\n\t\t\t{ include: '@regexcontrol' },\n\t\t\t[/[^\\\\\\/]/, 'regexp'],\n\t\t\t['/[ixmp]*', { token: 'regexp.delim' }, '@pop'],\n\t\t],\n\n\t\tregexcontrol: [\n\t\t\t[/(\\{)(\\d+(?:,\\d*)?)(\\})/, ['@brackets.regexp.escape.control', 'regexp.escape.control', '@brackets.regexp.escape.control']],\n\t\t\t[/(\\[)(\\^?)/, ['@brackets.regexp.escape.control', { token: 'regexp.escape.control', next: '@regexrange' }]],\n\t\t\t[/(\\()(\\?[:=!])/, ['@brackets.regexp.escape.control', 'regexp.escape.control']],\n\t\t\t[/\\(\\?#/, { token: 'regexp.escape.control', next: '@regexpcomment' }],\n\t\t\t[/[()]/, '@brackets.regexp.escape.control'],\n\t\t\t[/@regexpctl/, 'regexp.escape.control'],\n\t\t\t[/\\\\$/, 'regexp.escape'],\n\t\t\t[/@regexpesc/, 'regexp.escape'],\n\t\t\t[/\\\\\\./, 'regexp.invalid'],\n\t\t\t[/#/, 'regexp.escape', '@interpolated'],\n\t\t],\n\n\t\tregexrange: [\n\t\t\t[/-/, 'regexp.escape.control'],\n\t\t\t[/\\^/, 'regexp.invalid'],\n\t\t\t[/\\\\$/, 'regexp.escape'],\n\t\t\t[/@regexpesc/, 'regexp.escape'],\n\t\t\t[/[^\\]]/, 'regexp'],\n\t\t\t[/\\]/, '@brackets.regexp.escape.control', '@pop'],\n\t\t],\n\n\t\tregexpcomment: [\n\t\t\t[/[^)]+/, 'comment'],\n\t\t\t[/\\)/, { token: 'regexp.escape.control', next: '@pop' }]\n\t\t],\n\n\n\t\t// % quoted strings\n\t\t// A bit repetitive since we need to often special case the kind of ending delimiter\n\t\tpstring: [\n\t\t\t[/%([qws])\\(/, { token: 'string.$1.delim', switchTo: '@qstring.$1.(.)' }],\n\t\t\t[/%([qws])\\[/, { token: 'string.$1.delim', switchTo: '@qstring.$1.[.]' }],\n\t\t\t[/%([qws])\\{/, { token: 'string.$1.delim', switchTo: '@qstring.$1.{.}' }],\n\t\t\t[/%([qws])</, { token: 'string.$1.delim', switchTo: '@qstring.$1.<.>' }],\n\t\t\t[/%([qws])(@delim)/, { token: 'string.$1.delim', switchTo: '@qstring.$1.$2.$2' }],\n\n\t\t\t[/%r\\(/, { token: 'regexp.delim', switchTo: '@pregexp.(.)' }],\n\t\t\t[/%r\\[/, { token: 'regexp.delim', switchTo: '@pregexp.[.]' }],\n\t\t\t[/%r\\{/, { token: 'regexp.delim', switchTo: '@pregexp.{.}' }],\n\t\t\t[/%r</, { token: 'regexp.delim', switchTo: '@pregexp.<.>' }],\n\t\t\t[/%r(@delim)/, { token: 'regexp.delim', switchTo: '@pregexp.$1.$1' }],\n\n\t\t\t[/%(x|W|Q?)\\(/, { token: 'string.$1.delim', switchTo: '@qqstring.$1.(.)' }],\n\t\t\t[/%(x|W|Q?)\\[/, { token: 'string.$1.delim', switchTo: '@qqstring.$1.[.]' }],\n\t\t\t[/%(x|W|Q?)\\{/, { token: 'string.$1.delim', switchTo: '@qqstring.$1.{.}' }],\n\t\t\t[/%(x|W|Q?)</, { token: 'string.$1.delim', switchTo: '@qqstring.$1.<.>' }],\n\t\t\t[/%(x|W|Q?)(@delim)/, { token: 'string.$1.delim', switchTo: '@qqstring.$1.$2.$2' }],\n\n\t\t\t[/%([rqwsxW]|Q?)./, { token: 'invalid', next: '@pop' }], // recover\n\t\t\t[/./, { token: 'invalid', next: '@pop' }], // recover\n\t\t],\n\n\t\t// non-expanded quoted string.\n\t\t// qstring.<kind>.<open>.<close>\n\t\t//  kind = q|w|s  (single quote, array, symbol)\n\t\t//  open = open delimiter\n\t\t//  close = close delimiter\n\t\tqstring: [\n\t\t\t[/\\\\$/, 'string.$S2.escape'],\n\t\t\t[/\\\\./, 'string.$S2.escape'],\n\t\t\t[/./, {\n\t\t\t\tcases: {\n\t\t\t\t\t'$#==$S4': { token: 'string.$S2.delim', next: '@pop' },\n\t\t\t\t\t'$#==$S3': { token: 'string.$S2.delim', next: '@push' }, // nested delimiters are allowed..\n\t\t\t\t\t'@default': 'string.$S2'\n\t\t\t\t}\n\t\t\t}],\n\t\t],\n\n\t\t// expanded quoted string.\n\t\t// qqstring.<kind>.<open>.<close>\n\t\t//  kind = Q|W|x  (double quote, array, command)\n\t\t//  open = open delimiter\n\t\t//  close = close delimiter\n\t\tqqstring: [\n\t\t\t[/#/, 'string.$S2.escape', '@interpolated'],\n\t\t\t{ include: '@qstring' }\n\t\t],\n\n\n\t\t// whitespace & comments\n\t\twhitespace: [\n\t\t\t[/[ \\t\\r\\n]+/, ''],\n\t\t\t[/^\\s*=begin\\b/, 'comment', '@comment'],\n\t\t\t[/#.*$/, 'comment'],\n\t\t],\n\n\t\tcomment: [\n\t\t\t[/[^=]+/, 'comment'],\n\t\t\t[/^\\s*=begin\\b/, 'comment.invalid'],    // nested comment\n\t\t\t[/^\\s*=end\\b.*/, 'comment', '@pop'],\n\t\t\t[/[=]/, 'comment']\n\t\t],\n\t}\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexportsconf = {\n\tcomments: {\n\t\tblockComment: ['<!--', '-->'],\n\t},\n\tbrackets: [\n\t\t['<', '>']\n\t],\n\tautoClosingPairs: [\n\t\t{ open: '<', close: '>' },\n\t\t{ open: '\\'', close: '\\'' },\n\t\t{ open: '\"', close: '\"' },\n\t],\n\tsurroundingPairs: [\n\t\t{ open: '<', close: '>' },\n\t\t{ open: '\\'', close: '\\'' },\n\t\t{ open: '\"', close: '\"' },\n\t]\n};\n\nexports.language = {\n\tdefaultToken: '',\n\ttokenPostfix: '.xml',\n\n\tignoreCase: true,\n\n\t// Useful regular expressions\n\tqualifiedName: /(?:[\\w\\.\\-]+:)?[\\w\\.\\-]+/,\n\n\ttokenizer: {\n\t\troot: [\n\t\t\t[/[^<&]+/, ''],\n\n\t\t\t{ include: '@whitespace' },\n\n\t\t\t// Standard opening tag\n\t\t\t[/(<)(@qualifiedName)/, [\n\t\t\t\t{ token: 'delimiter' },\n\t\t\t\t{ token: 'tag', next: '@tag' }]],\n\n\t\t\t// Standard closing tag\n\t\t\t[/(<\\/)(@qualifiedName)(\\s*)(>)/, [\n\t\t\t\t{ token: 'delimiter' },\n\t\t\t\t{ token: 'tag' },\n\t\t\t\t'',\n\t\t\t\t{ token: 'delimiter' }]],\n\n\t\t\t// Meta tags - instruction\n\t\t\t[/(<\\?)(@qualifiedName)/, [\n\t\t\t\t{ token: 'delimiter' },\n\t\t\t\t{ token: 'metatag', next: '@tag' }]],\n\n\t\t\t// Meta tags - declaration\n\t\t\t[/(<\\!)(@qualifiedName)/, [\n\t\t\t\t{ token: 'delimiter' },\n\t\t\t\t{ token: 'metatag', next: '@tag' }]],\n\n\t\t\t// CDATA\n\t\t\t[/<\\!\\[CDATA\\[/, { token: 'delimiter.cdata', next: '@cdata' }],\n\n\t\t\t[/&\\w+;/, 'string.escape'],\n\t\t],\n\n\t\tcdata: [\n\t\t\t[/[^\\]]+/, ''],\n\t\t\t[/\\]\\]>/, { token: 'delimiter.cdata', next: '@pop' }],\n\t\t\t[/\\]/, '']\n\t\t],\n\n\t\ttag: [\n\t\t\t[/[ \\t\\r\\n]+/, ''],\n\t\t\t[/(@qualifiedName)(\\s*=\\s*)(\"[^\"]*\"|'[^']*')/, ['attribute.name', '', 'attribute.value']],\n\t\t\t[/(@qualifiedName)(\\s*=\\s*)(\"[^\">?\\/]*|'[^'>?\\/]*)(?=[\\?\\/]\\>)/, ['attribute.name', '', 'attribute.value']],\n\t\t\t[/(@qualifiedName)(\\s*=\\s*)(\"[^\">]*|'[^'>]*)/, ['attribute.name', '', 'attribute.value']],\n\t\t\t[/@qualifiedName/, 'attribute.name'],\n\t\t\t[/\\?>/, { token: 'delimiter', next: '@pop' }],\n\t\t\t[/(\\/)(>)/, [\n\t\t\t\t{ token: 'tag' },\n\t\t\t\t{ token: 'delimiter', next: '@pop' }]],\n\t\t\t[/>/, { token: 'delimiter', next: '@pop' }],\n\t\t],\n\n\t\twhitespace: [\n\t\t\t[/[ \\t\\r\\n]+/, ''],\n\t\t\t[/<!--/, { token: 'comment', next: '@comment' }]\n\t\t],\n\n\t\tcomment: [\n\t\t\t[/[^<\\-]+/, 'comment.content'],\n\t\t\t[/-->/, { token: 'comment', next: '@pop' }],\n\t\t\t[/<!--/, 'comment.content.invalid'],\n\t\t\t[/[<\\-]/, 'comment.content']\n\t\t],\n\t},\n};\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction arrayToHash(array) {\n    const result = {};\n    for (let i = 0; i < array.length; ++i) {\n        result[array[i]] = true;\n    }\n    return result;\n}\nfunction createKeywordMatcher(arr, caseInsensitive = false) {\n    if (caseInsensitive) {\n        arr = arr.map(function (x) { return x.toLowerCase(); });\n    }\n    const hash = arrayToHash(arr);\n    if (caseInsensitive) {\n        return function (word) {\n            return hash[word.toLowerCase()] !== undefined && hash.hasOwnProperty(word.toLowerCase());\n        };\n    }\n    else {\n        return function (word) {\n            return hash[word] !== undefined && hash.hasOwnProperty(word);\n        };\n    }\n}\n\nfunction isFuzzyActionArr(what) {\n    return (Array.isArray(what));\n}\nfunction isFuzzyAction(what) {\n    return !isFuzzyActionArr(what);\n}\nfunction isString$1(what) {\n    return (typeof what === 'string');\n}\nfunction isIAction(what) {\n    return !isString$1(what);\n}\nfunction empty(s) {\n    return (s ? false : true);\n}\nfunction fixCase(lexer, str) {\n    return (lexer.ignoreCase && str ? str.toLowerCase() : str);\n}\nfunction sanitize(s) {\n    return s.replace(/[&<>'\"_]/g, '-');\n}\nfunction log(lexer, msg) {\n    console.log(`${lexer.languageId}: ${msg}`);\n}\nfunction throwError(lexer, msg) {\n    throw new Error(`${lexer.languageId}: ${msg}`);\n}\nfunction substituteMatches(lexer, str, id, matches, state) {\n    var re = /\\$((\\$)|(#)|(\\d\\d?)|[sS](\\d\\d?)|@(\\w+))/g;\n    var stateMatches = null;\n    return str.replace(re, function (full, sub, dollar, hash, n, s, attr, ofs, total) {\n        if (!empty(dollar)) {\n            return '$';\n        }\n        if (!empty(hash)) {\n            return fixCase(lexer, id);\n        }\n        if (!empty(n) && n < matches.length) {\n            return fixCase(lexer, matches[n]);\n        }\n        if (!empty(attr) && lexer && typeof (lexer[attr]) === 'string') {\n            return lexer[attr];\n        }\n        if (stateMatches === null) {\n            stateMatches = state.split('.');\n            stateMatches.unshift(state);\n        }\n        if (!empty(s) && s < stateMatches.length) {\n            return fixCase(lexer, stateMatches[s]);\n        }\n        return '';\n    });\n}\nfunction findRules(lexer, state) {\n    while (state && state.length > 0) {\n        var rules = lexer.tokenizer[state];\n        if (rules) {\n            return rules;\n        }\n        var idx = state.lastIndexOf('.');\n        if (idx < 0) {\n            state = null;\n        }\n        else {\n            state = state.substr(0, idx);\n        }\n    }\n    return null;\n}\nfunction stateExists(lexer, state) {\n    while (state && state.length > 0) {\n        var exist = lexer.stateNames[state];\n        if (exist) {\n            return true;\n        }\n        var idx = state.lastIndexOf('.');\n        if (idx < 0) {\n            state = null;\n        }\n        else {\n            state = state.substr(0, idx);\n        }\n    }\n    return false;\n}\n\nfunction isArrayOf(elemType, obj) {\n    if (!obj) {\n        return false;\n    }\n    if (!(Array.isArray(obj))) {\n        return false;\n    }\n    var idx;\n    for (idx in obj) {\n        if (obj.hasOwnProperty(idx)) {\n            if (!(elemType(obj[idx]))) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction bool(prop, def, onerr) {\n    if (typeof (prop) === 'boolean') {\n        return prop;\n    }\n    if (onerr && (prop || def === undefined)) {\n        onerr();\n    }\n    return (def === undefined ? null : def);\n}\nfunction string(prop, def, onerr) {\n    if (typeof (prop) === 'string') {\n        return prop;\n    }\n    if (onerr && (prop || def === undefined)) {\n        onerr();\n    }\n    return (def === undefined ? null : def);\n}\nfunction compileRegExp(lexer, str) {\n    if (typeof (str) !== 'string') {\n        return null;\n    }\n    var n = 0;\n    while (str.indexOf('@') >= 0 && n < 5) {\n        n++;\n        str = str.replace(/@(\\w+)/g, function (s, attr) {\n            var sub = '';\n            if (typeof (lexer[attr]) === 'string') {\n                sub = lexer[attr];\n            }\n            else if (lexer[attr] && lexer[attr] instanceof RegExp) {\n                sub = lexer[attr].source;\n            }\n            else {\n                if (lexer[attr] === undefined) {\n                    throwError(lexer, 'language definition does not contain attribute \\'' + attr + '\\', used at: ' + str);\n                }\n                else {\n                    throwError(lexer, 'attribute reference \\'' + attr + '\\' must be a string, used at: ' + str);\n                }\n            }\n            return (empty(sub) ? '' : '(?:' + sub + ')');\n        });\n    }\n    return new RegExp(str, (lexer.ignoreCase ? 'i' : ''));\n}\nfunction selectScrutinee(id, matches, state, num) {\n    if (num < 0) {\n        return id;\n    }\n    if (num < matches.length) {\n        return matches[num];\n    }\n    if (num >= 100) {\n        num = num - 100;\n        var parts = state.split('.');\n        parts.unshift(state);\n        if (num < parts.length) {\n            return parts[num];\n        }\n    }\n    return null;\n}\nfunction createGuard(lexer, ruleName, tkey, val) {\n    var scrut = -1;\n    var oppat = tkey;\n    var matches = tkey.match(/^\\$(([sS]?)(\\d\\d?)|#)(.*)$/);\n    if (matches) {\n        if (matches[3]) {\n            scrut = parseInt(matches[3]);\n            if (matches[2]) {\n                scrut = scrut + 100;\n            }\n        }\n        oppat = matches[4];\n    }\n    var op = '~';\n    var pat = oppat;\n    if (!oppat || oppat.length === 0) {\n        op = '!=';\n        pat = '';\n    }\n    else if (/^\\w*$/.test(pat)) {\n        op = '==';\n    }\n    else {\n        matches = oppat.match(/^(@|!@|~|!~|==|!=)(.*)$/);\n        if (matches) {\n            op = matches[1];\n            pat = matches[2];\n        }\n    }\n    var tester;\n    if ((op === '~' || op === '!~') && /^(\\w|\\|)*$/.test(pat)) {\n        var inWords = createKeywordMatcher(pat.split('|'), lexer.ignoreCase);\n        tester = function (s) { return (op === '~' ? inWords(s) : !inWords(s)); };\n    }\n    else if (op === '@' || op === '!@') {\n        var words = lexer[pat];\n        if (!words) {\n            throwError(lexer, 'the @ match target \\'' + pat + '\\' is not defined, in rule: ' + ruleName);\n        }\n        if (!(isArrayOf(function (elem) { return (typeof (elem) === 'string'); }, words))) {\n            throwError(lexer, 'the @ match target \\'' + pat + '\\' must be an array of strings, in rule: ' + ruleName);\n        }\n        var inWords = createKeywordMatcher(words, lexer.ignoreCase);\n        tester = function (s) { return (op === '@' ? inWords(s) : !inWords(s)); };\n    }\n    else if (op === '~' || op === '!~') {\n        if (pat.indexOf('$') < 0) {\n            var re = compileRegExp(lexer, '^' + pat + '$');\n            tester = function (s) { return (op === '~' ? re.test(s) : !re.test(s)); };\n        }\n        else {\n            tester = function (s, id, matches, state) {\n                var re = compileRegExp(lexer, '^' + substituteMatches(lexer, pat, id, matches, state) + '$');\n                return re.test(s);\n            };\n        }\n    }\n    else {\n        if (pat.indexOf('$') < 0) {\n            var patx = fixCase(lexer, pat);\n            tester = function (s) { return (op === '==' ? s === patx : s !== patx); };\n        }\n        else {\n            var patx = fixCase(lexer, pat);\n            tester = function (s, id, matches, state, eos) {\n                var patexp = substituteMatches(lexer, patx, id, matches, state);\n                return (op === '==' ? s === patexp : s !== patexp);\n            };\n        }\n    }\n    if (scrut === -1) {\n        return {\n            name: tkey, value: val, test: function (id, matches, state, eos) {\n                return tester(id, id, matches, state, eos);\n            }\n        };\n    }\n    else {\n        return {\n            name: tkey, value: val, test: function (id, matches, state, eos) {\n                var scrutinee = selectScrutinee(id, matches, state, scrut);\n                return tester(!scrutinee ? '' : scrutinee, id, matches, state, eos);\n            }\n        };\n    }\n}\nfunction compileAction(lexer, ruleName, action) {\n    if (!action) {\n        return { token: '' };\n    }\n    else if (typeof (action) === 'string') {\n        return action;\n    }\n    else if (action.token || action.token === '') {\n        if (typeof (action.token) !== 'string') {\n            throwError(lexer, 'a \\'token\\' attribute must be of type string, in rule: ' + ruleName);\n            return { token: '' };\n        }\n        else {\n            var newAction = { token: action.token };\n            if (action.token.indexOf('$') >= 0) {\n                newAction.tokenSubst = true;\n            }\n            if (typeof (action.bracket) === 'string') {\n                if (action.bracket === '@open') {\n                    newAction.bracket = 1;\n                }\n                else if (action.bracket === '@close') {\n                    newAction.bracket = -1;\n                }\n                else {\n                    throwError(lexer, 'a \\'bracket\\' attribute must be either \\'@open\\' or \\'@close\\', in rule: ' + ruleName);\n                }\n            }\n            if (action.next) {\n                if (typeof (action.next) !== 'string') {\n                    throwError(lexer, 'the next state must be a string value in rule: ' + ruleName);\n                }\n                else {\n                    var next = action.next;\n                    if (!/^(@pop|@push|@popall)$/.test(next)) {\n                        if (next[0] === '@') {\n                            next = next.substr(1);\n                        }\n                        if (next.indexOf('$') < 0) {\n                            if (!stateExists(lexer, substituteMatches(lexer, next, '', [], ''))) {\n                                throwError(lexer, 'the next state \\'' + action.next + '\\' is not defined in rule: ' + ruleName);\n                            }\n                        }\n                    }\n                    newAction.next = next;\n                }\n            }\n            if (typeof (action.goBack) === 'number') {\n                newAction.goBack = action.goBack;\n            }\n            if (typeof (action.switchTo) === 'string') {\n                newAction.switchTo = action.switchTo;\n            }\n            if (typeof (action.log) === 'string') {\n                newAction.log = action.log;\n            }\n            if (typeof (action.nextEmbedded) === 'string') {\n                newAction.nextEmbedded = action.nextEmbedded;\n                lexer.usesEmbedded = true;\n            }\n            return newAction;\n        }\n    }\n    else if (Array.isArray(action)) {\n        var results = [];\n        var idx;\n        for (idx in action) {\n            if (action.hasOwnProperty(idx)) {\n                results[idx] = compileAction(lexer, ruleName, action[idx]);\n            }\n        }\n        return { group: results };\n    }\n    else if (action.cases) {\n        var cases = [];\n        var tkey;\n        for (tkey in action.cases) {\n            if (action.cases.hasOwnProperty(tkey)) {\n                var val = compileAction(lexer, ruleName, action.cases[tkey]);\n                if (tkey === '@default' || tkey === '@' || tkey === '') {\n                    cases.push({ test: null, value: val, name: tkey });\n                }\n                else if (tkey === '@eos') {\n                    cases.push({ test: function (id, matches, state, eos) { return eos; }, value: val, name: tkey });\n                }\n                else {\n                    cases.push(createGuard(lexer, ruleName, tkey, val));\n                }\n            }\n        }\n        var def = lexer.defaultToken;\n        return {\n            test: function (id, matches, state, eos) {\n                var idx;\n                for (idx in cases) {\n                    if (cases.hasOwnProperty(idx)) {\n                        var didmatch = (!cases[idx].test || cases[idx].test(id, matches, state, eos));\n                        if (didmatch) {\n                            return cases[idx].value;\n                        }\n                    }\n                }\n                return def;\n            }\n        };\n    }\n    else {\n        throwError(lexer, 'an action must be a string, an object with a \\'token\\' or \\'cases\\' attribute, or an array of actions; in rule: ' + ruleName);\n        return '';\n    }\n}\nclass Rule {\n    constructor(name) {\n        this.regex = new RegExp('');\n        this.action = { token: '' };\n        this.matchOnlyAtLineStart = false;\n        this.name = '';\n        this.name = name;\n    }\n    setRegex(lexer, re) {\n        var sregex;\n        if (typeof (re) === 'string') {\n            sregex = re;\n        }\n        else if (re instanceof RegExp) {\n            sregex = re.source;\n        }\n        else {\n            throwError(lexer, 'rules must start with a match string or regular expression: ' + this.name);\n        }\n        this.matchOnlyAtLineStart = (sregex.length > 0 && sregex[0] === '^');\n        this.name = this.name + ': ' + sregex;\n        this.regex = compileRegExp(lexer, '^(?:' + (this.matchOnlyAtLineStart ? sregex.substr(1) : sregex) + ')');\n    }\n    setAction(lexer, act) {\n        this.action = compileAction(lexer, this.name, act);\n    }\n}\nfunction compile(languageId, json) {\n    if (!json || typeof (json) !== 'object') {\n        throw new Error('Monarch: expecting a language definition object');\n    }\n    var lexer = {};\n    lexer.languageId = languageId;\n    lexer.noThrow = false;\n    lexer.maxStack = 100;\n    lexer.start = string(json.start);\n    lexer.ignoreCase = bool(json.ignoreCase, false);\n    lexer.tokenPostfix = string(json.tokenPostfix, '.' + lexer.languageId);\n    lexer.defaultToken = string(json.defaultToken, 'source', function () { throwError(lexer, 'the \\'defaultToken\\' must be a string'); });\n    lexer.usesEmbedded = false;\n    var lexerMin = json;\n    lexerMin.languageId = languageId;\n    lexerMin.ignoreCase = lexer.ignoreCase;\n    lexerMin.noThrow = lexer.noThrow;\n    lexerMin.usesEmbedded = lexer.usesEmbedded;\n    lexerMin.stateNames = json.tokenizer;\n    lexerMin.defaultToken = lexer.defaultToken;\n    function addRules(state, newrules, rules) {\n        var idx;\n        for (idx in rules) {\n            if (rules.hasOwnProperty(idx)) {\n                var rule = rules[idx];\n                var include = rule.include;\n                if (include) {\n                    if (typeof (include) !== 'string') {\n                        throwError(lexer, 'an \\'include\\' attribute must be a string at: ' + state);\n                    }\n                    if (include[0] === '@') {\n                        include = include.substr(1);\n                    }\n                    if (!json.tokenizer[include]) {\n                        throwError(lexer, 'include target \\'' + include + '\\' is not defined at: ' + state);\n                    }\n                    addRules(state + '.' + include, newrules, json.tokenizer[include]);\n                }\n                else {\n                    var newrule = new Rule(state);\n                    if (Array.isArray(rule) && rule.length >= 1 && rule.length <= 3) {\n                        newrule.setRegex(lexerMin, rule[0]);\n                        if (rule.length >= 3) {\n                            if (typeof (rule[1]) === 'string') {\n                                newrule.setAction(lexerMin, { token: rule[1], next: rule[2] });\n                            }\n                            else if (typeof (rule[1]) === 'object') {\n                                var rule1 = rule[1];\n                                rule1.next = rule[2];\n                                newrule.setAction(lexerMin, rule1);\n                            }\n                            else {\n                                throwError(lexer, 'a next state as the last element of a rule can only be given if the action is either an object or a string, at: ' + state);\n                            }\n                        }\n                        else {\n                            newrule.setAction(lexerMin, rule[1]);\n                        }\n                    }\n                    else {\n                        if (!rule.regex) {\n                            throwError(lexer, 'a rule must either be an array, or an object with a \\'regex\\' or \\'include\\' field at: ' + state);\n                        }\n                        if (rule.name) {\n                            newrule.name = string(rule.name);\n                        }\n                        if (rule.matchOnlyAtStart) {\n                            newrule.matchOnlyAtLineStart = bool(rule.matchOnlyAtLineStart);\n                        }\n                        newrule.setRegex(lexerMin, rule.regex);\n                        newrule.setAction(lexerMin, rule.action);\n                    }\n                    newrules.push(newrule);\n                }\n            }\n        }\n    }\n    if (!json.tokenizer || typeof (json.tokenizer) !== 'object') {\n        throwError(lexer, 'a language definition must define the \\'tokenizer\\' attribute as an object');\n    }\n    lexer.tokenizer = [];\n    var key;\n    for (key in json.tokenizer) {\n        if (json.tokenizer.hasOwnProperty(key)) {\n            if (!lexer.start) {\n                lexer.start = key;\n            }\n            var rules = json.tokenizer[key];\n            lexer.tokenizer[key] = new Array();\n            addRules('tokenizer.' + key, lexer.tokenizer[key], rules);\n        }\n    }\n    lexer.usesEmbedded = lexerMin.usesEmbedded;\n    if (json.brackets) {\n        if (!(Array.isArray(json.brackets))) {\n            throwError(lexer, 'the \\'brackets\\' attribute must be defined as an array');\n        }\n    }\n    else {\n        json.brackets = [\n            { open: '{', close: '}', token: 'delimiter.curly' },\n            { open: '[', close: ']', token: 'delimiter.square' },\n            { open: '(', close: ')', token: 'delimiter.parenthesis' },\n            { open: '<', close: '>', token: 'delimiter.angle' }\n        ];\n    }\n    var brackets = [];\n    for (var bracketIdx in json.brackets) {\n        if (json.brackets.hasOwnProperty(bracketIdx)) {\n            var desc = json.brackets[bracketIdx];\n            if (desc && Array.isArray(desc) && desc.length === 3) {\n                desc = { token: desc[2], open: desc[0], close: desc[1] };\n            }\n            if (desc.open === desc.close) {\n                throwError(lexer, 'open and close brackets in a \\'brackets\\' attribute must be different: ' + desc.open +\n                    '\\n hint: use the \\'bracket\\' attribute if matching on equal brackets is required.');\n            }\n            if (typeof (desc.open) === 'string' && typeof (desc.token) === 'string') {\n                brackets.push({\n                    token: string(desc.token) + lexer.tokenPostfix,\n                    open: fixCase(lexer, string(desc.open)),\n                    close: fixCase(lexer, string(desc.close))\n                });\n            }\n            else {\n                throwError(lexer, 'every element in the \\'brackets\\' array must be a \\'{open,close,token}\\' object or array');\n            }\n        }\n    }\n    lexer.brackets = brackets;\n    lexer.noThrow = true;\n    return lexer;\n}\n\nconst empty$1 = Object.freeze({\n    dispose() { }\n});\n\nlet _isWindows = false;\nlet _isMacintosh = false;\nlet _isLinux = false;\nlet _isRootUser = false;\nlet _isNative = false;\nlet _locale = undefined;\n\nif (typeof navigator === 'object') {\n    let userAgent = navigator.userAgent;\n    _isWindows = userAgent.indexOf('Windows') >= 0;\n    _isMacintosh = userAgent.indexOf('Macintosh') >= 0;\n    _isLinux = userAgent.indexOf('Linux') >= 0;\n    _locale = navigator.language;\n    \n}\nvar Platform;\n(function (Platform) {\n    Platform[Platform[\"Web\"] = 0] = \"Web\";\n    Platform[Platform[\"Mac\"] = 1] = \"Mac\";\n    Platform[Platform[\"Linux\"] = 2] = \"Linux\";\n    Platform[Platform[\"Windows\"] = 3] = \"Windows\";\n})(Platform || (Platform = {}));\nlet _platform = Platform.Web;\nif (_isNative) {\n    if (_isMacintosh) {\n        _platform = Platform.Mac;\n    }\n    else if (_isWindows) {\n        _platform = Platform.Windows;\n    }\n    else if (_isLinux) {\n        _platform = Platform.Linux;\n    }\n}\n\n\n\n\n\n\n\n\n\nconst _globals = (typeof self === 'object' ? self : global);\n\n\nconst setTimeout$1   = function(){}; // _globals.setTimeout.bind(_globals);\nconst clearTimeout$1 = function(){}; // _globals.clearTimeout.bind(_globals);\nconst setInterval    = function(){}; // _globals.setInterval.bind(_globals);\nconst clearInterval  = function(){}; // _globals.clearInterval.bind(_globals);\n\n/**\n * Extracted from https://github.com/winjs/winjs\n * Version: 4.4.0(ec3258a9f3a36805a187848984e3bb938044178d)\n * Copyright (c) Microsoft Corporation.\n * All Rights Reserved.\n * Licensed under the MIT License.\n */\nvar win = (function() {\n\n\tvar _modules = {};\n\t_modules[\"WinJS/Core/_WinJS\"] = {};\n\n\tvar _winjs = function(moduleId, deps, factory) {\n\t\tvar exports = {};\n\t\tvar exportsPassedIn = false;\n\n\t\tvar depsValues = deps.map(function(dep) {\n\t\t\tif (dep === 'exports') {\n\t\t\t\texportsPassedIn = true;\n\t\t\t\treturn exports;\n\t\t\t}\n\t\t\treturn _modules[dep];\n\t\t});\n\n\t\tvar result = factory.apply({}, depsValues);\n\n\t\t_modules[moduleId] = exportsPassedIn ? exports : result;\n\t};\n\n\n\t_winjs(\"WinJS/Core/_Global\", [], function () {\n\t\tvar globalObject =\n\t\t\ttypeof window !== 'undefined' ? window :\n\t\t\ttypeof self !== 'undefined' ? self :\n\t\t\ttypeof global !== 'undefined' ? global :\n\t\t\t{};\n\t\treturn globalObject;\n\t});\n\n\t_winjs(\"WinJS/Core/_BaseCoreUtils\", [\"WinJS/Core/_Global\"], function baseCoreUtilsInit(_Global) {\n\t\tvar hasWinRT = !!_Global.Windows;\n\n\t\tfunction markSupportedForProcessing(func) {\n\t\t\t/// <signature helpKeyword=\"WinJS.Utilities.markSupportedForProcessing\">\n\t\t\t/// <summary locid=\"WinJS.Utilities.markSupportedForProcessing\">\n\t\t\t/// Marks a function as being compatible with declarative processing, such as WinJS.UI.processAll\n\t\t\t/// or WinJS.Binding.processAll.\n\t\t\t/// </summary>\n\t\t\t/// <param name=\"func\" type=\"Function\" locid=\"WinJS.Utilities.markSupportedForProcessing_p:func\">\n\t\t\t/// The function to be marked as compatible with declarative processing.\n\t\t\t/// </param>\n\t\t\t/// <returns type=\"Function\" locid=\"WinJS.Utilities.markSupportedForProcessing_returnValue\">\n\t\t\t/// The input function.\n\t\t\t/// </returns>\n\t\t\t/// </signature>\n\t\t\tfunc.supportedForProcessing = true;\n\t\t\treturn func;\n\t\t}\n\n\t\treturn {\n\t\t\thasWinRT: hasWinRT,\n\t\t\tmarkSupportedForProcessing: markSupportedForProcessing,\n\t\t\t_setImmediate: _Global.setImmediate ? _Global.setImmediate.bind(_Global) : function (handler) {\n\t\t\t\t_Global.setTimeout(handler, 0);\n\t\t\t}\n\t\t};\n\t});\n\t_winjs(\"WinJS/Core/_WriteProfilerMark\", [\"WinJS/Core/_Global\"], function profilerInit(_Global) {\n\t\treturn _Global.msWriteProfilerMark || function () { };\n\t});\n\t_winjs(\"WinJS/Core/_Base\", [\"WinJS/Core/_WinJS\",\"WinJS/Core/_Global\",\"WinJS/Core/_BaseCoreUtils\",\"WinJS/Core/_WriteProfilerMark\"], function baseInit(_WinJS, _Global, _BaseCoreUtils, _WriteProfilerMark) {\n\t\tfunction initializeProperties(target, members, prefix) {\n\t\t\tvar keys = Object.keys(members);\n\t\t\tvar isArray = Array.isArray(target);\n\t\t\tvar properties;\n\t\t\tvar i, len;\n\t\t\tfor (i = 0, len = keys.length; i < len; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tvar enumerable = key.charCodeAt(0) !== /*_*/95;\n\t\t\t\tvar member = members[key];\n\t\t\t\tif (member && typeof member === 'object') {\n\t\t\t\t\tif (member.value !== undefined || typeof member.get === 'function' || typeof member.set === 'function') {\n\t\t\t\t\t\tif (member.enumerable === undefined) {\n\t\t\t\t\t\t\tmember.enumerable = enumerable;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (prefix && member.setName && typeof member.setName === 'function') {\n\t\t\t\t\t\t\tmember.setName(prefix + \".\" + key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tproperties = properties || {};\n\t\t\t\t\t\tproperties[key] = member;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!enumerable) {\n\t\t\t\t\tproperties = properties || {};\n\t\t\t\t\tproperties[key] = { value: member, enumerable: enumerable, configurable: true, writable: true };\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (isArray) {\n\t\t\t\t\ttarget.forEach(function (target) {\n\t\t\t\t\t\ttarget[key] = member;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttarget[key] = member;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (properties) {\n\t\t\t\tif (isArray) {\n\t\t\t\t\ttarget.forEach(function (target) {\n\t\t\t\t\t\tObject.defineProperties(target, properties);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperties(target, properties);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t(function () {\n\n\t\t\tvar _rootNamespace = _WinJS;\n\t\t\tif (!_rootNamespace.Namespace) {\n\t\t\t\t_rootNamespace.Namespace = Object.create(Object.prototype);\n\t\t\t}\n\n\t\t\tfunction createNamespace(parentNamespace, name) {\n\t\t\t\tvar currentNamespace = parentNamespace || {};\n\t\t\t\tif (name) {\n\t\t\t\t\tvar namespaceFragments = name.split(\".\");\n\t\t\t\t\tif (currentNamespace === _Global && namespaceFragments[0] === \"WinJS\") {\n\t\t\t\t\t\tcurrentNamespace = _WinJS;\n\t\t\t\t\t\tnamespaceFragments.splice(0, 1);\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i = 0, len = namespaceFragments.length; i < len; i++) {\n\t\t\t\t\t\tvar namespaceName = namespaceFragments[i];\n\t\t\t\t\t\tif (!currentNamespace[namespaceName]) {\n\t\t\t\t\t\t\tObject.defineProperty(currentNamespace, namespaceName,\n\t\t\t\t\t\t\t\t{ value: {}, writable: false, enumerable: true, configurable: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentNamespace = currentNamespace[namespaceName];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn currentNamespace;\n\t\t\t}\n\n\t\t\tfunction defineWithParent(parentNamespace, name, members) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.Namespace.defineWithParent\">\n\t\t\t\t/// <summary locid=\"WinJS.Namespace.defineWithParent\">\n\t\t\t\t/// Defines a new namespace with the specified name under the specified parent namespace.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name=\"parentNamespace\" type=\"Object\" locid=\"WinJS.Namespace.defineWithParent_p:parentNamespace\">\n\t\t\t\t/// The parent namespace.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"name\" type=\"String\" locid=\"WinJS.Namespace.defineWithParent_p:name\">\n\t\t\t\t/// The name of the new namespace.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"members\" type=\"Object\" locid=\"WinJS.Namespace.defineWithParent_p:members\">\n\t\t\t\t/// The members of the new namespace.\n\t\t\t\t/// </param>\n\t\t\t\t/// <returns type=\"Object\" locid=\"WinJS.Namespace.defineWithParent_returnValue\">\n\t\t\t\t/// The newly-defined namespace.\n\t\t\t\t/// </returns>\n\t\t\t\t/// </signature>\n\t\t\t\tvar currentNamespace = createNamespace(parentNamespace, name);\n\n\t\t\t\tif (members) {\n\t\t\t\t\tinitializeProperties(currentNamespace, members, name || \"<ANONYMOUS>\");\n\t\t\t\t}\n\n\t\t\t\treturn currentNamespace;\n\t\t\t}\n\n\t\t\tfunction define(name, members) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.Namespace.define\">\n\t\t\t\t/// <summary locid=\"WinJS.Namespace.define\">\n\t\t\t\t/// Defines a new namespace with the specified name.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name=\"name\" type=\"String\" locid=\"WinJS.Namespace.define_p:name\">\n\t\t\t\t/// The name of the namespace. This could be a dot-separated name for nested namespaces.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"members\" type=\"Object\" locid=\"WinJS.Namespace.define_p:members\">\n\t\t\t\t/// The members of the new namespace.\n\t\t\t\t/// </param>\n\t\t\t\t/// <returns type=\"Object\" locid=\"WinJS.Namespace.define_returnValue\">\n\t\t\t\t/// The newly-defined namespace.\n\t\t\t\t/// </returns>\n\t\t\t\t/// </signature>\n\t\t\t\treturn defineWithParent(_Global, name, members);\n\t\t\t}\n\n\t\t\tvar LazyStates = {\n\t\t\t\tuninitialized: 1,\n\t\t\t\tworking: 2,\n\t\t\t\tinitialized: 3,\n\t\t\t};\n\n\t\t\tfunction lazy(f) {\n\t\t\t\tvar name;\n\t\t\t\tvar state = LazyStates.uninitialized;\n\t\t\t\tvar result;\n\t\t\t\treturn {\n\t\t\t\t\tsetName: function (value) {\n\t\t\t\t\t\tname = value;\n\t\t\t\t\t},\n\t\t\t\t\tget: function () {\n\t\t\t\t\t\tswitch (state) {\n\t\t\t\t\t\t\tcase LazyStates.initialized:\n\t\t\t\t\t\t\t\treturn result;\n\n\t\t\t\t\t\t\tcase LazyStates.uninitialized:\n\t\t\t\t\t\t\t\tstate = LazyStates.working;\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t_WriteProfilerMark(\"WinJS.Namespace._lazy:\" + name + \",StartTM\");\n\t\t\t\t\t\t\t\t\tresult = f();\n\t\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t\t_WriteProfilerMark(\"WinJS.Namespace._lazy:\" + name + \",StopTM\");\n\t\t\t\t\t\t\t\t\tstate = LazyStates.uninitialized;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tf = null;\n\t\t\t\t\t\t\t\tstate = LazyStates.initialized;\n\t\t\t\t\t\t\t\treturn result;\n\n\t\t\t\t\t\t\tcase LazyStates.working:\n\t\t\t\t\t\t\t\tthrow \"Illegal: reentrancy on initialization\";\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tthrow \"Illegal\";\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tset: function (value) {\n\t\t\t\t\t\tswitch (state) {\n\t\t\t\t\t\t\tcase LazyStates.working:\n\t\t\t\t\t\t\t\tthrow \"Illegal: reentrancy on initialization\";\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tstate = LazyStates.initialized;\n\t\t\t\t\t\t\t\tresult = value;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// helper for defining AMD module members\n\t\t\tfunction moduleDefine(exports, name, members) {\n\t\t\t\tvar target = [exports];\n\t\t\t\tvar publicNS = null;\n\t\t\t\tif (name) {\n\t\t\t\t\tpublicNS = createNamespace(_Global, name);\n\t\t\t\t\ttarget.push(publicNS);\n\t\t\t\t}\n\t\t\t\tinitializeProperties(target, members, name || \"<ANONYMOUS>\");\n\t\t\t\treturn publicNS;\n\t\t\t}\n\n\t\t\t// Establish members of the \"WinJS.Namespace\" namespace\n\t\t\tObject.defineProperties(_rootNamespace.Namespace, {\n\n\t\t\t\tdefineWithParent: { value: defineWithParent, writable: true, enumerable: true, configurable: true },\n\n\t\t\t\tdefine: { value: define, writable: true, enumerable: true, configurable: true },\n\n\t\t\t\t_lazy: { value: lazy, writable: true, enumerable: true, configurable: true },\n\n\t\t\t\t_moduleDefine: { value: moduleDefine, writable: true, enumerable: true, configurable: true }\n\n\t\t\t});\n\n\t\t})();\n\n\t\t(function () {\n\n\t\t\tfunction define(constructor, instanceMembers, staticMembers) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.Class.define\">\n\t\t\t\t/// <summary locid=\"WinJS.Class.define\">\n\t\t\t\t/// Defines a class using the given constructor and the specified instance members.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name=\"constructor\" type=\"Function\" locid=\"WinJS.Class.define_p:constructor\">\n\t\t\t\t/// A constructor function that is used to instantiate this class.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"instanceMembers\" type=\"Object\" locid=\"WinJS.Class.define_p:instanceMembers\">\n\t\t\t\t/// The set of instance fields, properties, and methods made available on the class.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"staticMembers\" type=\"Object\" locid=\"WinJS.Class.define_p:staticMembers\">\n\t\t\t\t/// The set of static fields, properties, and methods made available on the class.\n\t\t\t\t/// </param>\n\t\t\t\t/// <returns type=\"Function\" locid=\"WinJS.Class.define_returnValue\">\n\t\t\t\t/// The newly-defined class.\n\t\t\t\t/// </returns>\n\t\t\t\t/// </signature>\n\t\t\t\tconstructor = constructor || function () { };\n\t\t\t\t_BaseCoreUtils.markSupportedForProcessing(constructor);\n\t\t\t\tif (instanceMembers) {\n\t\t\t\t\tinitializeProperties(constructor.prototype, instanceMembers);\n\t\t\t\t}\n\t\t\t\tif (staticMembers) {\n\t\t\t\t\tinitializeProperties(constructor, staticMembers);\n\t\t\t\t}\n\t\t\t\treturn constructor;\n\t\t\t}\n\n\t\t\tfunction derive(baseClass, constructor, instanceMembers, staticMembers) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.Class.derive\">\n\t\t\t\t/// <summary locid=\"WinJS.Class.derive\">\n\t\t\t\t/// Creates a sub-class based on the supplied baseClass parameter, using prototypal inheritance.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name=\"baseClass\" type=\"Function\" locid=\"WinJS.Class.derive_p:baseClass\">\n\t\t\t\t/// The class to inherit from.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"constructor\" type=\"Function\" locid=\"WinJS.Class.derive_p:constructor\">\n\t\t\t\t/// A constructor function that is used to instantiate this class.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"instanceMembers\" type=\"Object\" locid=\"WinJS.Class.derive_p:instanceMembers\">\n\t\t\t\t/// The set of instance fields, properties, and methods to be made available on the class.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"staticMembers\" type=\"Object\" locid=\"WinJS.Class.derive_p:staticMembers\">\n\t\t\t\t/// The set of static fields, properties, and methods to be made available on the class.\n\t\t\t\t/// </param>\n\t\t\t\t/// <returns type=\"Function\" locid=\"WinJS.Class.derive_returnValue\">\n\t\t\t\t/// The newly-defined class.\n\t\t\t\t/// </returns>\n\t\t\t\t/// </signature>\n\t\t\t\tif (baseClass) {\n\t\t\t\t\tconstructor = constructor || function () { };\n\t\t\t\t\tvar basePrototype = baseClass.prototype;\n\t\t\t\t\tconstructor.prototype = Object.create(basePrototype);\n\t\t\t\t\t_BaseCoreUtils.markSupportedForProcessing(constructor);\n\t\t\t\t\tObject.defineProperty(constructor.prototype, \"constructor\", { value: constructor, writable: true, configurable: true, enumerable: true });\n\t\t\t\t\tif (instanceMembers) {\n\t\t\t\t\t\tinitializeProperties(constructor.prototype, instanceMembers);\n\t\t\t\t\t}\n\t\t\t\t\tif (staticMembers) {\n\t\t\t\t\t\tinitializeProperties(constructor, staticMembers);\n\t\t\t\t\t}\n\t\t\t\t\treturn constructor;\n\t\t\t\t} else {\n\t\t\t\t\treturn define(constructor, instanceMembers, staticMembers);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction mix(constructor) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.Class.mix\">\n\t\t\t\t/// <summary locid=\"WinJS.Class.mix\">\n\t\t\t\t/// Defines a class using the given constructor and the union of the set of instance members\n\t\t\t\t/// specified by all the mixin objects. The mixin parameter list is of variable length.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name=\"constructor\" locid=\"WinJS.Class.mix_p:constructor\">\n\t\t\t\t/// A constructor function that is used to instantiate this class.\n\t\t\t\t/// </param>\n\t\t\t\t/// <returns type=\"Function\" locid=\"WinJS.Class.mix_returnValue\">\n\t\t\t\t/// The newly-defined class.\n\t\t\t\t/// </returns>\n\t\t\t\t/// </signature>\n\t\t\t\tconstructor = constructor || function () { };\n\t\t\t\tvar i, len;\n\t\t\t\tfor (i = 1, len = arguments.length; i < len; i++) {\n\t\t\t\t\tinitializeProperties(constructor.prototype, arguments[i]);\n\t\t\t\t}\n\t\t\t\treturn constructor;\n\t\t\t}\n\n\t\t\t// Establish members of \"WinJS.Class\" namespace\n\t\t\t_WinJS.Namespace.define(\"WinJS.Class\", {\n\t\t\t\tdefine: define,\n\t\t\t\tderive: derive,\n\t\t\t\tmix: mix\n\t\t\t});\n\n\t\t})();\n\n\t\treturn {\n\t\t\tNamespace: _WinJS.Namespace,\n\t\t\tClass: _WinJS.Class\n\t\t};\n\n\t});\n\t_winjs(\"WinJS/Core/_ErrorFromName\", [\"WinJS/Core/_Base\"], function errorsInit(_Base) {\n\t\tvar ErrorFromName = _Base.Class.derive(Error, function (name, message) {\n\t\t\t/// <signature helpKeyword=\"WinJS.ErrorFromName\">\n\t\t\t/// <summary locid=\"WinJS.ErrorFromName\">\n\t\t\t/// Creates an Error object with the specified name and message properties.\n\t\t\t/// </summary>\n\t\t\t/// <param name=\"name\" type=\"String\" locid=\"WinJS.ErrorFromName_p:name\">The name of this error. The name is meant to be consumed programmatically and should not be localized.</param>\n\t\t\t/// <param name=\"message\" type=\"String\" optional=\"true\" locid=\"WinJS.ErrorFromName_p:message\">The message for this error. The message is meant to be consumed by humans and should be localized.</param>\n\t\t\t/// <returns type=\"Error\" locid=\"WinJS.ErrorFromName_returnValue\">Error instance with .name and .message properties populated</returns>\n\t\t\t/// </signature>\n\t\t\tthis.name = name;\n\t\t\tthis.message = message || name;\n\t\t}, {\n\t\t\t/* empty */\n\t\t}, {\n\t\t\tsupportedForProcessing: false,\n\t\t});\n\n\t\t_Base.Namespace.define(\"WinJS\", {\n\t\t\t// ErrorFromName establishes a simple pattern for returning error codes.\n\t\t\t//\n\t\t\tErrorFromName: ErrorFromName\n\t\t});\n\n\t\treturn ErrorFromName;\n\n\t});\n\n\n\t_winjs(\"WinJS/Core/_Events\", [\"exports\",\"WinJS/Core/_Base\"], function eventsInit(exports, _Base) {\n\t\tfunction createEventProperty(name) {\n\t\t\tvar eventPropStateName = \"_on\" + name + \"state\";\n\n\t\t\treturn {\n\t\t\t\tget: function () {\n\t\t\t\t\tvar state = this[eventPropStateName];\n\t\t\t\t\treturn state && state.userHandler;\n\t\t\t\t},\n\t\t\t\tset: function (handler) {\n\t\t\t\t\tvar state = this[eventPropStateName];\n\t\t\t\t\tif (handler) {\n\t\t\t\t\t\tif (!state) {\n\t\t\t\t\t\t\tstate = { wrapper: function (evt) { return state.userHandler(evt); }, userHandler: handler };\n\t\t\t\t\t\t\tObject.defineProperty(this, eventPropStateName, { value: state, enumerable: false, writable:true, configurable: true });\n\t\t\t\t\t\t\tthis.addEventListener(name, state.wrapper, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate.userHandler = handler;\n\t\t\t\t\t} else if (state) {\n\t\t\t\t\t\tthis.removeEventListener(name, state.wrapper, false);\n\t\t\t\t\t\tthis[eventPropStateName] = null;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tenumerable: true\n\t\t\t};\n\t\t}\n\n\t\tfunction createEventProperties() {\n\t\t\t/// <signature helpKeyword=\"WinJS.Utilities.createEventProperties\">\n\t\t\t/// <summary locid=\"WinJS.Utilities.createEventProperties\">\n\t\t\t/// Creates an object that has one property for each name passed to the function.\n\t\t\t/// </summary>\n\t\t\t/// <param name=\"events\" locid=\"WinJS.Utilities.createEventProperties_p:events\">\n\t\t\t/// A variable list of property names.\n\t\t\t/// </param>\n\t\t\t/// <returns type=\"Object\" locid=\"WinJS.Utilities.createEventProperties_returnValue\">\n\t\t\t/// The object with the specified properties. The names of the properties are prefixed with 'on'.\n\t\t\t/// </returns>\n\t\t\t/// </signature>\n\t\t\tvar props = {};\n\t\t\tfor (var i = 0, len = arguments.length; i < len; i++) {\n\t\t\t\tvar name = arguments[i];\n\t\t\t\tprops[\"on\" + name] = createEventProperty(name);\n\t\t\t}\n\t\t\treturn props;\n\t\t}\n\n\t\tvar EventMixinEvent = _Base.Class.define(\n\t\t\tfunction EventMixinEvent_ctor(type, detail, target) {\n\t\t\t\tthis.detail = detail;\n\t\t\t\tthis.target = target;\n\t\t\t\tthis.timeStamp = Date.now();\n\t\t\t\tthis.type = type;\n\t\t\t},\n\t\t\t{\n\t\t\t\tbubbles: { value: false, writable: false },\n\t\t\t\tcancelable: { value: false, writable: false },\n\t\t\t\tcurrentTarget: {\n\t\t\t\t\tget: function () { return this.target; }\n\t\t\t\t},\n\t\t\t\tdefaultPrevented: {\n\t\t\t\t\tget: function () { return this._preventDefaultCalled; }\n\t\t\t\t},\n\t\t\t\ttrusted: { value: false, writable: false },\n\t\t\t\teventPhase: { value: 0, writable: false },\n\t\t\t\ttarget: null,\n\t\t\t\ttimeStamp: null,\n\t\t\t\ttype: null,\n\n\t\t\t\tpreventDefault: function () {\n\t\t\t\t\tthis._preventDefaultCalled = true;\n\t\t\t\t},\n\t\t\t\tstopImmediatePropagation: function () {\n\t\t\t\t\tthis._stopImmediatePropagationCalled = true;\n\t\t\t\t},\n\t\t\t\tstopPropagation: function () {\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tsupportedForProcessing: false,\n\t\t\t}\n\t\t);\n\n\t\tvar eventMixin = {\n\t\t\t_listeners: null,\n\n\t\t\taddEventListener: function (type, listener, useCapture) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.Utilities.eventMixin.addEventListener\">\n\t\t\t\t/// <summary locid=\"WinJS.Utilities.eventMixin.addEventListener\">\n\t\t\t\t/// Adds an event listener to the control.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name=\"type\" locid=\"WinJS.Utilities.eventMixin.addEventListener_p:type\">\n\t\t\t\t/// The type (name) of the event.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"listener\" locid=\"WinJS.Utilities.eventMixin.addEventListener_p:listener\">\n\t\t\t\t/// The listener to invoke when the event is raised.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"useCapture\" locid=\"WinJS.Utilities.eventMixin.addEventListener_p:useCapture\">\n\t\t\t\t/// if true initiates capture, otherwise false.\n\t\t\t\t/// </param>\n\t\t\t\t/// </signature>\n\t\t\t\tuseCapture = useCapture || false;\n\t\t\t\tthis._listeners = this._listeners || {};\n\t\t\t\tvar eventListeners = (this._listeners[type] = this._listeners[type] || []);\n\t\t\t\tfor (var i = 0, len = eventListeners.length; i < len; i++) {\n\t\t\t\t\tvar l = eventListeners[i];\n\t\t\t\t\tif (l.useCapture === useCapture && l.listener === listener) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\teventListeners.push({ listener: listener, useCapture: useCapture });\n\t\t\t},\n\t\t\tdispatchEvent: function (type, details) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.Utilities.eventMixin.dispatchEvent\">\n\t\t\t\t/// <summary locid=\"WinJS.Utilities.eventMixin.dispatchEvent\">\n\t\t\t\t/// Raises an event of the specified type and with the specified additional properties.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name=\"type\" locid=\"WinJS.Utilities.eventMixin.dispatchEvent_p:type\">\n\t\t\t\t/// The type (name) of the event.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"details\" locid=\"WinJS.Utilities.eventMixin.dispatchEvent_p:details\">\n\t\t\t\t/// The set of additional properties to be attached to the event object when the event is raised.\n\t\t\t\t/// </param>\n\t\t\t\t/// <returns type=\"Boolean\" locid=\"WinJS.Utilities.eventMixin.dispatchEvent_returnValue\">\n\t\t\t\t/// true if preventDefault was called on the event.\n\t\t\t\t/// </returns>\n\t\t\t\t/// </signature>\n\t\t\t\tvar listeners = this._listeners && this._listeners[type];\n\t\t\t\tif (listeners) {\n\t\t\t\t\tvar eventValue = new EventMixinEvent(type, details, this);\n\t\t\t\t\t// Need to copy the array to protect against people unregistering while we are dispatching\n\t\t\t\t\tlisteners = listeners.slice(0, listeners.length);\n\t\t\t\t\tfor (var i = 0, len = listeners.length; i < len && !eventValue._stopImmediatePropagationCalled; i++) {\n\t\t\t\t\t\tlisteners[i].listener(eventValue);\n\t\t\t\t\t}\n\t\t\t\t\treturn eventValue.defaultPrevented || false;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tremoveEventListener: function (type, listener, useCapture) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.Utilities.eventMixin.removeEventListener\">\n\t\t\t\t/// <summary locid=\"WinJS.Utilities.eventMixin.removeEventListener\">\n\t\t\t\t/// Removes an event listener from the control.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name=\"type\" locid=\"WinJS.Utilities.eventMixin.removeEventListener_p:type\">\n\t\t\t\t/// The type (name) of the event.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"listener\" locid=\"WinJS.Utilities.eventMixin.removeEventListener_p:listener\">\n\t\t\t\t/// The listener to remove.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"useCapture\" locid=\"WinJS.Utilities.eventMixin.removeEventListener_p:useCapture\">\n\t\t\t\t/// Specifies whether to initiate capture.\n\t\t\t\t/// </param>\n\t\t\t\t/// </signature>\n\t\t\t\tuseCapture = useCapture || false;\n\t\t\t\tvar listeners = this._listeners && this._listeners[type];\n\t\t\t\tif (listeners) {\n\t\t\t\t\tfor (var i = 0, len = listeners.length; i < len; i++) {\n\t\t\t\t\t\tvar l = listeners[i];\n\t\t\t\t\t\tif (l.listener === listener && l.useCapture === useCapture) {\n\t\t\t\t\t\t\tlisteners.splice(i, 1);\n\t\t\t\t\t\t\tif (listeners.length === 0) {\n\t\t\t\t\t\t\t\tdelete this._listeners[type];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Only want to remove one element for each call to removeEventListener\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t_Base.Namespace._moduleDefine(exports, \"WinJS.Utilities\", {\n\t\t\t_createEventProperty: createEventProperty,\n\t\t\tcreateEventProperties: createEventProperties,\n\t\t\teventMixin: eventMixin\n\t\t});\n\n\t});\n\n\n\t_winjs(\"WinJS/Core/_Trace\", [\"WinJS/Core/_Global\"], function traceInit(_Global) {\n\t\tfunction nop(v) {\n\t\t\treturn v;\n\t\t}\n\n\t\treturn {\n\t\t\t_traceAsyncOperationStarting: (_Global.Debug && _Global.Debug.msTraceAsyncOperationStarting && _Global.Debug.msTraceAsyncOperationStarting.bind(_Global.Debug)) || nop,\n\t\t\t_traceAsyncOperationCompleted: (_Global.Debug && _Global.Debug.msTraceAsyncOperationCompleted && _Global.Debug.msTraceAsyncOperationCompleted.bind(_Global.Debug)) || nop,\n\t\t\t_traceAsyncCallbackStarting: (_Global.Debug && _Global.Debug.msTraceAsyncCallbackStarting && _Global.Debug.msTraceAsyncCallbackStarting.bind(_Global.Debug)) || nop,\n\t\t\t_traceAsyncCallbackCompleted: (_Global.Debug && _Global.Debug.msTraceAsyncCallbackCompleted && _Global.Debug.msTraceAsyncCallbackCompleted.bind(_Global.Debug)) || nop\n\t\t};\n\t});\n\t_winjs(\"WinJS/Promise/_StateMachine\", [\"WinJS/Core/_Global\",\"WinJS/Core/_BaseCoreUtils\",\"WinJS/Core/_Base\",\"WinJS/Core/_ErrorFromName\",\"WinJS/Core/_Events\",\"WinJS/Core/_Trace\"], function promiseStateMachineInit(_Global, _BaseCoreUtils, _Base, _ErrorFromName, _Events, _Trace) {\n\t\t_Global.Debug && (_Global.Debug.setNonUserCodeExceptions = true);\n\n\t\tvar ListenerType = _Base.Class.mix(_Base.Class.define(null, { /*empty*/ }, { supportedForProcessing: false }), _Events.eventMixin);\n\t\tvar promiseEventListeners = new ListenerType();\n\t\t// make sure there is a listeners collection so that we can do a more trivial check below\n\t\tpromiseEventListeners._listeners = {};\n\t\tvar errorET = \"error\";\n\t\tvar canceledName = \"Canceled\";\n\t\tvar tagWithStack = false;\n\t\tvar tag = {\n\t\t\tpromise: 0x01,\n\t\t\tthenPromise: 0x02,\n\t\t\terrorPromise: 0x04,\n\t\t\texceptionPromise: 0x08,\n\t\t\tcompletePromise: 0x10,\n\t\t};\n\t\ttag.all = tag.promise | tag.thenPromise | tag.errorPromise | tag.exceptionPromise | tag.completePromise;\n\n\t\t//\n\t\t// Global error counter, for each error which enters the system we increment this once and then\n\t\t// the error number travels with the error as it traverses the tree of potential handlers.\n\t\t//\n\t\t// When someone has registered to be told about errors (WinJS.Promise.callonerror) promises\n\t\t// which are in error will get tagged with a ._errorId field. This tagged field is the\n\t\t// contract by which nested promises with errors will be identified as chaining for the\n\t\t// purposes of the callonerror semantics. If a nested promise in error is encountered without\n\t\t// a ._errorId it will be assumed to be foreign and treated as an interop boundary and\n\t\t// a new error id will be minted.\n\t\t//\n\t\tvar error_number = 1;\n\n\t\t//\n\t\t// The state machine has a interesting hiccup in it with regards to notification, in order\n\t\t// to flatten out notification and avoid recursion for synchronous completion we have an\n\t\t// explicit set of *_notify states which are responsible for notifying their entire tree\n\t\t// of children. They can do this because they know that immediate children are always\n\t\t// ThenPromise instances and we can therefore reach into their state to access the\n\t\t// _listeners collection.\n\t\t//\n\t\t// So, what happens is that a Promise will be fulfilled through the _completed or _error\n\t\t// messages at which point it will enter a *_notify state and be responsible for to move\n\t\t// its children into an (as appropriate) success or error state and also notify that child's\n\t\t// listeners of the state transition, until leaf notes are reached.\n\t\t//\n\n\t\tvar state_created,              // -> working\n\t\t\tstate_working,              // -> error | error_notify | success | success_notify | canceled | waiting\n\t\t\tstate_waiting,              // -> error | error_notify | success | success_notify | waiting_canceled\n\t\t\tstate_waiting_canceled,     // -> error | error_notify | success | success_notify | canceling\n\t\t\tstate_canceled,             // -> error | error_notify | success | success_notify | canceling\n\t\t\tstate_canceling,            // -> error_notify\n\t\t\tstate_success_notify,       // -> success\n\t\t\tstate_success,              // -> .\n\t\t\tstate_error_notify,         // -> error\n\t\t\tstate_error;                // -> .\n\n\t\t// Noop function, used in the various states to indicate that they don't support a given\n\t\t// message. Named with the somewhat cute name '_' because it reads really well in the states.\n\n\t\tfunction _() { }\n\n\t\t// Initial state\n\t\t//\n\t\tstate_created = {\n\t\t\tname: \"created\",\n\t\t\tenter: function (promise) {\n\t\t\t\tpromise._setState(state_working);\n\t\t\t},\n\t\t\tcancel: _,\n\t\t\tdone: _,\n\t\t\tthen: _,\n\t\t\t_completed: _,\n\t\t\t_error: _,\n\t\t\t_notify: _,\n\t\t\t_progress: _,\n\t\t\t_setCompleteValue: _,\n\t\t\t_setErrorValue: _\n\t\t};\n\n\t\t// Ready state, waiting for a message (completed/error/progress), able to be canceled\n\t\t//\n\t\tstate_working = {\n\t\t\tname: \"working\",\n\t\t\tenter: _,\n\t\t\tcancel: function (promise) {\n\t\t\t\tpromise._setState(state_canceled);\n\t\t\t},\n\t\t\tdone: done,\n\t\t\tthen: then,\n\t\t\t_completed: completed,\n\t\t\t_error: error,\n\t\t\t_notify: _,\n\t\t\t_progress: progress,\n\t\t\t_setCompleteValue: setCompleteValue,\n\t\t\t_setErrorValue: setErrorValue\n\t\t};\n\n\t\t// Waiting state, if a promise is completed with a value which is itself a promise\n\t\t// (has a then() method) it signs up to be informed when that child promise is\n\t\t// fulfilled at which point it will be fulfilled with that value.\n\t\t//\n\t\tstate_waiting = {\n\t\t\tname: \"waiting\",\n\t\t\tenter: function (promise) {\n\t\t\t\tvar waitedUpon = promise._value;\n\t\t\t\t// We can special case our own intermediate promises which are not in a\n\t\t\t\t//  terminal state by just pushing this promise as a listener without\n\t\t\t\t//  having to create new indirection functions\n\t\t\t\tif (waitedUpon instanceof ThenPromise &&\n\t\t\t\t\twaitedUpon._state !== state_error &&\n\t\t\t\t\twaitedUpon._state !== state_success) {\n\t\t\t\t\tpushListener(waitedUpon, { promise: promise });\n\t\t\t\t} else {\n\t\t\t\t\tvar error = function (value) {\n\t\t\t\t\t\tif (waitedUpon._errorId) {\n\t\t\t\t\t\t\tpromise._chainedError(value, waitedUpon);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Because this is an interop boundary we want to indicate that this\n\t\t\t\t\t\t\t//  error has been handled by the promise infrastructure before we\n\t\t\t\t\t\t\t//  begin a new handling chain.\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tcallonerror(promise, value, detailsForHandledError, waitedUpon, error);\n\t\t\t\t\t\t\tpromise._error(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\terror.handlesOnError = true;\n\t\t\t\t\twaitedUpon.then(\n\t\t\t\t\t\tpromise._completed.bind(promise),\n\t\t\t\t\t\terror,\n\t\t\t\t\t\tpromise._progress.bind(promise)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel: function (promise) {\n\t\t\t\tpromise._setState(state_waiting_canceled);\n\t\t\t},\n\t\t\tdone: done,\n\t\t\tthen: then,\n\t\t\t_completed: completed,\n\t\t\t_error: error,\n\t\t\t_notify: _,\n\t\t\t_progress: progress,\n\t\t\t_setCompleteValue: setCompleteValue,\n\t\t\t_setErrorValue: setErrorValue\n\t\t};\n\n\t\t// Waiting canceled state, when a promise has been in a waiting state and receives a\n\t\t// request to cancel its pending work it will forward that request to the child promise\n\t\t// and then waits to be informed of the result. This promise moves itself into the\n\t\t// canceling state but understands that the child promise may instead push it to a\n\t\t// different state.\n\t\t//\n\t\tstate_waiting_canceled = {\n\t\t\tname: \"waiting_canceled\",\n\t\t\tenter: function (promise) {\n\t\t\t\t// Initiate a transition to canceling. Triggering a cancel on the promise\n\t\t\t\t// that we are waiting upon may result in a different state transition\n\t\t\t\t// before the state machine pump runs again.\n\t\t\t\tpromise._setState(state_canceling);\n\t\t\t\tvar waitedUpon = promise._value;\n\t\t\t\tif (waitedUpon.cancel) {\n\t\t\t\t\twaitedUpon.cancel();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel: _,\n\t\t\tdone: done,\n\t\t\tthen: then,\n\t\t\t_completed: completed,\n\t\t\t_error: error,\n\t\t\t_notify: _,\n\t\t\t_progress: progress,\n\t\t\t_setCompleteValue: setCompleteValue,\n\t\t\t_setErrorValue: setErrorValue\n\t\t};\n\n\t\t// Canceled state, moves to the canceling state and then tells the promise to do\n\t\t// whatever it might need to do on cancelation.\n\t\t//\n\t\tstate_canceled = {\n\t\t\tname: \"canceled\",\n\t\t\tenter: function (promise) {\n\t\t\t\t// Initiate a transition to canceling. The _cancelAction may change the state\n\t\t\t\t// before the state machine pump runs again.\n\t\t\t\tpromise._setState(state_canceling);\n\t\t\t\tpromise._cancelAction();\n\t\t\t},\n\t\t\tcancel: _,\n\t\t\tdone: done,\n\t\t\tthen: then,\n\t\t\t_completed: completed,\n\t\t\t_error: error,\n\t\t\t_notify: _,\n\t\t\t_progress: progress,\n\t\t\t_setCompleteValue: setCompleteValue,\n\t\t\t_setErrorValue: setErrorValue\n\t\t};\n\n\t\t// Canceling state, commits to the promise moving to an error state with an error\n\t\t// object whose 'name' and 'message' properties contain the string \"Canceled\"\n\t\t//\n\t\tstate_canceling = {\n\t\t\tname: \"canceling\",\n\t\t\tenter: function (promise) {\n\t\t\t\tvar error = new Error(canceledName);\n\t\t\t\terror.name = error.message;\n\t\t\t\tpromise._value = error;\n\t\t\t\tpromise._setState(state_error_notify);\n\t\t\t},\n\t\t\tcancel: _,\n\t\t\tdone: _,\n\t\t\tthen: _,\n\t\t\t_completed: _,\n\t\t\t_error: _,\n\t\t\t_notify: _,\n\t\t\t_progress: _,\n\t\t\t_setCompleteValue: _,\n\t\t\t_setErrorValue: _\n\t\t};\n\n\t\t// Success notify state, moves a promise to the success state and notifies all children\n\t\t//\n\t\tstate_success_notify = {\n\t\t\tname: \"complete_notify\",\n\t\t\tenter: function (promise) {\n\t\t\t\tpromise.done = CompletePromise.prototype.done;\n\t\t\t\tpromise.then = CompletePromise.prototype.then;\n\t\t\t\tif (promise._listeners) {\n\t\t\t\t\tvar queue = [promise];\n\t\t\t\t\tvar p;\n\t\t\t\t\twhile (queue.length) {\n\t\t\t\t\t\tp = queue.shift();\n\t\t\t\t\t\tp._state._notify(p, queue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpromise._setState(state_success);\n\t\t\t},\n\t\t\tcancel: _,\n\t\t\tdone: null, /*error to get here */\n\t\t\tthen: null, /*error to get here */\n\t\t\t_completed: _,\n\t\t\t_error: _,\n\t\t\t_notify: notifySuccess,\n\t\t\t_progress: _,\n\t\t\t_setCompleteValue: _,\n\t\t\t_setErrorValue: _\n\t\t};\n\n\t\t// Success state, moves a promise to the success state and does NOT notify any children.\n\t\t// Some upstream promise is owning the notification pass.\n\t\t//\n\t\tstate_success = {\n\t\t\tname: \"success\",\n\t\t\tenter: function (promise) {\n\t\t\t\tpromise.done = CompletePromise.prototype.done;\n\t\t\t\tpromise.then = CompletePromise.prototype.then;\n\t\t\t\tpromise._cleanupAction();\n\t\t\t},\n\t\t\tcancel: _,\n\t\t\tdone: null, /*error to get here */\n\t\t\tthen: null, /*error to get here */\n\t\t\t_completed: _,\n\t\t\t_error: _,\n\t\t\t_notify: notifySuccess,\n\t\t\t_progress: _,\n\t\t\t_setCompleteValue: _,\n\t\t\t_setErrorValue: _\n\t\t};\n\n\t\t// Error notify state, moves a promise to the error state and notifies all children\n\t\t//\n\t\tstate_error_notify = {\n\t\t\tname: \"error_notify\",\n\t\t\tenter: function (promise) {\n\t\t\t\tpromise.done = ErrorPromise.prototype.done;\n\t\t\t\tpromise.then = ErrorPromise.prototype.then;\n\t\t\t\tif (promise._listeners) {\n\t\t\t\t\tvar queue = [promise];\n\t\t\t\t\tvar p;\n\t\t\t\t\twhile (queue.length) {\n\t\t\t\t\t\tp = queue.shift();\n\t\t\t\t\t\tp._state._notify(p, queue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpromise._setState(state_error);\n\t\t\t},\n\t\t\tcancel: _,\n\t\t\tdone: null, /*error to get here*/\n\t\t\tthen: null, /*error to get here*/\n\t\t\t_completed: _,\n\t\t\t_error: _,\n\t\t\t_notify: notifyError,\n\t\t\t_progress: _,\n\t\t\t_setCompleteValue: _,\n\t\t\t_setErrorValue: _\n\t\t};\n\n\t\t// Error state, moves a promise to the error state and does NOT notify any children.\n\t\t// Some upstream promise is owning the notification pass.\n\t\t//\n\t\tstate_error = {\n\t\t\tname: \"error\",\n\t\t\tenter: function (promise) {\n\t\t\t\tpromise.done = ErrorPromise.prototype.done;\n\t\t\t\tpromise.then = ErrorPromise.prototype.then;\n\t\t\t\tpromise._cleanupAction();\n\t\t\t},\n\t\t\tcancel: _,\n\t\t\tdone: null, /*error to get here*/\n\t\t\tthen: null, /*error to get here*/\n\t\t\t_completed: _,\n\t\t\t_error: _,\n\t\t\t_notify: notifyError,\n\t\t\t_progress: _,\n\t\t\t_setCompleteValue: _,\n\t\t\t_setErrorValue: _\n\t\t};\n\n\t\t//\n\t\t// The statemachine implementation follows a very particular pattern, the states are specified\n\t\t// as static stateless bags of functions which are then indirected through the state machine\n\t\t// instance (a Promise). As such all of the functions on each state have the promise instance\n\t\t// passed to them explicitly as a parameter and the Promise instance members do a little\n\t\t// dance where they indirect through the state and insert themselves in the argument list.\n\t\t//\n\t\t// We could instead call directly through the promise states however then every caller\n\t\t// would have to remember to do things like pumping the state machine to catch state transitions.\n\t\t//\n\n\t\tvar PromiseStateMachine = _Base.Class.define(null, {\n\t\t\t_listeners: null,\n\t\t\t_nextState: null,\n\t\t\t_state: null,\n\t\t\t_value: null,\n\n\t\t\tcancel: function () {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.PromiseStateMachine.cancel\">\n\t\t\t\t/// <summary locid=\"WinJS.PromiseStateMachine.cancel\">\n\t\t\t\t/// Attempts to cancel the fulfillment of a promised value. If the promise hasn't\n\t\t\t\t/// already been fulfilled and cancellation is supported, the promise enters\n\t\t\t\t/// the error state with a value of Error(\"Canceled\").\n\t\t\t\t/// </summary>\n\t\t\t\t/// </signature>\n\t\t\t\tthis._state.cancel(this);\n\t\t\t\tthis._run();\n\t\t\t},\n\t\t\tdone: function Promise_done(onComplete, onError, onProgress) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.PromiseStateMachine.done\">\n\t\t\t\t/// <summary locid=\"WinJS.PromiseStateMachine.done\">\n\t\t\t\t/// Allows you to specify the work to be done on the fulfillment of the promised value,\n\t\t\t\t/// the error handling to be performed if the promise fails to fulfill\n\t\t\t\t/// a value, and the handling of progress notifications along the way.\n\t\t\t\t///\n\t\t\t\t/// After the handlers have finished executing, this function throws any error that would have been returned\n\t\t\t\t/// from then() as a promise in the error state.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name='onComplete' type='Function' locid=\"WinJS.PromiseStateMachine.done_p:onComplete\">\n\t\t\t\t/// The function to be called if the promise is fulfilled successfully with a value.\n\t\t\t\t/// The fulfilled value is passed as the single argument. If the value is null,\n\t\t\t\t/// the fulfilled value is returned. The value returned\n\t\t\t\t/// from the function becomes the fulfilled value of the promise returned by\n\t\t\t\t/// then(). If an exception is thrown while executing the function, the promise returned\n\t\t\t\t/// by then() moves into the error state.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name='onError' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.done_p:onError\">\n\t\t\t\t/// The function to be called if the promise is fulfilled with an error. The error\n\t\t\t\t/// is passed as the single argument. If it is null, the error is forwarded.\n\t\t\t\t/// The value returned from the function is the fulfilled value of the promise returned by then().\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name='onProgress' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.done_p:onProgress\">\n\t\t\t\t/// the function to be called if the promise reports progress. Data about the progress\n\t\t\t\t/// is passed as the single argument. Promises are not required to support\n\t\t\t\t/// progress.\n\t\t\t\t/// </param>\n\t\t\t\t/// </signature>\n\t\t\t\tthis._state.done(this, onComplete, onError, onProgress);\n\t\t\t},\n\t\t\tthen: function Promise_then(onComplete, onError, onProgress) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.PromiseStateMachine.then\">\n\t\t\t\t/// <summary locid=\"WinJS.PromiseStateMachine.then\">\n\t\t\t\t/// Allows you to specify the work to be done on the fulfillment of the promised value,\n\t\t\t\t/// the error handling to be performed if the promise fails to fulfill\n\t\t\t\t/// a value, and the handling of progress notifications along the way.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name='onComplete' type='Function' locid=\"WinJS.PromiseStateMachine.then_p:onComplete\">\n\t\t\t\t/// The function to be called if the promise is fulfilled successfully with a value.\n\t\t\t\t/// The value is passed as the single argument. If the value is null, the value is returned.\n\t\t\t\t/// The value returned from the function becomes the fulfilled value of the promise returned by\n\t\t\t\t/// then(). If an exception is thrown while this function is being executed, the promise returned\n\t\t\t\t/// by then() moves into the error state.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name='onError' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.then_p:onError\">\n\t\t\t\t/// The function to be called if the promise is fulfilled with an error. The error\n\t\t\t\t/// is passed as the single argument. If it is null, the error is forwarded.\n\t\t\t\t/// The value returned from the function becomes the fulfilled value of the promise returned by then().\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name='onProgress' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.then_p:onProgress\">\n\t\t\t\t/// The function to be called if the promise reports progress. Data about the progress\n\t\t\t\t/// is passed as the single argument. Promises are not required to support\n\t\t\t\t/// progress.\n\t\t\t\t/// </param>\n\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.PromiseStateMachine.then_returnValue\">\n\t\t\t\t/// The promise whose value is the result of executing the complete or\n\t\t\t\t/// error function.\n\t\t\t\t/// </returns>\n\t\t\t\t/// </signature>\n\t\t\t\treturn this._state.then(this, onComplete, onError, onProgress);\n\t\t\t},\n\n\t\t\t_chainedError: function (value, context) {\n\t\t\t\tvar result = this._state._error(this, value, detailsForChainedError, context);\n\t\t\t\tthis._run();\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t_completed: function (value) {\n\t\t\t\tvar result = this._state._completed(this, value);\n\t\t\t\tthis._run();\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t_error: function (value) {\n\t\t\t\tvar result = this._state._error(this, value, detailsForError);\n\t\t\t\tthis._run();\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t_progress: function (value) {\n\t\t\t\tthis._state._progress(this, value);\n\t\t\t},\n\t\t\t_setState: function (state) {\n\t\t\t\tthis._nextState = state;\n\t\t\t},\n\t\t\t_setCompleteValue: function (value) {\n\t\t\t\tthis._state._setCompleteValue(this, value);\n\t\t\t\tthis._run();\n\t\t\t},\n\t\t\t_setChainedErrorValue: function (value, context) {\n\t\t\t\tvar result = this._state._setErrorValue(this, value, detailsForChainedError, context);\n\t\t\t\tthis._run();\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t_setExceptionValue: function (value) {\n\t\t\t\tvar result = this._state._setErrorValue(this, value, detailsForException);\n\t\t\t\tthis._run();\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t_run: function () {\n\t\t\t\twhile (this._nextState) {\n\t\t\t\t\tthis._state = this._nextState;\n\t\t\t\t\tthis._nextState = null;\n\t\t\t\t\tthis._state.enter(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tsupportedForProcessing: false\n\t\t});\n\n\t\t//\n\t\t// Implementations of shared state machine code.\n\t\t//\n\n\t\tfunction completed(promise, value) {\n\t\t\tvar targetState;\n\t\t\tif (value && typeof value === \"object\" && typeof value.then === \"function\") {\n\t\t\t\ttargetState = state_waiting;\n\t\t\t} else {\n\t\t\t\ttargetState = state_success_notify;\n\t\t\t}\n\t\t\tpromise._value = value;\n\t\t\tpromise._setState(targetState);\n\t\t}\n\t\tfunction createErrorDetails(exception, error, promise, id, parent, handler) {\n\t\t\treturn {\n\t\t\t\texception: exception,\n\t\t\t\terror: error,\n\t\t\t\tpromise: promise,\n\t\t\t\thandler: handler,\n\t\t\t\tid: id,\n\t\t\t\tparent: parent\n\t\t\t};\n\t\t}\n\t\tfunction detailsForHandledError(promise, errorValue, context, handler) {\n\t\t\tvar exception = context._isException;\n\t\t\tvar errorId = context._errorId;\n\t\t\treturn createErrorDetails(\n\t\t\t\texception ? errorValue : null,\n\t\t\t\texception ? null : errorValue,\n\t\t\t\tpromise,\n\t\t\t\terrorId,\n\t\t\t\tcontext,\n\t\t\t\thandler\n\t\t\t);\n\t\t}\n\t\tfunction detailsForChainedError(promise, errorValue, context) {\n\t\t\tvar exception = context._isException;\n\t\t\tvar errorId = context._errorId;\n\t\t\tsetErrorInfo(promise, errorId, exception);\n\t\t\treturn createErrorDetails(\n\t\t\t\texception ? errorValue : null,\n\t\t\t\texception ? null : errorValue,\n\t\t\t\tpromise,\n\t\t\t\terrorId,\n\t\t\t\tcontext\n\t\t\t);\n\t\t}\n\t\tfunction detailsForError(promise, errorValue) {\n\t\t\tvar errorId = ++error_number;\n\t\t\tsetErrorInfo(promise, errorId);\n\t\t\treturn createErrorDetails(\n\t\t\t\tnull,\n\t\t\t\terrorValue,\n\t\t\t\tpromise,\n\t\t\t\terrorId\n\t\t\t);\n\t\t}\n\t\tfunction detailsForException(promise, exceptionValue) {\n\t\t\tvar errorId = ++error_number;\n\t\t\tsetErrorInfo(promise, errorId, true);\n\t\t\treturn createErrorDetails(\n\t\t\t\texceptionValue,\n\t\t\t\tnull,\n\t\t\t\tpromise,\n\t\t\t\terrorId\n\t\t\t);\n\t\t}\n\t\tfunction done(promise, onComplete, onError, onProgress) {\n\t\t\tvar asyncOpID = _Trace._traceAsyncOperationStarting(\"WinJS.Promise.done\");\n\t\t\tpushListener(promise, { c: onComplete, e: onError, p: onProgress, asyncOpID: asyncOpID });\n\t\t}\n\t\tfunction error(promise, value, onerrorDetails, context) {\n\t\t\tpromise._value = value;\n\t\t\tcallonerror(promise, value, onerrorDetails, context);\n\t\t\tpromise._setState(state_error_notify);\n\t\t}\n\t\tfunction notifySuccess(promise, queue) {\n\t\t\tvar value = promise._value;\n\t\t\tvar listeners = promise._listeners;\n\t\t\tif (!listeners) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tpromise._listeners = null;\n\t\t\tvar i, len;\n\t\t\tfor (i = 0, len = Array.isArray(listeners) ? listeners.length : 1; i < len; i++) {\n\t\t\t\tvar listener = len === 1 ? listeners : listeners[i];\n\t\t\t\tvar onComplete = listener.c;\n\t\t\t\tvar target = listener.promise;\n\n\t\t\t\t_Trace._traceAsyncOperationCompleted(listener.asyncOpID, _Global.Debug && _Global.Debug.MS_ASYNC_OP_STATUS_SUCCESS);\n\n\t\t\t\tif (target) {\n\t\t\t\t\t_Trace._traceAsyncCallbackStarting(listener.asyncOpID);\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttarget._setCompleteValue(onComplete ? onComplete(value) : value);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\ttarget._setExceptionValue(ex);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\t_Trace._traceAsyncCallbackCompleted();\n\t\t\t\t\t}\n\t\t\t\t\tif (target._state !== state_waiting && target._listeners) {\n\t\t\t\t\t\tqueue.push(target);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tCompletePromise.prototype.done.call(promise, onComplete);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfunction notifyError(promise, queue) {\n\t\t\tvar value = promise._value;\n\t\t\tvar listeners = promise._listeners;\n\t\t\tif (!listeners) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tpromise._listeners = null;\n\t\t\tvar i, len;\n\t\t\tfor (i = 0, len = Array.isArray(listeners) ? listeners.length : 1; i < len; i++) {\n\t\t\t\tvar listener = len === 1 ? listeners : listeners[i];\n\t\t\t\tvar onError = listener.e;\n\t\t\t\tvar target = listener.promise;\n\n\t\t\t\tvar errorID = _Global.Debug && (value && value.name === canceledName ? _Global.Debug.MS_ASYNC_OP_STATUS_CANCELED : _Global.Debug.MS_ASYNC_OP_STATUS_ERROR);\n\t\t\t\t_Trace._traceAsyncOperationCompleted(listener.asyncOpID, errorID);\n\n\t\t\t\tif (target) {\n\t\t\t\t\tvar asyncCallbackStarted = false;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (onError) {\n\t\t\t\t\t\t\t_Trace._traceAsyncCallbackStarting(listener.asyncOpID);\n\t\t\t\t\t\t\tasyncCallbackStarted = true;\n\t\t\t\t\t\t\tif (!onError.handlesOnError) {\n\t\t\t\t\t\t\t\tcallonerror(target, value, detailsForHandledError, promise, onError);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttarget._setCompleteValue(onError(value));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttarget._setChainedErrorValue(value, promise);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\ttarget._setExceptionValue(ex);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (asyncCallbackStarted) {\n\t\t\t\t\t\t\t_Trace._traceAsyncCallbackCompleted();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (target._state !== state_waiting && target._listeners) {\n\t\t\t\t\t\tqueue.push(target);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tErrorPromise.prototype.done.call(promise, null, onError);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfunction callonerror(promise, value, onerrorDetailsGenerator, context, handler) {\n\t\t\tif (promiseEventListeners._listeners[errorET]) {\n\t\t\t\tif (value instanceof Error && value.message === canceledName) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tpromiseEventListeners.dispatchEvent(errorET, onerrorDetailsGenerator(promise, value, context, handler));\n\t\t\t}\n\t\t}\n\t\tfunction progress(promise, value) {\n\t\t\tvar listeners = promise._listeners;\n\t\t\tif (listeners) {\n\t\t\t\tvar i, len;\n\t\t\t\tfor (i = 0, len = Array.isArray(listeners) ? listeners.length : 1; i < len; i++) {\n\t\t\t\t\tvar listener = len === 1 ? listeners : listeners[i];\n\t\t\t\t\tvar onProgress = listener.p;\n\t\t\t\t\tif (onProgress) {\n\t\t\t\t\t\ttry { onProgress(value); } catch (ex) { }\n\t\t\t\t\t}\n\t\t\t\t\tif (!(listener.c || listener.e) && listener.promise) {\n\t\t\t\t\t\tlistener.promise._progress(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfunction pushListener(promise, listener) {\n\t\t\tvar listeners = promise._listeners;\n\t\t\tif (listeners) {\n\t\t\t\t// We may have either a single listener (which will never be wrapped in an array)\n\t\t\t\t// or 2+ listeners (which will be wrapped). Since we are now adding one more listener\n\t\t\t\t// we may have to wrap the single listener before adding the second.\n\t\t\t\tlisteners = Array.isArray(listeners) ? listeners : [listeners];\n\t\t\t\tlisteners.push(listener);\n\t\t\t} else {\n\t\t\t\tlisteners = listener;\n\t\t\t}\n\t\t\tpromise._listeners = listeners;\n\t\t}\n\t\t// The difference beween setCompleteValue()/setErrorValue() and complete()/error() is that setXXXValue() moves\n\t\t// a promise directly to the success/error state without starting another notification pass (because one\n\t\t// is already ongoing).\n\t\tfunction setErrorInfo(promise, errorId, isException) {\n\t\t\tpromise._isException = isException || false;\n\t\t\tpromise._errorId = errorId;\n\t\t}\n\t\tfunction setErrorValue(promise, value, onerrorDetails, context) {\n\t\t\tpromise._value = value;\n\t\t\tcallonerror(promise, value, onerrorDetails, context);\n\t\t\tpromise._setState(state_error);\n\t\t}\n\t\tfunction setCompleteValue(promise, value) {\n\t\t\tvar targetState;\n\t\t\tif (value && typeof value === \"object\" && typeof value.then === \"function\") {\n\t\t\t\ttargetState = state_waiting;\n\t\t\t} else {\n\t\t\t\ttargetState = state_success;\n\t\t\t}\n\t\t\tpromise._value = value;\n\t\t\tpromise._setState(targetState);\n\t\t}\n\t\tfunction then(promise, onComplete, onError, onProgress) {\n\t\t\tvar result = new ThenPromise(promise);\n\t\t\tvar asyncOpID = _Trace._traceAsyncOperationStarting(\"WinJS.Promise.then\");\n\t\t\tpushListener(promise, { promise: result, c: onComplete, e: onError, p: onProgress, asyncOpID: asyncOpID });\n\t\t\treturn result;\n\t\t}\n\n\t\t//\n\t\t// Internal implementation detail promise, ThenPromise is created when a promise needs\n\t\t// to be returned from a then() method.\n\t\t//\n\t\tvar ThenPromise = _Base.Class.derive(PromiseStateMachine,\n\t\t\tfunction (creator) {\n\n\t\t\t\tif (tagWithStack && (tagWithStack === true || (tagWithStack & tag.thenPromise))) {\n\t\t\t\t\tthis._stack = Promise._getStack();\n\t\t\t\t}\n\n\t\t\t\tthis._creator = creator;\n\t\t\t\tthis._setState(state_created);\n\t\t\t\tthis._run();\n\t\t\t}, {\n\t\t\t\t_creator: null,\n\n\t\t\t\t_cancelAction: function () { if (this._creator) { this._creator.cancel(); } },\n\t\t\t\t_cleanupAction: function () { this._creator = null; }\n\t\t\t}, {\n\t\t\t\tsupportedForProcessing: false\n\t\t\t}\n\t\t);\n\n\t\t//\n\t\t// Slim promise implementations for already completed promises, these are created\n\t\t// under the hood on synchronous completion paths as well as by WinJS.Promise.wrap\n\t\t// and WinJS.Promise.wrapError.\n\t\t//\n\n\t\tvar ErrorPromise = _Base.Class.define(\n\t\t\tfunction ErrorPromise_ctor(value) {\n\n\t\t\t\tif (tagWithStack && (tagWithStack === true || (tagWithStack & tag.errorPromise))) {\n\t\t\t\t\tthis._stack = Promise._getStack();\n\t\t\t\t}\n\n\t\t\t\tthis._value = value;\n\t\t\t\tcallonerror(this, value, detailsForError);\n\t\t\t}, {\n\t\t\t\tcancel: function () {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.PromiseStateMachine.cancel\">\n\t\t\t\t\t/// <summary locid=\"WinJS.PromiseStateMachine.cancel\">\n\t\t\t\t\t/// Attempts to cancel the fulfillment of a promised value. If the promise hasn't\n\t\t\t\t\t/// already been fulfilled and cancellation is supported, the promise enters\n\t\t\t\t\t/// the error state with a value of Error(\"Canceled\").\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// </signature>\n\t\t\t\t},\n\t\t\t\tdone: function ErrorPromise_done(unused, onError) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.PromiseStateMachine.done\">\n\t\t\t\t\t/// <summary locid=\"WinJS.PromiseStateMachine.done\">\n\t\t\t\t\t/// Allows you to specify the work to be done on the fulfillment of the promised value,\n\t\t\t\t\t/// the error handling to be performed if the promise fails to fulfill\n\t\t\t\t\t/// a value, and the handling of progress notifications along the way.\n\t\t\t\t\t///\n\t\t\t\t\t/// After the handlers have finished executing, this function throws any error that would have been returned\n\t\t\t\t\t/// from then() as a promise in the error state.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name='onComplete' type='Function' locid=\"WinJS.PromiseStateMachine.done_p:onComplete\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled successfully with a value.\n\t\t\t\t\t/// The fulfilled value is passed as the single argument. If the value is null,\n\t\t\t\t\t/// the fulfilled value is returned. The value returned\n\t\t\t\t\t/// from the function becomes the fulfilled value of the promise returned by\n\t\t\t\t\t/// then(). If an exception is thrown while executing the function, the promise returned\n\t\t\t\t\t/// by then() moves into the error state.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='onError' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.done_p:onError\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled with an error. The error\n\t\t\t\t\t/// is passed as the single argument. If it is null, the error is forwarded.\n\t\t\t\t\t/// The value returned from the function is the fulfilled value of the promise returned by then().\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='onProgress' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.done_p:onProgress\">\n\t\t\t\t\t/// the function to be called if the promise reports progress. Data about the progress\n\t\t\t\t\t/// is passed as the single argument. Promises are not required to support\n\t\t\t\t\t/// progress.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\tvar value = this._value;\n\t\t\t\t\tif (onError) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!onError.handlesOnError) {\n\t\t\t\t\t\t\t\tcallonerror(null, value, detailsForHandledError, this, onError);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar result = onError(value);\n\t\t\t\t\t\t\tif (result && typeof result === \"object\" && typeof result.done === \"function\") {\n\t\t\t\t\t\t\t\t// If a promise is returned we need to wait on it.\n\t\t\t\t\t\t\t\tresult.done();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\tvalue = ex;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (value instanceof Error && value.message === canceledName) {\n\t\t\t\t\t\t// suppress cancel\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// force the exception to be thrown asyncronously to avoid any try/catch blocks\n\t\t\t\t\t//\n\t\t\t\t\tPromise._doneHandler(value);\n\t\t\t\t},\n\t\t\t\tthen: function ErrorPromise_then(unused, onError) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.PromiseStateMachine.then\">\n\t\t\t\t\t/// <summary locid=\"WinJS.PromiseStateMachine.then\">\n\t\t\t\t\t/// Allows you to specify the work to be done on the fulfillment of the promised value,\n\t\t\t\t\t/// the error handling to be performed if the promise fails to fulfill\n\t\t\t\t\t/// a value, and the handling of progress notifications along the way.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name='onComplete' type='Function' locid=\"WinJS.PromiseStateMachine.then_p:onComplete\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled successfully with a value.\n\t\t\t\t\t/// The value is passed as the single argument. If the value is null, the value is returned.\n\t\t\t\t\t/// The value returned from the function becomes the fulfilled value of the promise returned by\n\t\t\t\t\t/// then(). If an exception is thrown while this function is being executed, the promise returned\n\t\t\t\t\t/// by then() moves into the error state.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='onError' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.then_p:onError\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled with an error. The error\n\t\t\t\t\t/// is passed as the single argument. If it is null, the error is forwarded.\n\t\t\t\t\t/// The value returned from the function becomes the fulfilled value of the promise returned by then().\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='onProgress' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.then_p:onProgress\">\n\t\t\t\t\t/// The function to be called if the promise reports progress. Data about the progress\n\t\t\t\t\t/// is passed as the single argument. Promises are not required to support\n\t\t\t\t\t/// progress.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.PromiseStateMachine.then_returnValue\">\n\t\t\t\t\t/// The promise whose value is the result of executing the complete or\n\t\t\t\t\t/// error function.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\n\t\t\t\t\t// If the promise is already in a error state and no error handler is provided\n\t\t\t\t\t// we optimize by simply returning the promise instead of creating a new one.\n\t\t\t\t\t//\n\t\t\t\t\tif (!onError) { return this; }\n\t\t\t\t\tvar result;\n\t\t\t\t\tvar value = this._value;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!onError.handlesOnError) {\n\t\t\t\t\t\t\tcallonerror(null, value, detailsForHandledError, this, onError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = new CompletePromise(onError(value));\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t// If the value throw from the error handler is the same as the value\n\t\t\t\t\t\t// provided to the error handler then there is no need for a new promise.\n\t\t\t\t\t\t//\n\t\t\t\t\t\tif (ex === value) {\n\t\t\t\t\t\t\tresult = this;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult = new ExceptionPromise(ex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tsupportedForProcessing: false\n\t\t\t}\n\t\t);\n\n\t\tvar ExceptionPromise = _Base.Class.derive(ErrorPromise,\n\t\t\tfunction ExceptionPromise_ctor(value) {\n\n\t\t\t\tif (tagWithStack && (tagWithStack === true || (tagWithStack & tag.exceptionPromise))) {\n\t\t\t\t\tthis._stack = Promise._getStack();\n\t\t\t\t}\n\n\t\t\t\tthis._value = value;\n\t\t\t\tcallonerror(this, value, detailsForException);\n\t\t\t}, {\n\t\t\t\t/* empty */\n\t\t\t}, {\n\t\t\t\tsupportedForProcessing: false\n\t\t\t}\n\t\t);\n\n\t\tvar CompletePromise = _Base.Class.define(\n\t\t\tfunction CompletePromise_ctor(value) {\n\n\t\t\t\tif (tagWithStack && (tagWithStack === true || (tagWithStack & tag.completePromise))) {\n\t\t\t\t\tthis._stack = Promise._getStack();\n\t\t\t\t}\n\n\t\t\t\tif (value && typeof value === \"object\" && typeof value.then === \"function\") {\n\t\t\t\t\tvar result = new ThenPromise(null);\n\t\t\t\t\tresult._setCompleteValue(value);\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tthis._value = value;\n\t\t\t}, {\n\t\t\t\tcancel: function () {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.PromiseStateMachine.cancel\">\n\t\t\t\t\t/// <summary locid=\"WinJS.PromiseStateMachine.cancel\">\n\t\t\t\t\t/// Attempts to cancel the fulfillment of a promised value. If the promise hasn't\n\t\t\t\t\t/// already been fulfilled and cancellation is supported, the promise enters\n\t\t\t\t\t/// the error state with a value of Error(\"Canceled\").\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// </signature>\n\t\t\t\t},\n\t\t\t\tdone: function CompletePromise_done(onComplete) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.PromiseStateMachine.done\">\n\t\t\t\t\t/// <summary locid=\"WinJS.PromiseStateMachine.done\">\n\t\t\t\t\t/// Allows you to specify the work to be done on the fulfillment of the promised value,\n\t\t\t\t\t/// the error handling to be performed if the promise fails to fulfill\n\t\t\t\t\t/// a value, and the handling of progress notifications along the way.\n\t\t\t\t\t///\n\t\t\t\t\t/// After the handlers have finished executing, this function throws any error that would have been returned\n\t\t\t\t\t/// from then() as a promise in the error state.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name='onComplete' type='Function' locid=\"WinJS.PromiseStateMachine.done_p:onComplete\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled successfully with a value.\n\t\t\t\t\t/// The fulfilled value is passed as the single argument. If the value is null,\n\t\t\t\t\t/// the fulfilled value is returned. The value returned\n\t\t\t\t\t/// from the function becomes the fulfilled value of the promise returned by\n\t\t\t\t\t/// then(). If an exception is thrown while executing the function, the promise returned\n\t\t\t\t\t/// by then() moves into the error state.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='onError' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.done_p:onError\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled with an error. The error\n\t\t\t\t\t/// is passed as the single argument. If it is null, the error is forwarded.\n\t\t\t\t\t/// The value returned from the function is the fulfilled value of the promise returned by then().\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='onProgress' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.done_p:onProgress\">\n\t\t\t\t\t/// the function to be called if the promise reports progress. Data about the progress\n\t\t\t\t\t/// is passed as the single argument. Promises are not required to support\n\t\t\t\t\t/// progress.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\tif (!onComplete) { return; }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar result = onComplete(this._value);\n\t\t\t\t\t\tif (result && typeof result === \"object\" && typeof result.done === \"function\") {\n\t\t\t\t\t\t\tresult.done();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t// force the exception to be thrown asynchronously to avoid any try/catch blocks\n\t\t\t\t\t\tPromise._doneHandler(ex);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tthen: function CompletePromise_then(onComplete) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.PromiseStateMachine.then\">\n\t\t\t\t\t/// <summary locid=\"WinJS.PromiseStateMachine.then\">\n\t\t\t\t\t/// Allows you to specify the work to be done on the fulfillment of the promised value,\n\t\t\t\t\t/// the error handling to be performed if the promise fails to fulfill\n\t\t\t\t\t/// a value, and the handling of progress notifications along the way.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name='onComplete' type='Function' locid=\"WinJS.PromiseStateMachine.then_p:onComplete\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled successfully with a value.\n\t\t\t\t\t/// The value is passed as the single argument. If the value is null, the value is returned.\n\t\t\t\t\t/// The value returned from the function becomes the fulfilled value of the promise returned by\n\t\t\t\t\t/// then(). If an exception is thrown while this function is being executed, the promise returned\n\t\t\t\t\t/// by then() moves into the error state.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='onError' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.then_p:onError\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled with an error. The error\n\t\t\t\t\t/// is passed as the single argument. If it is null, the error is forwarded.\n\t\t\t\t\t/// The value returned from the function becomes the fulfilled value of the promise returned by then().\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='onProgress' type='Function' optional='true' locid=\"WinJS.PromiseStateMachine.then_p:onProgress\">\n\t\t\t\t\t/// The function to be called if the promise reports progress. Data about the progress\n\t\t\t\t\t/// is passed as the single argument. Promises are not required to support\n\t\t\t\t\t/// progress.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.PromiseStateMachine.then_returnValue\">\n\t\t\t\t\t/// The promise whose value is the result of executing the complete or\n\t\t\t\t\t/// error function.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// If the value returned from the completion handler is the same as the value\n\t\t\t\t\t\t// provided to the completion handler then there is no need for a new promise.\n\t\t\t\t\t\t//\n\t\t\t\t\t\tvar newValue = onComplete ? onComplete(this._value) : this._value;\n\t\t\t\t\t\treturn newValue === this._value ? this : new CompletePromise(newValue);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\treturn new ExceptionPromise(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tsupportedForProcessing: false\n\t\t\t}\n\t\t);\n\n\t\t//\n\t\t// Promise is the user-creatable WinJS.Promise object.\n\t\t//\n\n\t\tfunction timeout(timeoutMS) {\n\t\t\tvar id;\n\t\t\treturn new Promise(\n\t\t\t\tfunction (c) {\n\t\t\t\t\tif (timeoutMS) {\n\t\t\t\t\t\tid = _Global.setTimeout(c, timeoutMS);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_BaseCoreUtils._setImmediate(c);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\t_Global.clearTimeout(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tfunction timeoutWithPromise(timeout, promise) {\n\t\t\tvar cancelPromise = function () { promise.cancel(); };\n\t\t\tvar cancelTimeout = function () { timeout.cancel(); };\n\t\t\ttimeout.then(cancelPromise);\n\t\t\tpromise.then(cancelTimeout, cancelTimeout);\n\t\t\treturn promise;\n\t\t}\n\n\t\tvar staticCanceledPromise;\n\n\t\tvar Promise = _Base.Class.derive(PromiseStateMachine,\n\t\t\tfunction Promise_ctor(init, oncancel) {\n\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise\">\n\t\t\t\t/// <summary locid=\"WinJS.Promise\">\n\t\t\t\t/// A promise provides a mechanism to schedule work to be done on a value that\n\t\t\t\t/// has not yet been computed. It is a convenient abstraction for managing\n\t\t\t\t/// interactions with asynchronous APIs.\n\t\t\t\t/// </summary>\n\t\t\t\t/// <param name=\"init\" type=\"Function\" locid=\"WinJS.Promise_p:init\">\n\t\t\t\t/// The function that is called during construction of the  promise. The function\n\t\t\t\t/// is given three arguments (complete, error, progress). Inside this function\n\t\t\t\t/// you should add event listeners for the notifications supported by this value.\n\t\t\t\t/// </param>\n\t\t\t\t/// <param name=\"oncancel\" optional=\"true\" locid=\"WinJS.Promise_p:oncancel\">\n\t\t\t\t/// The function to call if a consumer of this promise wants\n\t\t\t\t/// to cancel its undone work. Promises are not required to\n\t\t\t\t/// support cancellation.\n\t\t\t\t/// </param>\n\t\t\t\t/// </signature>\n\n\t\t\t\tif (tagWithStack && (tagWithStack === true || (tagWithStack & tag.promise))) {\n\t\t\t\t\tthis._stack = Promise._getStack();\n\t\t\t\t}\n\n\t\t\t\tthis._oncancel = oncancel;\n\t\t\t\tthis._setState(state_created);\n\t\t\t\tthis._run();\n\n\t\t\t\ttry {\n\t\t\t\t\tvar complete = this._completed.bind(this);\n\t\t\t\t\tvar error = this._error.bind(this);\n\t\t\t\t\tvar progress = this._progress.bind(this);\n\t\t\t\t\tinit(complete, error, progress);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tthis._setExceptionValue(ex);\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\t_oncancel: null,\n\n\t\t\t\t_cancelAction: function () {\n\t\t\t\t\t// BEGIN monaco change\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (this._oncancel) {\n\t\t\t\t\t\t\tthis._oncancel();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new Error('Promise did not implement oncancel');\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t// Access fields to get them created\n\t\t\t\t\t\tvar msg = ex.message;\n\t\t\t\t\t\tvar stack = ex.stack;\n\t\t\t\t\t\tpromiseEventListeners.dispatchEvent('error', ex);\n\t\t\t\t\t}\n\t\t\t\t\t// END monaco change\n\t\t\t\t},\n\t\t\t\t_cleanupAction: function () { this._oncancel = null; }\n\t\t\t}, {\n\n\t\t\t\taddEventListener: function Promise_addEventListener(eventType, listener, capture) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.addEventListener\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.addEventListener\">\n\t\t\t\t\t/// Adds an event listener to the control.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"eventType\" locid=\"WinJS.Promise.addEventListener_p:eventType\">\n\t\t\t\t\t/// The type (name) of the event.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"listener\" locid=\"WinJS.Promise.addEventListener_p:listener\">\n\t\t\t\t\t/// The listener to invoke when the event is raised.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"capture\" locid=\"WinJS.Promise.addEventListener_p:capture\">\n\t\t\t\t\t/// Specifies whether or not to initiate capture.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\tpromiseEventListeners.addEventListener(eventType, listener, capture);\n\t\t\t\t},\n\t\t\t\tany: function Promise_any(values) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.any\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.any\">\n\t\t\t\t\t/// Returns a promise that is fulfilled when one of the input promises\n\t\t\t\t\t/// has been fulfilled.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"values\" type=\"Array\" locid=\"WinJS.Promise.any_p:values\">\n\t\t\t\t\t/// An array that contains promise objects or objects whose property\n\t\t\t\t\t/// values include promise objects.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.Promise.any_returnValue\">\n\t\t\t\t\t/// A promise that on fulfillment yields the value of the input (complete or error).\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\treturn new Promise(\n\t\t\t\t\t\tfunction (complete, error) {\n\t\t\t\t\t\t\tvar keys = Object.keys(values);\n\t\t\t\t\t\t\tif (keys.length === 0) {\n\t\t\t\t\t\t\t\tcomplete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar canceled = 0;\n\t\t\t\t\t\t\tkeys.forEach(function (key) {\n\t\t\t\t\t\t\t\tPromise.as(values[key]).then(\n\t\t\t\t\t\t\t\t\tfunction () { complete({ key: key, value: values[key] }); },\n\t\t\t\t\t\t\t\t\tfunction (e) {\n\t\t\t\t\t\t\t\t\t\tif (e instanceof Error && e.name === canceledName) {\n\t\t\t\t\t\t\t\t\t\t\tif ((++canceled) === keys.length) {\n\t\t\t\t\t\t\t\t\t\t\t\tcomplete(Promise.cancel);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\terror({ key: key, value: values[key] });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\tvar keys = Object.keys(values);\n\t\t\t\t\t\t\tkeys.forEach(function (key) {\n\t\t\t\t\t\t\t\tvar promise = Promise.as(values[key]);\n\t\t\t\t\t\t\t\tif (typeof promise.cancel === \"function\") {\n\t\t\t\t\t\t\t\t\tpromise.cancel();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tas: function Promise_as(value) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.as\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.as\">\n\t\t\t\t\t/// Returns a promise. If the object is already a promise it is returned;\n\t\t\t\t\t/// otherwise the object is wrapped in a promise.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"value\" locid=\"WinJS.Promise.as_p:value\">\n\t\t\t\t\t/// The value to be treated as a promise.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.Promise.as_returnValue\">\n\t\t\t\t\t/// A promise.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\tif (value && typeof value === \"object\" && typeof value.then === \"function\") {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t\treturn new CompletePromise(value);\n\t\t\t\t},\n\t\t\t\t/// <field type=\"WinJS.Promise\" helpKeyword=\"WinJS.Promise.cancel\" locid=\"WinJS.Promise.cancel\">\n\t\t\t\t/// Canceled promise value, can be returned from a promise completion handler\n\t\t\t\t/// to indicate cancelation of the promise chain.\n\t\t\t\t/// </field>\n\t\t\t\tcancel: {\n\t\t\t\t\tget: function () {\n\t\t\t\t\t\treturn (staticCanceledPromise = staticCanceledPromise || new ErrorPromise(new _ErrorFromName(canceledName)));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdispatchEvent: function Promise_dispatchEvent(eventType, details) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.dispatchEvent\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.dispatchEvent\">\n\t\t\t\t\t/// Raises an event of the specified type and properties.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"eventType\" locid=\"WinJS.Promise.dispatchEvent_p:eventType\">\n\t\t\t\t\t/// The type (name) of the event.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"details\" locid=\"WinJS.Promise.dispatchEvent_p:details\">\n\t\t\t\t\t/// The set of additional properties to be attached to the event object.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"Boolean\" locid=\"WinJS.Promise.dispatchEvent_returnValue\">\n\t\t\t\t\t/// Specifies whether preventDefault was called on the event.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\treturn promiseEventListeners.dispatchEvent(eventType, details);\n\t\t\t\t},\n\t\t\t\tis: function Promise_is(value) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.is\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.is\">\n\t\t\t\t\t/// Determines whether a value fulfills the promise contract.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"value\" locid=\"WinJS.Promise.is_p:value\">\n\t\t\t\t\t/// A value that may be a promise.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"Boolean\" locid=\"WinJS.Promise.is_returnValue\">\n\t\t\t\t\t/// true if the specified value is a promise, otherwise false.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\treturn value && typeof value === \"object\" && typeof value.then === \"function\";\n\t\t\t\t},\n\t\t\t\tjoin: function Promise_join(values) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.join\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.join\">\n\t\t\t\t\t/// Creates a promise that is fulfilled when all the values are fulfilled.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"values\" type=\"Object\" locid=\"WinJS.Promise.join_p:values\">\n\t\t\t\t\t/// An object whose fields contain values, some of which may be promises.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.Promise.join_returnValue\">\n\t\t\t\t\t/// A promise whose value is an object with the same field names as those of the object in the values parameter, where\n\t\t\t\t\t/// each field value is the fulfilled value of a promise.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\treturn new Promise(\n\t\t\t\t\t\tfunction (complete, error, progress) {\n\t\t\t\t\t\t\tvar keys = Object.keys(values);\n\t\t\t\t\t\t\tvar errors = Array.isArray(values) ? [] : {};\n\t\t\t\t\t\t\tvar results = Array.isArray(values) ? [] : {};\n\t\t\t\t\t\t\tvar undefineds = 0;\n\t\t\t\t\t\t\tvar pending = keys.length;\n\t\t\t\t\t\t\tvar argDone = function (key) {\n\t\t\t\t\t\t\t\tif ((--pending) === 0) {\n\t\t\t\t\t\t\t\t\tvar errorCount = Object.keys(errors).length;\n\t\t\t\t\t\t\t\t\tif (errorCount === 0) {\n\t\t\t\t\t\t\t\t\t\tcomplete(results);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvar canceledCount = 0;\n\t\t\t\t\t\t\t\t\t\tkeys.forEach(function (key) {\n\t\t\t\t\t\t\t\t\t\t\tvar e = errors[key];\n\t\t\t\t\t\t\t\t\t\t\tif (e instanceof Error && e.name === canceledName) {\n\t\t\t\t\t\t\t\t\t\t\t\tcanceledCount++;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (canceledCount === errorCount) {\n\t\t\t\t\t\t\t\t\t\t\tcomplete(Promise.cancel);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\terror(errors);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tprogress({ Key: key, Done: true });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tkeys.forEach(function (key) {\n\t\t\t\t\t\t\t\tvar value = values[key];\n\t\t\t\t\t\t\t\tif (value === undefined) {\n\t\t\t\t\t\t\t\t\tundefineds++;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tPromise.then(value,\n\t\t\t\t\t\t\t\t\t\tfunction (value) { results[key] = value; argDone(key); },\n\t\t\t\t\t\t\t\t\t\tfunction (value) { errors[key] = value; argDone(key); }\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tpending -= undefineds;\n\t\t\t\t\t\t\tif (pending === 0) {\n\t\t\t\t\t\t\t\tcomplete(results);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\tObject.keys(values).forEach(function (key) {\n\t\t\t\t\t\t\t\tvar promise = Promise.as(values[key]);\n\t\t\t\t\t\t\t\tif (typeof promise.cancel === \"function\") {\n\t\t\t\t\t\t\t\t\tpromise.cancel();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tremoveEventListener: function Promise_removeEventListener(eventType, listener, capture) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.removeEventListener\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.removeEventListener\">\n\t\t\t\t\t/// Removes an event listener from the control.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name='eventType' locid=\"WinJS.Promise.removeEventListener_eventType\">\n\t\t\t\t\t/// The type (name) of the event.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='listener' locid=\"WinJS.Promise.removeEventListener_listener\">\n\t\t\t\t\t/// The listener to remove.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name='capture' locid=\"WinJS.Promise.removeEventListener_capture\">\n\t\t\t\t\t/// Specifies whether or not to initiate capture.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\tpromiseEventListeners.removeEventListener(eventType, listener, capture);\n\t\t\t\t},\n\t\t\t\tsupportedForProcessing: false,\n\t\t\t\tthen: function Promise_then(value, onComplete, onError, onProgress) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.then\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.then\">\n\t\t\t\t\t/// A static version of the promise instance method then().\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"value\" locid=\"WinJS.Promise.then_p:value\">\n\t\t\t\t\t/// the value to be treated as a promise.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"onComplete\" type=\"Function\" locid=\"WinJS.Promise.then_p:complete\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled with a value.\n\t\t\t\t\t/// If it is null, the promise simply\n\t\t\t\t\t/// returns the value. The value is passed as the single argument.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"onError\" type=\"Function\" optional=\"true\" locid=\"WinJS.Promise.then_p:error\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled with an error. The error\n\t\t\t\t\t/// is passed as the single argument.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"onProgress\" type=\"Function\" optional=\"true\" locid=\"WinJS.Promise.then_p:progress\">\n\t\t\t\t\t/// The function to be called if the promise reports progress. Data about the progress\n\t\t\t\t\t/// is passed as the single argument. Promises are not required to support\n\t\t\t\t\t/// progress.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.Promise.then_returnValue\">\n\t\t\t\t\t/// A promise whose value is the result of executing the provided complete function.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\treturn Promise.as(value).then(onComplete, onError, onProgress);\n\t\t\t\t},\n\t\t\t\tthenEach: function Promise_thenEach(values, onComplete, onError, onProgress) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.thenEach\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.thenEach\">\n\t\t\t\t\t/// Performs an operation on all the input promises and returns a promise\n\t\t\t\t\t/// that has the shape of the input and contains the result of the operation\n\t\t\t\t\t/// that has been performed on each input.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"values\" locid=\"WinJS.Promise.thenEach_p:values\">\n\t\t\t\t\t/// A set of values (which could be either an array or an object) of which some or all are promises.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"onComplete\" type=\"Function\" locid=\"WinJS.Promise.thenEach_p:complete\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled with a value.\n\t\t\t\t\t/// If the value is null, the promise returns the value.\n\t\t\t\t\t/// The value is passed as the single argument.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"onError\" type=\"Function\" optional=\"true\" locid=\"WinJS.Promise.thenEach_p:error\">\n\t\t\t\t\t/// The function to be called if the promise is fulfilled with an error. The error\n\t\t\t\t\t/// is passed as the single argument.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"onProgress\" type=\"Function\" optional=\"true\" locid=\"WinJS.Promise.thenEach_p:progress\">\n\t\t\t\t\t/// The function to be called if the promise reports progress. Data about the progress\n\t\t\t\t\t/// is passed as the single argument. Promises are not required to support\n\t\t\t\t\t/// progress.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.Promise.thenEach_returnValue\">\n\t\t\t\t\t/// A promise that is the result of calling Promise.join on the values parameter.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\tvar result = Array.isArray(values) ? [] : {};\n\t\t\t\t\tObject.keys(values).forEach(function (key) {\n\t\t\t\t\t\tresult[key] = Promise.as(values[key]).then(onComplete, onError, onProgress);\n\t\t\t\t\t});\n\t\t\t\t\treturn Promise.join(result);\n\t\t\t\t},\n\t\t\t\ttimeout: function Promise_timeout(time, promise) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.timeout\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.timeout\">\n\t\t\t\t\t/// Creates a promise that is fulfilled after a timeout.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"timeout\" type=\"Number\" optional=\"true\" locid=\"WinJS.Promise.timeout_p:timeout\">\n\t\t\t\t\t/// The timeout period in milliseconds. If this value is zero or not specified\n\t\t\t\t\t/// setImmediate is called, otherwise setTimeout is called.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <param name=\"promise\" type=\"Promise\" optional=\"true\" locid=\"WinJS.Promise.timeout_p:promise\">\n\t\t\t\t\t/// A promise that will be canceled if it doesn't complete before the\n\t\t\t\t\t/// timeout has expired.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.Promise.timeout_returnValue\">\n\t\t\t\t\t/// A promise that is completed asynchronously after the specified timeout.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\tvar to = timeout(time);\n\t\t\t\t\treturn promise ? timeoutWithPromise(to, promise) : to;\n\t\t\t\t},\n\t\t\t\twrap: function Promise_wrap(value) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.wrap\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.wrap\">\n\t\t\t\t\t/// Wraps a non-promise value in a promise. You can use this function if you need\n\t\t\t\t\t/// to pass a value to a function that requires a promise.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"value\" locid=\"WinJS.Promise.wrap_p:value\">\n\t\t\t\t\t/// Some non-promise value to be wrapped in a promise.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.Promise.wrap_returnValue\">\n\t\t\t\t\t/// A promise that is successfully fulfilled with the specified value\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\treturn new CompletePromise(value);\n\t\t\t\t},\n\t\t\t\twrapError: function Promise_wrapError(error) {\n\t\t\t\t\t/// <signature helpKeyword=\"WinJS.Promise.wrapError\">\n\t\t\t\t\t/// <summary locid=\"WinJS.Promise.wrapError\">\n\t\t\t\t\t/// Wraps a non-promise error value in a promise. You can use this function if you need\n\t\t\t\t\t/// to pass an error to a function that requires a promise.\n\t\t\t\t\t/// </summary>\n\t\t\t\t\t/// <param name=\"error\" locid=\"WinJS.Promise.wrapError_p:error\">\n\t\t\t\t\t/// A non-promise error value to be wrapped in a promise.\n\t\t\t\t\t/// </param>\n\t\t\t\t\t/// <returns type=\"WinJS.Promise\" locid=\"WinJS.Promise.wrapError_returnValue\">\n\t\t\t\t\t/// A promise that is in an error state with the specified value.\n\t\t\t\t\t/// </returns>\n\t\t\t\t\t/// </signature>\n\t\t\t\t\treturn new ErrorPromise(error);\n\t\t\t\t},\n\n\t\t\t\t_veryExpensiveTagWithStack: {\n\t\t\t\t\tget: function () { return tagWithStack; },\n\t\t\t\t\tset: function (value) { tagWithStack = value; }\n\t\t\t\t},\n\t\t\t\t_veryExpensiveTagWithStack_tag: tag,\n\t\t\t\t_getStack: function () {\n\t\t\t\t\tif (_Global.Debug && _Global.Debug.debuggerEnabled) {\n\t\t\t\t\t\ttry { throw new Error(); } catch (e) { return e.stack; }\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t_cancelBlocker: function Promise__cancelBlocker(input, oncancel) {\n\t\t\t\t\t//\n\t\t\t\t\t// Returns a promise which on cancelation will still result in downstream cancelation while\n\t\t\t\t\t//  protecting the promise 'input' from being  canceled which has the effect of allowing\n\t\t\t\t\t//  'input' to be shared amoung various consumers.\n\t\t\t\t\t//\n\t\t\t\t\tif (!Promise.is(input)) {\n\t\t\t\t\t\treturn Promise.wrap(input);\n\t\t\t\t\t}\n\t\t\t\t\tvar complete;\n\t\t\t\t\tvar error;\n\t\t\t\t\tvar output = new Promise(\n\t\t\t\t\t\tfunction (c, e) {\n\t\t\t\t\t\t\tcomplete = c;\n\t\t\t\t\t\t\terror = e;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\tcomplete = null;\n\t\t\t\t\t\t\terror = null;\n\t\t\t\t\t\t\toncancel && oncancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tinput.then(\n\t\t\t\t\t\tfunction (v) { complete && complete(v); },\n\t\t\t\t\t\tfunction (e) { error && error(e); }\n\t\t\t\t\t);\n\t\t\t\t\treturn output;\n\t\t\t\t},\n\n\t\t\t}\n\t\t);\n\t\tObject.defineProperties(Promise, _Events.createEventProperties(errorET));\n\n\t\tPromise._doneHandler = function (value) {\n\t\t\t_BaseCoreUtils._setImmediate(function Promise_done_rethrow() {\n\t\t\t\tthrow value;\n\t\t\t});\n\t\t};\n\n\t\treturn {\n\t\t\tPromiseStateMachine: PromiseStateMachine,\n\t\t\tPromise: Promise,\n\t\t\tstate_created: state_created\n\t\t};\n\t});\n\n\t_winjs(\"WinJS/Promise\", [\"WinJS/Core/_Base\",\"WinJS/Promise/_StateMachine\"], function promiseInit( _Base, _StateMachine) {\n\t\t_Base.Namespace.define(\"WinJS\", {\n\t\t\tPromise: _StateMachine.Promise\n\t\t});\n\n\t\treturn _StateMachine.Promise;\n\t});\n\n\tvar exported = _modules[\"WinJS/Core/_WinJS\"];\n\treturn exported;\n})();\n\nvar Promise$1 = win.Promise;\nvar TPromise = win.Promise;\nvar PPromise = win.Promise;\n\nlet outstandingPromiseErrors = {};\nfunction promiseErrorHandler(e) {\n    const details = e.detail;\n    const id = details.id;\n    if (details.parent) {\n        if (details.handler && outstandingPromiseErrors) {\n            delete outstandingPromiseErrors[id];\n        }\n        return;\n    }\n    outstandingPromiseErrors[id] = details;\n    if (Object.keys(outstandingPromiseErrors).length === 1) {\n        setTimeout(function () {\n            const errors = outstandingPromiseErrors;\n            outstandingPromiseErrors = {};\n            Object.keys(errors).forEach(function (errorId) {\n                const error = errors[errorId];\n                if (error.exception) {\n                    onUnexpectedError(error.exception);\n                }\n                else if (error.error) {\n                    onUnexpectedError(error.error);\n                }\n                console.log('WARNING: Promise with no error callback:' + error.id);\n                console.log(error);\n                if (error.exception) {\n                    console.log(error.exception.stack);\n                }\n            });\n        }, 0);\n    }\n}\nTPromise.addEventListener('error', promiseErrorHandler);\nclass ErrorHandler {\n    constructor() {\n        this.listeners = [];\n        this.unexpectedErrorHandler = function (e) {\n            setTimeout$1(() => {\n                if (e.stack) {\n                    throw new Error(e.message + '\\n\\n' + e.stack);\n                }\n                throw e;\n            }, 0);\n        };\n    }\n    addListener(listener) {\n        this.listeners.push(listener);\n        return () => {\n            this._removeListener(listener);\n        };\n    }\n    emit(e) {\n        this.listeners.forEach((listener) => {\n            listener(e);\n        });\n    }\n    _removeListener(listener) {\n        this.listeners.splice(this.listeners.indexOf(listener), 1);\n    }\n    setUnexpectedErrorHandler(newUnexpectedErrorHandler) {\n        this.unexpectedErrorHandler = newUnexpectedErrorHandler;\n    }\n    getUnexpectedErrorHandler() {\n        return this.unexpectedErrorHandler;\n    }\n    onUnexpectedError(e) {\n        this.unexpectedErrorHandler(e);\n        this.emit(e);\n    }\n    onUnexpectedExternalError(e) {\n        this.unexpectedErrorHandler(e);\n    }\n}\nconst errorHandler = new ErrorHandler();\n\nfunction onUnexpectedError(e) {\n    if (!isPromiseCanceledError(e)) {\n        errorHandler.onUnexpectedError(e);\n    }\n    return undefined;\n}\n\n\n\nconst canceledName = 'Canceled';\nfunction isPromiseCanceledError(error) {\n    return error instanceof Error && error.name === canceledName && error.message === canceledName;\n}\n\nclass Node {\n    constructor(element) {\n        this.element = element;\n    }\n}\nclass LinkedList {\n    isEmpty() {\n        return !this._first;\n    }\n    unshift(element) {\n        return this.insert(element, false);\n    }\n    push(element) {\n        return this.insert(element, true);\n    }\n    insert(element, atTheEnd) {\n        const newNode = new Node(element);\n        if (!this._first) {\n            this._first = newNode;\n            this._last = newNode;\n        }\n        else if (atTheEnd) {\n            const oldLast = this._last;\n            this._last = newNode;\n            newNode.prev = oldLast;\n            oldLast.next = newNode;\n        }\n        else {\n            const oldFirst = this._first;\n            this._first = newNode;\n            newNode.next = oldFirst;\n            oldFirst.prev = newNode;\n        }\n        return () => {\n            for (let candidate = this._first; candidate instanceof Node; candidate = candidate.next) {\n                if (candidate !== newNode) {\n                    continue;\n                }\n                if (candidate.prev && candidate.next) {\n                    let anchor = candidate.prev;\n                    anchor.next = candidate.next;\n                    candidate.next.prev = anchor;\n                }\n                else if (!candidate.prev && !candidate.next) {\n                    this._first = undefined;\n                    this._last = undefined;\n                }\n                else if (!candidate.next) {\n                    this._last = this._last.prev;\n                    this._last.next = undefined;\n                }\n                else if (!candidate.prev) {\n                    this._first = this._first.next;\n                    this._first.prev = undefined;\n                }\n                break;\n            }\n        };\n    }\n    iterator() {\n        let _done;\n        let _value;\n        let element = {\n            get done() { return _done; },\n            get value() { return _value; }\n        };\n        let node = this._first;\n        return {\n            next() {\n                if (!node) {\n                    _done = true;\n                    _value = undefined;\n                }\n                else {\n                    _done = false;\n                    _value = node.element;\n                    node = node.next;\n                }\n                return element;\n            }\n        };\n    }\n    toArray() {\n        let result = [];\n        for (let node = this._first; node instanceof Node; node = node.next) {\n            result.push(node.element);\n        }\n        return result;\n    }\n}\n\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = new LinkedList();\n        }\n        const remove = this._callbacks.push([callback, context]);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: remove });\n        }\n        return remove;\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return undefined;\n        }\n        const ret = [];\n        const elements = this._callbacks.toArray();\n        for (const [callback, context] of elements) {\n            try {\n                ret.push(callback.apply(context, args));\n            }\n            catch (e) {\n                onUnexpectedError(e);\n            }\n        }\n        return ret;\n    }\n    entries() {\n        if (!this._callbacks) {\n            return [];\n        }\n        return this._callbacks\n            ? this._callbacks.toArray()\n            : [];\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.isEmpty();\n    }\n    dispose() {\n        this._callbacks = undefined;\n    }\n}\n\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event || (Event = {}));\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                const firstListener = this._callbacks.isEmpty();\n                if (firstListener && this._options && this._options.onFirstListenerAdd) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                const remove = this._callbacks.add(listener, thisArgs);\n                if (firstListener && this._options && this._options.onFirstListenerDidAdd) {\n                    this._options.onFirstListenerDidAdd(this);\n                }\n                if (this._options && this._options.onListenerDidAdd) {\n                    this._options.onListenerDidAdd(this, listener, thisArgs);\n                }\n                let result;\n                result = {\n                    dispose: () => {\n                        result.dispose = Emitter._noop;\n                        if (!this._disposed) {\n                            remove();\n                            if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                                this._options.onLastListenerRemove(this);\n                            }\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n            this._disposed = true;\n        }\n    }\n}\nEmitter._noop = function () { };\n\nclass BoundedMap {\n    constructor(limit = Number.MAX_VALUE, ratio = 1, value) {\n        this.limit = limit;\n        this.map = new Map();\n        this.ratio = limit * ratio;\n        if (value) {\n            value.entries.forEach(entry => {\n                this.set(entry.key, entry.value);\n            });\n        }\n    }\n    setLimit(limit) {\n        if (limit < 0) {\n            return;\n        }\n        this.limit = limit;\n        while (this.map.size > this.limit) {\n            this.trim();\n        }\n    }\n    serialize() {\n        const serialized = { entries: [] };\n        this.map.forEach(entry => {\n            serialized.entries.push({ key: entry.key, value: entry.value });\n        });\n        return serialized;\n    }\n    get size() {\n        return this.map.size;\n    }\n    set(key, value) {\n        if (this.map.has(key)) {\n            return false;\n        }\n        const entry = { key, value };\n        this.push(entry);\n        if (this.size > this.limit) {\n            this.trim();\n        }\n        return true;\n    }\n    get(key) {\n        const entry = this.map.get(key);\n        return entry ? entry.value : null;\n    }\n    getOrSet(k, t) {\n        const res = this.get(k);\n        if (res) {\n            return res;\n        }\n        this.set(k, t);\n        return t;\n    }\n    delete(key) {\n        const entry = this.map.get(key);\n        if (entry) {\n            this.map.delete(key);\n            if (entry.next) {\n                entry.next.prev = entry.prev;\n            }\n            else {\n                this.head = entry.prev;\n            }\n            if (entry.prev) {\n                entry.prev.next = entry.next;\n            }\n            else {\n                this.tail = entry.next;\n            }\n            return entry.value;\n        }\n        return null;\n    }\n    has(key) {\n        return this.map.has(key);\n    }\n    clear() {\n        this.map.clear();\n        this.head = null;\n        this.tail = null;\n    }\n    push(entry) {\n        if (this.head) {\n            entry.prev = this.head;\n            this.head.next = entry;\n        }\n        if (!this.tail) {\n            this.tail = entry;\n        }\n        this.head = entry;\n        this.map.set(entry.key, entry);\n    }\n    trim() {\n        if (this.tail) {\n            if (this.ratio < this.limit) {\n                let index = 0;\n                let current = this.tail;\n                while (current.next) {\n                    this.map.delete(current.key);\n                    if (index === this.ratio) {\n                        this.tail = current.next;\n                        this.tail.prev = null;\n                        break;\n                    }\n                    current = current.next;\n                    index++;\n                }\n            }\n            else {\n                this.map.delete(this.tail.key);\n                this.tail = this.tail.next;\n                if (this.tail) {\n                    this.tail.prev = null;\n                }\n            }\n        }\n    }\n}\n\nclass PathIterator {\n    reset(key) {\n        this._value = key.replace(/\\\\$|\\/$/, '');\n        this._from = 0;\n        this._to = 0;\n        return this.next();\n    }\n    hasNext() {\n        return this._to < this._value.length;\n    }\n    join(parts) {\n        return parts.join('/');\n    }\n    next() {\n        this._from = this._to;\n        let justSeps = true;\n        for (; this._to < this._value.length; this._to++) {\n            const ch = this._value.charCodeAt(this._to);\n            if (ch === PathIterator._fwd || ch === PathIterator._bwd) {\n                if (justSeps) {\n                    this._from++;\n                }\n                else {\n                    break;\n                }\n            }\n            else {\n                justSeps = false;\n            }\n        }\n        return this;\n    }\n    cmp(a) {\n        let aPos = 0;\n        let aLen = a.length;\n        let thisPos = this._from;\n        while (aPos < aLen && thisPos < this._to) {\n            let cmp = a.charCodeAt(aPos) - this._value.charCodeAt(thisPos);\n            if (cmp !== 0) {\n                return cmp;\n            }\n            aPos += 1;\n            thisPos += 1;\n        }\n        if (aLen === this._to - this._from) {\n            return 0;\n        }\n        else if (aPos < aLen) {\n            return -1;\n        }\n        else {\n            return 1;\n        }\n    }\n    value() {\n        return this._value.substring(this._from, this._to);\n    }\n}\nPathIterator._fwd = '/'.charCodeAt(0);\nPathIterator._bwd = '\\\\'.charCodeAt(0);\n\n\n\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.Last = 2;\n})(Touch || (Touch = {}));\n\nconst nfcCache = new BoundedMap(10000);\n\nconst nfdCache = new BoundedMap(10000);\n\nconst CACHE = new BoundedMap(10000);\n\nclass TokenizationRegistryImpl {\n    constructor() {\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._map = Object.create(null);\n        this._colorMap = null;\n    }\n    fire(languages) {\n        this._onDidChange.fire({\n            changedLanguages: languages,\n            changedColorMap: false\n        });\n    }\n    register(language, support) {\n        this._map[language] = support;\n        this.fire([language]);\n        return {\n            dispose: () => {\n                if (this._map[language] !== support) {\n                    return;\n                }\n                delete this._map[language];\n                this.fire([language]);\n            }\n        };\n    }\n    get(language) {\n        return (this._map[language] || null);\n    }\n    setColorMap(colorMap) {\n        this._colorMap = colorMap;\n        this._onDidChange.fire({\n            changedLanguages: Object.keys(this._map),\n            changedColorMap: true\n        });\n    }\n    getColorMap() {\n        return this._colorMap;\n    }\n    getDefaultForeground() {\n        return this._colorMap[1];\n    }\n    getDefaultBackground() {\n        return this._colorMap[2];\n    }\n}\n\nvar SuggestTriggerKind;\n(function (SuggestTriggerKind) {\n    SuggestTriggerKind[SuggestTriggerKind[\"Invoke\"] = 0] = \"Invoke\";\n    SuggestTriggerKind[SuggestTriggerKind[\"TriggerCharacter\"] = 1] = \"TriggerCharacter\";\n})(SuggestTriggerKind || (SuggestTriggerKind = {}));\nvar DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    DocumentHighlightKind[DocumentHighlightKind[\"Text\"] = 0] = \"Text\";\n    DocumentHighlightKind[DocumentHighlightKind[\"Read\"] = 1] = \"Read\";\n    DocumentHighlightKind[DocumentHighlightKind[\"Write\"] = 2] = \"Write\";\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\nvar SymbolKind;\n(function (SymbolKind) {\n    SymbolKind[SymbolKind[\"File\"] = 0] = \"File\";\n    SymbolKind[SymbolKind[\"Module\"] = 1] = \"Module\";\n    SymbolKind[SymbolKind[\"Namespace\"] = 2] = \"Namespace\";\n    SymbolKind[SymbolKind[\"Package\"] = 3] = \"Package\";\n    SymbolKind[SymbolKind[\"Class\"] = 4] = \"Class\";\n    SymbolKind[SymbolKind[\"Method\"] = 5] = \"Method\";\n    SymbolKind[SymbolKind[\"Property\"] = 6] = \"Property\";\n    SymbolKind[SymbolKind[\"Field\"] = 7] = \"Field\";\n    SymbolKind[SymbolKind[\"Constructor\"] = 8] = \"Constructor\";\n    SymbolKind[SymbolKind[\"Enum\"] = 9] = \"Enum\";\n    SymbolKind[SymbolKind[\"Interface\"] = 10] = \"Interface\";\n    SymbolKind[SymbolKind[\"Function\"] = 11] = \"Function\";\n    SymbolKind[SymbolKind[\"Variable\"] = 12] = \"Variable\";\n    SymbolKind[SymbolKind[\"Constant\"] = 13] = \"Constant\";\n    SymbolKind[SymbolKind[\"String\"] = 14] = \"String\";\n    SymbolKind[SymbolKind[\"Number\"] = 15] = \"Number\";\n    SymbolKind[SymbolKind[\"Boolean\"] = 16] = \"Boolean\";\n    SymbolKind[SymbolKind[\"Array\"] = 17] = \"Array\";\n    SymbolKind[SymbolKind[\"Object\"] = 18] = \"Object\";\n    SymbolKind[SymbolKind[\"Key\"] = 19] = \"Key\";\n    SymbolKind[SymbolKind[\"Null\"] = 20] = \"Null\";\n    SymbolKind[SymbolKind[\"EnumMember\"] = 21] = \"EnumMember\";\n    SymbolKind[SymbolKind[\"Struct\"] = 22] = \"Struct\";\n    SymbolKind[SymbolKind[\"Event\"] = 23] = \"Event\";\n    SymbolKind[SymbolKind[\"Operator\"] = 24] = \"Operator\";\n    SymbolKind[SymbolKind[\"TypeParameter\"] = 25] = \"TypeParameter\";\n})(SymbolKind || (SymbolKind = {}));\nconst symbolKindToCssClass = (function () {\n    const _fromMapping = Object.create(null);\n    _fromMapping[SymbolKind.File] = 'file';\n    _fromMapping[SymbolKind.Module] = 'module';\n    _fromMapping[SymbolKind.Namespace] = 'namespace';\n    _fromMapping[SymbolKind.Package] = 'package';\n    _fromMapping[SymbolKind.Class] = 'class';\n    _fromMapping[SymbolKind.Method] = 'method';\n    _fromMapping[SymbolKind.Property] = 'property';\n    _fromMapping[SymbolKind.Field] = 'field';\n    _fromMapping[SymbolKind.Constructor] = 'constructor';\n    _fromMapping[SymbolKind.Enum] = 'enum';\n    _fromMapping[SymbolKind.Interface] = 'interface';\n    _fromMapping[SymbolKind.Function] = 'function';\n    _fromMapping[SymbolKind.Variable] = 'variable';\n    _fromMapping[SymbolKind.Constant] = 'constant';\n    _fromMapping[SymbolKind.String] = 'string';\n    _fromMapping[SymbolKind.Number] = 'number';\n    _fromMapping[SymbolKind.Boolean] = 'boolean';\n    _fromMapping[SymbolKind.Array] = 'array';\n    _fromMapping[SymbolKind.Object] = 'object';\n    _fromMapping[SymbolKind.Key] = 'key';\n    _fromMapping[SymbolKind.Null] = 'null';\n    _fromMapping[SymbolKind.EnumMember] = 'enum-member';\n    _fromMapping[SymbolKind.Struct] = 'struct';\n    _fromMapping[SymbolKind.Event] = 'event';\n    _fromMapping[SymbolKind.Operator] = 'operator';\n    _fromMapping[SymbolKind.TypeParameter] = 'type-parameter';\n    return function toCssClassName(kind) {\n        return _fromMapping[kind] || 'property';\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TokenizationRegistry = new TokenizationRegistryImpl();\n\nclass Token {\n    constructor(offset, type, language) {\n        this.offset = offset | 0;\n        this.type = type;\n        this.language = language;\n    }\n    toString() {\n        return '(' + this.offset + ', ' + this.type + ')';\n    }\n}\nclass TokenizationResult {\n    constructor(tokens, endState) {\n        this.tokens = tokens;\n        this.endState = endState;\n    }\n}\nclass TokenizationResult2 {\n    constructor(tokens, endState) {\n        this.tokens = tokens;\n        this.endState = endState;\n    }\n}\n\nclass NullStateImpl {\n    clone() {\n        return this;\n    }\n    equals(other) {\n        return (this === other);\n    }\n}\nconst NULL_STATE = new NullStateImpl();\nconst NULL_MODE_ID = 'vs.editor.nullMode';\n\nconst CACHE_STACK_DEPTH = 5;\nclass MonarchStackElementFactory {\n    constructor(maxCacheDepth) {\n        this._maxCacheDepth = maxCacheDepth;\n        this._entries = Object.create(null);\n    }\n    static create(parent, state) {\n        return this._INSTANCE.create(parent, state);\n    }\n    create(parent, state) {\n        if (parent !== null && parent.depth >= this._maxCacheDepth) {\n            return new MonarchStackElement(parent, state);\n        }\n        let stackElementId = MonarchStackElement.getStackElementId(parent);\n        if (stackElementId.length > 0) {\n            stackElementId += '|';\n        }\n        stackElementId += state;\n        let result = this._entries[stackElementId];\n        if (result) {\n            return result;\n        }\n        result = new MonarchStackElement(parent, state);\n        this._entries[stackElementId] = result;\n        return result;\n    }\n}\nMonarchStackElementFactory._INSTANCE = new MonarchStackElementFactory(CACHE_STACK_DEPTH);\nclass MonarchStackElement {\n    constructor(parent, state) {\n        this.parent = parent;\n        this.state = state;\n        this.depth = (this.parent ? this.parent.depth : 0) + 1;\n    }\n    static getStackElementId(element) {\n        let result = '';\n        while (element !== null) {\n            if (result.length > 0) {\n                result += '|';\n            }\n            result += element.state;\n            element = element.parent;\n        }\n        return result;\n    }\n    static _equals(a, b) {\n        while (a !== null && b !== null) {\n            if (a === b) {\n                return true;\n            }\n            if (a.state !== b.state) {\n                return false;\n            }\n            a = a.parent;\n            b = b.parent;\n        }\n        if (a === null && b === null) {\n            return true;\n        }\n        return false;\n    }\n    equals(other) {\n        return MonarchStackElement._equals(this, other);\n    }\n    push(state) {\n        return MonarchStackElementFactory.create(this, state);\n    }\n    pop() {\n        return this.parent;\n    }\n    popall() {\n        let result = this;\n        while (result.parent) {\n            result = result.parent;\n        }\n        return result;\n    }\n    switchTo(state) {\n        return MonarchStackElementFactory.create(this.parent, state);\n    }\n}\nclass EmbeddedModeData {\n    constructor(modeId, state) {\n        this.modeId = modeId;\n        this.state = state;\n    }\n    equals(other) {\n        return (this.modeId === other.modeId\n            && this.state.equals(other.state));\n    }\n    clone() {\n        let stateClone = this.state.clone();\n        if (stateClone === this.state) {\n            return this;\n        }\n        return new EmbeddedModeData(this.modeId, this.state);\n    }\n}\nclass MonarchLineStateFactory {\n    constructor(maxCacheDepth) {\n        this._maxCacheDepth = maxCacheDepth;\n        this._entries = Object.create(null);\n    }\n    static create(stack, embeddedModeData) {\n        return this._INSTANCE.create(stack, embeddedModeData);\n    }\n    create(stack, embeddedModeData) {\n        if (embeddedModeData !== null) {\n            return new MonarchLineState(stack, embeddedModeData);\n        }\n        if (stack !== null && stack.depth >= this._maxCacheDepth) {\n            return new MonarchLineState(stack, embeddedModeData);\n        }\n        let stackElementId = MonarchStackElement.getStackElementId(stack);\n        let result = this._entries[stackElementId];\n        if (result) {\n            return result;\n        }\n        result = new MonarchLineState(stack, null);\n        this._entries[stackElementId] = result;\n        return result;\n    }\n}\nMonarchLineStateFactory._INSTANCE = new MonarchLineStateFactory(CACHE_STACK_DEPTH);\nclass MonarchLineState {\n    constructor(stack, embeddedModeData) {\n        this.stack = stack;\n        this.embeddedModeData = embeddedModeData;\n    }\n    clone() {\n        let embeddedModeDataClone = this.embeddedModeData ? this.embeddedModeData.clone() : null;\n        if (embeddedModeDataClone === this.embeddedModeData) {\n            return this;\n        }\n        return MonarchLineStateFactory.create(this.stack, this.embeddedModeData);\n    }\n    equals(other) {\n        if (!(other instanceof MonarchLineState)) {\n            return false;\n        }\n        if (!this.stack.equals(other.stack)) {\n            return false;\n        }\n        if (this.embeddedModeData === null && other.embeddedModeData === null) {\n            return true;\n        }\n        if (this.embeddedModeData === null || other.embeddedModeData === null) {\n            return false;\n        }\n        return this.embeddedModeData.equals(other.embeddedModeData);\n    }\n}\nconst hasOwnProperty$2 = Object.hasOwnProperty;\nclass MonarchClassicTokensCollector {\n    constructor() {\n        this._tokens = [];\n        this._language = null;\n        this._lastTokenType = null;\n        this._lastTokenLanguage = null;\n    }\n    enterMode(startOffset, modeId) {\n        this._language = modeId;\n    }\n    emit(startOffset, type) {\n        if (this._lastTokenType === type && this._lastTokenLanguage === this._language) {\n            return;\n        }\n        this._lastTokenType = type;\n        this._lastTokenLanguage = this._language;\n        this._tokens.push(new Token(startOffset, type, this._language));\n    }\n    nestedModeTokenize(embeddedModeLine, embeddedModeData, offsetDelta) {\n        const nestedModeId = embeddedModeData.modeId;\n        const embeddedModeState = embeddedModeData.state;\n        const nestedModeTokenizationSupport = TokenizationRegistry.get(nestedModeId);\n        if (!nestedModeTokenizationSupport) {\n            this.enterMode(offsetDelta, nestedModeId);\n            this.emit(offsetDelta, '');\n            return embeddedModeState;\n        }\n        let nestedResult = nestedModeTokenizationSupport.tokenize(embeddedModeLine, embeddedModeState, offsetDelta);\n        this._tokens = this._tokens.concat(nestedResult.tokens);\n        this._lastTokenType = null;\n        this._lastTokenLanguage = null;\n        this._language = null;\n        return nestedResult.endState;\n    }\n    finalize(endState) {\n        return new TokenizationResult(this._tokens, endState);\n    }\n}\nclass MonarchModernTokensCollector {\n    constructor(modeService, theme) {\n        this._modeService = modeService;\n        this._theme = theme;\n        this._prependTokens = null;\n        this._tokens = [];\n        this._currentLanguageId = 0;\n        this._lastTokenMetadata = 0;\n    }\n    enterMode(startOffset, modeId) {\n        this._currentLanguageId = this._modeService.getLanguageIdentifier(modeId).id;\n    }\n    emit(startOffset, type) {\n        let metadata = this._theme.match(this._currentLanguageId, type);\n        if (this._lastTokenMetadata === metadata) {\n            return;\n        }\n        this._lastTokenMetadata = metadata;\n        this._tokens.push(startOffset);\n        this._tokens.push(metadata);\n    }\n    static _merge(a, b, c) {\n        let aLen = (a !== null ? a.length : 0);\n        let bLen = b.length;\n        let cLen = (c !== null ? c.length : 0);\n        if (aLen === 0 && bLen === 0 && cLen === 0) {\n            return new Uint32Array(0);\n        }\n        if (aLen === 0 && bLen === 0) {\n            return c;\n        }\n        if (bLen === 0 && cLen === 0) {\n            return a;\n        }\n        let result = new Uint32Array(aLen + bLen + cLen);\n        if (a !== null) {\n            result.set(a);\n        }\n        for (let i = 0; i < bLen; i++) {\n            result[aLen + i] = b[i];\n        }\n        if (c !== null) {\n            result.set(c, aLen + bLen);\n        }\n        return result;\n    }\n    nestedModeTokenize(embeddedModeLine, embeddedModeData, offsetDelta) {\n        const nestedModeId = embeddedModeData.modeId;\n        const embeddedModeState = embeddedModeData.state;\n        const nestedModeTokenizationSupport = TokenizationRegistry.get(nestedModeId);\n        if (!nestedModeTokenizationSupport) {\n            this.enterMode(offsetDelta, nestedModeId);\n            this.emit(offsetDelta, '');\n            return embeddedModeState;\n        }\n        let nestedResult = nestedModeTokenizationSupport.tokenize2(embeddedModeLine, embeddedModeState, offsetDelta);\n        this._prependTokens = MonarchModernTokensCollector._merge(this._prependTokens, this._tokens, nestedResult.tokens);\n        this._tokens = [];\n        this._currentLanguageId = 0;\n        this._lastTokenMetadata = 0;\n        return nestedResult.endState;\n    }\n    finalize(endState) {\n        return new TokenizationResult2(MonarchModernTokensCollector._merge(this._prependTokens, this._tokens, null), endState);\n    }\n}\nclass MonarchTokenizer {\n    constructor(modeService, standaloneThemeService, modeId, lexer) {\n        this._modeService = modeService;\n        this._standaloneThemeService = standaloneThemeService;\n        this._modeId = modeId;\n        this._lexer = lexer;\n        this._embeddedModes = Object.create(null);\n        let emitting = false;\n        this._tokenizationRegistryListener = TokenizationRegistry.onDidChange((e) => {\n            if (emitting) {\n                return;\n            }\n            let isOneOfMyEmbeddedModes = false;\n            for (let i = 0, len = e.changedLanguages.length; i < len; i++) {\n                let language = e.changedLanguages[i];\n                if (this._embeddedModes[language]) {\n                    isOneOfMyEmbeddedModes = true;\n                    break;\n                }\n            }\n            if (isOneOfMyEmbeddedModes) {\n                emitting = true;\n                TokenizationRegistry.fire([this._modeId]);\n                emitting = false;\n            }\n        });\n    }\n    dispose() {\n        this._tokenizationRegistryListener.dispose();\n    }\n    getInitialState() {\n        let rootState = MonarchStackElementFactory.create(null, this._lexer.start);\n        return MonarchLineStateFactory.create(rootState, null);\n    }\n    tokenize(line, lineState, offsetDelta) {\n        let tokensCollector = new MonarchClassicTokensCollector();\n        let endLineState = this._tokenize(line, lineState, offsetDelta, tokensCollector);\n        return tokensCollector.finalize(endLineState);\n    }\n    tokenize2(line, lineState, offsetDelta) {\n        let tokensCollector = new MonarchModernTokensCollector(this._modeService, this._standaloneThemeService.getTheme().tokenTheme);\n        let endLineState = this._tokenize(line, lineState, offsetDelta, tokensCollector);\n        return tokensCollector.finalize(endLineState);\n    }\n    _tokenize(line, lineState, offsetDelta, collector) {\n        if (lineState.embeddedModeData) {\n            return this._nestedTokenize(line, lineState, offsetDelta, collector);\n        }\n        else {\n            return this._myTokenize(line, lineState, offsetDelta, collector);\n        }\n    }\n    _findLeavingNestedModeOffset(line, state) {\n        let rules = this._lexer.tokenizer[state.stack.state];\n        if (!rules) {\n            rules = findRules(this._lexer, state.stack.state);\n            if (!rules) {\n                throwError(this._lexer, 'tokenizer state is not defined: ' + state.stack.state);\n            }\n        }\n        let popOffset = -1;\n        let hasEmbeddedPopRule = false;\n        for (let idx in rules) {\n            if (!hasOwnProperty$2.call(rules, idx)) {\n                continue;\n            }\n            let rule = rules[idx];\n            if (isIAction(rule.action) && rule.action.nextEmbedded !== '@pop') {\n                continue;\n            }\n            hasEmbeddedPopRule = true;\n            let regex = rule.regex;\n            let regexSource = rule.regex.source;\n            if (regexSource.substr(0, 4) === '^(?:' && regexSource.substr(regexSource.length - 1, 1) === ')') {\n                regex = new RegExp(regexSource.substr(4, regexSource.length - 5), regex.ignoreCase ? 'i' : '');\n            }\n            let result = line.search(regex);\n            if (result === -1) {\n                continue;\n            }\n            if (popOffset === -1 || result < popOffset) {\n                popOffset = result;\n            }\n        }\n        if (!hasEmbeddedPopRule) {\n            throwError(this._lexer, 'no rule containing nextEmbedded: \"@pop\" in tokenizer embedded state: ' + state.stack.state);\n        }\n        return popOffset;\n    }\n    _nestedTokenize(line, lineState, offsetDelta, tokensCollector) {\n        let popOffset = this._findLeavingNestedModeOffset(line, lineState);\n        if (popOffset === -1) {\n            let nestedEndState = tokensCollector.nestedModeTokenize(line, lineState.embeddedModeData, offsetDelta);\n            return MonarchLineStateFactory.create(lineState.stack, new EmbeddedModeData(lineState.embeddedModeData.modeId, nestedEndState));\n        }\n        let nestedModeLine = line.substring(0, popOffset);\n        if (nestedModeLine.length > 0) {\n            tokensCollector.nestedModeTokenize(nestedModeLine, lineState.embeddedModeData, offsetDelta);\n        }\n        let restOfTheLine = line.substring(popOffset);\n        return this._myTokenize(restOfTheLine, lineState, offsetDelta + popOffset, tokensCollector);\n    }\n    _myTokenize(line, lineState, offsetDelta, tokensCollector) {\n        tokensCollector.enterMode(offsetDelta, this._modeId);\n        const lineLength = line.length;\n        let embeddedModeData = lineState.embeddedModeData;\n        let stack = lineState.stack;\n        let pos = 0;\n        let groupActions = null;\n        let groupMatches = null;\n        let groupMatched = null;\n        let groupRule = null;\n        while (pos < lineLength) {\n            const pos0 = pos;\n            const stackLen0 = stack.depth;\n            const groupLen0 = groupActions ? groupActions.length : 0;\n            const state = stack.state;\n            let matches = null;\n            let matched = null;\n            let action = null;\n            let rule = null;\n            let enteringEmbeddedMode = null;\n            if (groupActions) {\n                matches = groupMatches;\n                matched = groupMatched.shift();\n                action = groupActions.shift();\n                rule = groupRule;\n                if (groupActions.length === 0) {\n                    groupActions = null;\n                    groupMatches = null;\n                    groupMatched = null;\n                    groupRule = null;\n                }\n            }\n            else {\n                if (pos >= lineLength) {\n                    break;\n                }\n                let rules = this._lexer.tokenizer[state];\n                if (!rules) {\n                    rules = findRules(this._lexer, state);\n                    if (!rules) {\n                        throwError(this._lexer, 'tokenizer state is not defined: ' + state);\n                    }\n                }\n                let restOfLine = line.substr(pos);\n                for (let idx in rules) {\n                    if (hasOwnProperty$2.call(rules, idx)) {\n                        let rule = rules[idx];\n                        if (pos === 0 || !rule.matchOnlyAtLineStart) {\n                            matches = restOfLine.match(rule.regex);\n                            if (matches) {\n                                matched = matches[0];\n                                action = rule.action;\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            if (!matches) {\n                matches = [''];\n                matched = '';\n            }\n            if (!action) {\n                if (pos < lineLength) {\n                    matches = [line.charAt(pos)];\n                    matched = matches[0];\n                }\n                action = this._lexer.defaultToken;\n            }\n            pos += matched.length;\n            while (isFuzzyAction(action) && isIAction(action) && action.test) {\n                action = action.test(matched, matches, state, pos === lineLength);\n            }\n            let result = null;\n            if (typeof action === 'string' || Array.isArray(action)) {\n                result = action;\n            }\n            else if (action.group) {\n                result = action.group;\n            }\n            else if (action.token !== null && action.token !== undefined) {\n                if (action.tokenSubst) {\n                    result = substituteMatches(this._lexer, action.token, matched, matches, state);\n                }\n                else {\n                    result = action.token;\n                }\n                if (action.nextEmbedded) {\n                    if (action.nextEmbedded === '@pop') {\n                        if (!embeddedModeData) {\n                            throwError(this._lexer, 'cannot pop embedded mode if not inside one');\n                        }\n                        embeddedModeData = null;\n                    }\n                    else if (embeddedModeData) {\n                        throwError(this._lexer, 'cannot enter embedded mode from within an embedded mode');\n                    }\n                    else {\n                        enteringEmbeddedMode = substituteMatches(this._lexer, action.nextEmbedded, matched, matches, state);\n                    }\n                }\n                if (action.goBack) {\n                    pos = Math.max(0, pos - action.goBack);\n                }\n                if (action.switchTo && typeof action.switchTo === 'string') {\n                    let nextState = substituteMatches(this._lexer, action.switchTo, matched, matches, state);\n                    if (nextState[0] === '@') {\n                        nextState = nextState.substr(1);\n                    }\n                    if (!findRules(this._lexer, nextState)) {\n                        throwError(this._lexer, 'trying to switch to a state \\'' + nextState + '\\' that is undefined in rule: ' + rule.name);\n                    }\n                    else {\n                        stack = stack.switchTo(nextState);\n                    }\n                }\n                else if (action.transform && typeof action.transform === 'function') {\n                    throwError(this._lexer, 'action.transform not supported');\n                }\n                else if (action.next) {\n                    if (action.next === '@push') {\n                        if (stack.depth >= this._lexer.maxStack) {\n                            throwError(this._lexer, 'maximum tokenizer stack size reached: [' +\n                                stack.state + ',' + stack.parent.state + ',...]');\n                        }\n                        else {\n                            stack = stack.push(state);\n                        }\n                    }\n                    else if (action.next === '@pop') {\n                        if (stack.depth <= 1) {\n                            throwError(this._lexer, 'trying to pop an empty stack in rule: ' + rule.name);\n                        }\n                        else {\n                            stack = stack.pop();\n                        }\n                    }\n                    else if (action.next === '@popall') {\n                        stack = stack.popall();\n                    }\n                    else {\n                        let nextState = substituteMatches(this._lexer, action.next, matched, matches, state);\n                        if (nextState[0] === '@') {\n                            nextState = nextState.substr(1);\n                        }\n                        if (!findRules(this._lexer, nextState)) {\n                            throwError(this._lexer, 'trying to set a next state \\'' + nextState + '\\' that is undefined in rule: ' + rule.name);\n                        }\n                        else {\n                            stack = stack.push(nextState);\n                        }\n                    }\n                }\n                if (action.log && typeof (action.log) === 'string') {\n                    log(this._lexer, this._lexer.languageId + ': ' + substituteMatches(this._lexer, action.log, matched, matches, state));\n                }\n            }\n            if (result === null) {\n                throwError(this._lexer, 'lexer rule has no well-defined action in rule: ' + rule.name);\n            }\n            if (Array.isArray(result)) {\n                if (groupActions && groupActions.length > 0) {\n                    throwError(this._lexer, 'groups cannot be nested: ' + rule.name);\n                }\n                if (matches.length !== result.length + 1) {\n                    throwError(this._lexer, 'matched number of groups does not match the number of actions in rule: ' + rule.name);\n                }\n                let totalLen = 0;\n                for (let i = 1; i < matches.length; i++) {\n                    totalLen += matches[i].length;\n                }\n                if (totalLen !== matched.length) {\n                    throwError(this._lexer, 'with groups, all characters should be matched in consecutive groups in rule: ' + rule.name);\n                }\n                groupMatches = matches;\n                groupMatched = matches.slice(1);\n                groupActions = result.slice(0);\n                groupRule = rule;\n                pos -= matched.length;\n                continue;\n            }\n            else {\n                if (result === '@rematch') {\n                    pos -= matched.length;\n                    matched = '';\n                    matches = null;\n                    result = '';\n                }\n                if (matched.length === 0) {\n                    if (stackLen0 !== stack.depth || state !== stack.state || (!groupActions ? 0 : groupActions.length) !== groupLen0) {\n                        continue;\n                    }\n                    else {\n                        throwError(this._lexer, 'no progress in tokenizer in rule: ' + rule.name);\n                        pos = lineLength;\n                    }\n                }\n                let tokenType = null;\n                if (isString$1(result) && result.indexOf('@brackets') === 0) {\n                    let rest = result.substr('@brackets'.length);\n                    let bracket = findBracket(this._lexer, matched);\n                    if (!bracket) {\n                        throwError(this._lexer, '@brackets token returned but no bracket defined as: ' + matched);\n                        bracket = { token: '', bracketType: 0 };\n                    }\n                    tokenType = sanitize(bracket.token + rest);\n                }\n                else {\n                    let token = (result === '' ? '' : result + this._lexer.tokenPostfix);\n                    tokenType = sanitize(token);\n                }\n                tokensCollector.emit(pos0 + offsetDelta, tokenType);\n            }\n            if (enteringEmbeddedMode !== null) {\n                let enteringEmbeddedModeId = this._modeService.getModeIdForLanguageName(enteringEmbeddedMode);\n                if (enteringEmbeddedModeId) {\n                    enteringEmbeddedMode = enteringEmbeddedModeId;\n                }\n                let embeddedModeData = this._getNestedEmbeddedModeData(enteringEmbeddedMode);\n                if (pos < lineLength) {\n                    let restOfLine = line.substr(pos);\n                    return this._nestedTokenize(restOfLine, MonarchLineStateFactory.create(stack, embeddedModeData), offsetDelta + pos, tokensCollector);\n                }\n                else {\n                    return MonarchLineStateFactory.create(stack, embeddedModeData);\n                }\n            }\n        }\n        return MonarchLineStateFactory.create(stack, embeddedModeData);\n    }\n    _getNestedEmbeddedModeData(mimetypeOrModeId) {\n        let nestedMode = this._locateMode(mimetypeOrModeId);\n        if (nestedMode) {\n            let tokenizationSupport = TokenizationRegistry.get(nestedMode.getId());\n            if (tokenizationSupport) {\n                return new EmbeddedModeData(nestedMode.getId(), tokenizationSupport.getInitialState());\n            }\n        }\n        let nestedModeId = nestedMode ? nestedMode.getId() : NULL_MODE_ID;\n        return new EmbeddedModeData(nestedModeId, NULL_STATE);\n    }\n    _locateMode(mimetypeOrModeId) {\n        if (!mimetypeOrModeId || !this._modeService.isRegisteredMode(mimetypeOrModeId)) {\n            return null;\n        }\n        let modeId = this._modeService.getModeId(mimetypeOrModeId);\n        this._modeService.getOrCreateMode(modeId);\n        let mode = this._modeService.getMode(modeId);\n        if (mode) {\n            this._embeddedModes[modeId] = true;\n            return mode;\n        }\n        this._embeddedModes[modeId] = true;\n        return null;\n    }\n}\nfunction findBracket(lexer, matched) {\n    if (!matched) {\n        return null;\n    }\n    matched = fixCase(lexer, matched);\n    var brackets = lexer.brackets;\n    for (var i = 0; i < brackets.length; i++) {\n        var bracket = brackets[i];\n        if (bracket.open === matched) {\n            return { token: bracket.token, bracketType: 1 };\n        }\n        else if (bracket.close === matched) {\n            return { token: bracket.token, bracketType: -1 };\n        }\n    }\n    return null;\n}\nfunction createTokenizationSupport(modeService, standaloneThemeService, modeId, lexer) {\n    return new MonarchTokenizer(modeService, standaloneThemeService, modeId, lexer);\n}\n\nfunction roundFloat(number, decimalPoints) {\n    const decimal = Math.pow(10, decimalPoints);\n    return Math.round(number * decimal) / decimal;\n}\nclass RGBA {\n    constructor(r, g, b, a = 1) {\n        this.r = Math.min(255, Math.max(0, r)) | 0;\n        this.g = Math.min(255, Math.max(0, g)) | 0;\n        this.b = Math.min(255, Math.max(0, b)) | 0;\n        this.a = roundFloat(Math.max(Math.min(1, a), 0), 3);\n    }\n    static equals(a, b) {\n        return a.r === b.r && a.g === b.g && a.b === b.b && a.a === b.a;\n    }\n}\nclass HSLA {\n    constructor(h, s, l, a) {\n        this.h = Math.max(Math.min(360, h), 0) | 0;\n        this.s = roundFloat(Math.max(Math.min(1, s), 0), 3);\n        this.l = roundFloat(Math.max(Math.min(1, l), 0), 3);\n        this.a = roundFloat(Math.max(Math.min(1, a), 0), 3);\n    }\n    static equals(a, b) {\n        return a.h === b.h && a.s === b.s && a.l === b.l && a.a === b.a;\n    }\n    static fromRGBA(rgba) {\n        const r = rgba.r / 255;\n        const g = rgba.g / 255;\n        const b = rgba.b / 255;\n        const a = rgba.a;\n        const max = Math.max(r, g, b);\n        const min = Math.min(r, g, b);\n        let h = 0;\n        let s = 0;\n        const l = (min + max) / 2;\n        const chroma = max - min;\n        if (chroma > 0) {\n            s = Math.min((l <= 0.5 ? chroma / (2 * l) : chroma / (2 - (2 * l))), 1);\n            switch (max) {\n                case r:\n                    h = (g - b) / chroma + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / chroma + 2;\n                    break;\n                case b:\n                    h = (r - g) / chroma + 4;\n                    break;\n            }\n            h *= 60;\n            h = Math.round(h);\n        }\n        return new HSLA(h, s, l, a);\n    }\n    static _hue2rgb(p, q, t) {\n        if (t < 0) {\n            t += 1;\n        }\n        if (t > 1) {\n            t -= 1;\n        }\n        if (t < 1 / 6) {\n            return p + (q - p) * 6 * t;\n        }\n        if (t < 1 / 2) {\n            return q;\n        }\n        if (t < 2 / 3) {\n            return p + (q - p) * (2 / 3 - t) * 6;\n        }\n        return p;\n    }\n    static toRGBA(hsla) {\n        const h = hsla.h / 360;\n        const { s, l, a } = hsla;\n        let r, g, b;\n        if (s === 0) {\n            r = g = b = l;\n        }\n        else {\n            const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            const p = 2 * l - q;\n            r = HSLA._hue2rgb(p, q, h + 1 / 3);\n            g = HSLA._hue2rgb(p, q, h);\n            b = HSLA._hue2rgb(p, q, h - 1 / 3);\n        }\n        return new RGBA(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), a);\n    }\n}\nclass HSVA {\n    constructor(h, s, v, a) {\n        this.h = Math.max(Math.min(360, h), 0) | 0;\n        this.s = roundFloat(Math.max(Math.min(1, s), 0), 3);\n        this.v = roundFloat(Math.max(Math.min(1, v), 0), 3);\n        this.a = roundFloat(Math.max(Math.min(1, a), 0), 3);\n    }\n    static equals(a, b) {\n        return a.h === b.h && a.s === b.s && a.v === b.v && a.a === b.a;\n    }\n    static fromRGBA(rgba) {\n        const r = rgba.r / 255;\n        const g = rgba.g / 255;\n        const b = rgba.b / 255;\n        const cmax = Math.max(r, g, b);\n        const cmin = Math.min(r, g, b);\n        const delta = cmax - cmin;\n        const s = cmax === 0 ? 0 : (delta / cmax);\n        let m;\n        if (delta === 0) {\n            m = 0;\n        }\n        else if (cmax === r) {\n            m = ((((g - b) / delta) % 6) + 6) % 6;\n        }\n        else if (cmax === g) {\n            m = ((b - r) / delta) + 2;\n        }\n        else {\n            m = ((r - g) / delta) + 4;\n        }\n        return new HSVA(m * 60, s, cmax, rgba.a);\n    }\n    static toRGBA(hsva) {\n        const { h, s, v, a } = hsva;\n        const c = v * s;\n        const x = c * (1 - Math.abs((h / 60) % 2 - 1));\n        const m = v - c;\n        let [r, g, b] = [0, 0, 0];\n        if (h < 60) {\n            r = c;\n            g = x;\n        }\n        else if (h < 120) {\n            r = x;\n            g = c;\n        }\n        else if (h < 180) {\n            g = c;\n            b = x;\n        }\n        else if (h < 240) {\n            g = x;\n            b = c;\n        }\n        else if (h < 300) {\n            r = x;\n            b = c;\n        }\n        else if (h < 360) {\n            r = c;\n            b = x;\n        }\n        r = Math.round((r + m) * 255);\n        g = Math.round((g + m) * 255);\n        b = Math.round((b + m) * 255);\n        return new RGBA(r, g, b, a);\n    }\n}\nclass Color {\n    constructor(arg) {\n        if (!arg) {\n            throw new Error('Color needs a value');\n        }\n        else if (arg instanceof RGBA) {\n            this.rgba = arg;\n        }\n        else if (arg instanceof HSLA) {\n            this._hsla = arg;\n            this.rgba = HSLA.toRGBA(arg);\n        }\n        else if (arg instanceof HSVA) {\n            this._hsva = arg;\n            this.rgba = HSVA.toRGBA(arg);\n        }\n        else {\n            throw new Error('Invalid color ctor argument');\n        }\n    }\n    static fromHex(hex) {\n        return Color.Format.CSS.parseHex(hex) || Color.red;\n    }\n    get hsla() {\n        if (this._hsla) {\n            return this._hsla;\n        }\n        else {\n            return HSLA.fromRGBA(this.rgba);\n        }\n    }\n    get hsva() {\n        if (this._hsva) {\n            return this._hsva;\n        }\n        return HSVA.fromRGBA(this.rgba);\n    }\n    equals(other) {\n        return !!other && RGBA.equals(this.rgba, other.rgba) && HSLA.equals(this.hsla, other.hsla) && HSVA.equals(this.hsva, other.hsva);\n    }\n    getRelativeLuminance() {\n        const R = Color._relativeLuminanceForComponent(this.rgba.r);\n        const G = Color._relativeLuminanceForComponent(this.rgba.g);\n        const B = Color._relativeLuminanceForComponent(this.rgba.b);\n        const luminance = 0.2126 * R + 0.7152 * G + 0.0722 * B;\n        return roundFloat(luminance, 4);\n    }\n    static _relativeLuminanceForComponent(color) {\n        const c = color / 255;\n        return (c <= 0.03928) ? c / 12.92 : Math.pow(((c + 0.055) / 1.055), 2.4);\n    }\n    getContrastRatio(another) {\n        const lum1 = this.getRelativeLuminance();\n        const lum2 = another.getRelativeLuminance();\n        return lum1 > lum2 ? (lum1 + 0.05) / (lum2 + 0.05) : (lum2 + 0.05) / (lum1 + 0.05);\n    }\n    isDarker() {\n        const yiq = (this.rgba.r * 299 + this.rgba.g * 587 + this.rgba.b * 114) / 1000;\n        return yiq < 128;\n    }\n    isLighter() {\n        const yiq = (this.rgba.r * 299 + this.rgba.g * 587 + this.rgba.b * 114) / 1000;\n        return yiq >= 128;\n    }\n    isLighterThan(another) {\n        const lum1 = this.getRelativeLuminance();\n        const lum2 = another.getRelativeLuminance();\n        return lum1 > lum2;\n    }\n    isDarkerThan(another) {\n        const lum1 = this.getRelativeLuminance();\n        const lum2 = another.getRelativeLuminance();\n        return lum1 < lum2;\n    }\n    lighten(factor) {\n        return new Color(new HSLA(this.hsla.h, this.hsla.s, this.hsla.l + this.hsla.l * factor, this.hsla.a));\n    }\n    darken(factor) {\n        return new Color(new HSLA(this.hsla.h, this.hsla.s, this.hsla.l - this.hsla.l * factor, this.hsla.a));\n    }\n    transparent(factor) {\n        const { r, g, b, a } = this.rgba;\n        return new Color(new RGBA(r, g, b, a * factor));\n    }\n    isTransparent() {\n        return this.rgba.a === 0;\n    }\n    isOpaque() {\n        return this.rgba.a === 1;\n    }\n    opposite() {\n        return new Color(new RGBA(255 - this.rgba.r, 255 - this.rgba.g, 255 - this.rgba.b, this.rgba.a));\n    }\n    blend(c) {\n        const rgba = c.rgba;\n        const thisA = this.rgba.a;\n        const colorA = rgba.a;\n        let a = thisA + colorA * (1 - thisA);\n        if (a < 1.0e-6) {\n            return Color.transparent;\n        }\n        const r = this.rgba.r * thisA / a + rgba.r * colorA * (1 - thisA) / a;\n        const g = this.rgba.g * thisA / a + rgba.g * colorA * (1 - thisA) / a;\n        const b = this.rgba.b * thisA / a + rgba.b * colorA * (1 - thisA) / a;\n        return new Color(new RGBA(r, g, b, a));\n    }\n    toString() {\n        return Color.Format.CSS.format(this);\n    }\n    static getLighterColor(of, relative, factor) {\n        if (of.isLighterThan(relative)) {\n            return of;\n        }\n        factor = factor ? factor : 0.5;\n        const lum1 = of.getRelativeLuminance();\n        const lum2 = relative.getRelativeLuminance();\n        factor = factor * (lum2 - lum1) / lum2;\n        return of.lighten(factor);\n    }\n    static getDarkerColor(of, relative, factor) {\n        if (of.isDarkerThan(relative)) {\n            return of;\n        }\n        factor = factor ? factor : 0.5;\n        const lum1 = of.getRelativeLuminance();\n        const lum2 = relative.getRelativeLuminance();\n        factor = factor * (lum1 - lum2) / lum1;\n        return of.darken(factor);\n    }\n}\nColor.white = new Color(new RGBA(255, 255, 255, 1));\nColor.black = new Color(new RGBA(0, 0, 0, 1));\nColor.red = new Color(new RGBA(255, 0, 0, 1));\nColor.blue = new Color(new RGBA(0, 0, 255, 1));\nColor.green = new Color(new RGBA(0, 255, 0, 1));\nColor.cyan = new Color(new RGBA(0, 255, 255, 1));\nColor.lightgrey = new Color(new RGBA(211, 211, 211, 1));\nColor.transparent = new Color(new RGBA(0, 0, 0, 0));\n(function (Color) {\n    let Format;\n    (function (Format) {\n        let CSS;\n        (function (CSS) {\n            function formatRGB(color) {\n                if (color.rgba.a === 1) {\n                    return `rgb(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b})`;\n                }\n                return Color.Format.CSS.formatRGBA(color);\n            }\n            CSS.formatRGB = formatRGB;\n            function formatRGBA(color) {\n                return `rgba(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b}, ${+(color.rgba.a).toFixed(2)})`;\n            }\n            CSS.formatRGBA = formatRGBA;\n            function formatHSL(color) {\n                if (color.hsla.a === 1) {\n                    return `hsl(${color.hsla.h}, ${(color.hsla.s * 100).toFixed(2)}%, ${(color.hsla.l * 100).toFixed(2)}%)`;\n                }\n                return Color.Format.CSS.formatHSLA(color);\n            }\n            CSS.formatHSL = formatHSL;\n            function formatHSLA(color) {\n                return `hsla(${color.hsla.h}, ${(color.hsla.s * 100).toFixed(2)}%, ${(color.hsla.l * 100).toFixed(2)}%, ${color.hsla.a.toFixed(2)})`;\n            }\n            CSS.formatHSLA = formatHSLA;\n            function _toTwoDigitHex(n) {\n                const r = n.toString(16);\n                return r.length !== 2 ? '0' + r : r;\n            }\n            function formatHex(color) {\n                return `#${_toTwoDigitHex(color.rgba.r)}${_toTwoDigitHex(color.rgba.g)}${_toTwoDigitHex(color.rgba.b)}`;\n            }\n            CSS.formatHex = formatHex;\n            function formatHexA(color, compact = false) {\n                if (compact && color.rgba.a === 1) {\n                    return Color.Format.CSS.formatHex(color);\n                }\n                return `#${_toTwoDigitHex(color.rgba.r)}${_toTwoDigitHex(color.rgba.g)}${_toTwoDigitHex(color.rgba.b)}${_toTwoDigitHex(Math.round(color.rgba.a * 255))}`;\n            }\n            CSS.formatHexA = formatHexA;\n            function format(color) {\n                if (!color) {\n                    return null;\n                }\n                if (color.isOpaque()) {\n                    return Color.Format.CSS.formatHex(color);\n                }\n                return Color.Format.CSS.formatRGBA(color);\n            }\n            CSS.format = format;\n            function parseHex(hex) {\n                if (!hex) {\n                    return null;\n                }\n                const length = hex.length;\n                if (length === 0) {\n                    return null;\n                }\n                if (hex.charCodeAt(0) !== 35) {\n                    return null;\n                }\n                if (length === 7) {\n                    const r = 16 * _parseHexDigit(hex.charCodeAt(1)) + _parseHexDigit(hex.charCodeAt(2));\n                    const g = 16 * _parseHexDigit(hex.charCodeAt(3)) + _parseHexDigit(hex.charCodeAt(4));\n                    const b = 16 * _parseHexDigit(hex.charCodeAt(5)) + _parseHexDigit(hex.charCodeAt(6));\n                    return new Color(new RGBA(r, g, b, 1));\n                }\n                if (length === 9) {\n                    const r = 16 * _parseHexDigit(hex.charCodeAt(1)) + _parseHexDigit(hex.charCodeAt(2));\n                    const g = 16 * _parseHexDigit(hex.charCodeAt(3)) + _parseHexDigit(hex.charCodeAt(4));\n                    const b = 16 * _parseHexDigit(hex.charCodeAt(5)) + _parseHexDigit(hex.charCodeAt(6));\n                    const a = 16 * _parseHexDigit(hex.charCodeAt(7)) + _parseHexDigit(hex.charCodeAt(8));\n                    return new Color(new RGBA(r, g, b, a / 255));\n                }\n                if (length === 4) {\n                    const r = _parseHexDigit(hex.charCodeAt(1));\n                    const g = _parseHexDigit(hex.charCodeAt(2));\n                    const b = _parseHexDigit(hex.charCodeAt(3));\n                    return new Color(new RGBA(16 * r + r, 16 * g + g, 16 * b + b));\n                }\n                if (length === 5) {\n                    const r = _parseHexDigit(hex.charCodeAt(1));\n                    const g = _parseHexDigit(hex.charCodeAt(2));\n                    const b = _parseHexDigit(hex.charCodeAt(3));\n                    const a = _parseHexDigit(hex.charCodeAt(4));\n                    return new Color(new RGBA(16 * r + r, 16 * g + g, 16 * b + b, (16 * a + a) / 255));\n                }\n                return null;\n            }\n            CSS.parseHex = parseHex;\n            function _parseHexDigit(charCode) {\n                switch (charCode) {\n                    case 48: return 0;\n                    case 49: return 1;\n                    case 50: return 2;\n                    case 51: return 3;\n                    case 52: return 4;\n                    case 53: return 5;\n                    case 54: return 6;\n                    case 55: return 7;\n                    case 56: return 8;\n                    case 57: return 9;\n                    case 97: return 10;\n                    case 65: return 10;\n                    case 98: return 11;\n                    case 66: return 11;\n                    case 99: return 12;\n                    case 67: return 12;\n                    case 100: return 13;\n                    case 68: return 13;\n                    case 101: return 14;\n                    case 69: return 14;\n                    case 102: return 15;\n                    case 70: return 15;\n                }\n                return 0;\n            }\n        })(CSS = Format.CSS || (Format.CSS = {}));\n    })(Format = Color.Format || (Color.Format = {}));\n})(Color || (Color = {}));\n\nclass ParsedTokenThemeRule {\n    constructor(token, index, fontStyle, foreground, background) {\n        this.token = token;\n        this.index = index;\n        this.fontStyle = fontStyle;\n        this.foreground = foreground;\n        this.background = background;\n    }\n}\nfunction parseTokenTheme(source) {\n    if (!source || !Array.isArray(source)) {\n        return [];\n    }\n    let result = [], resultLen = 0;\n    for (let i = 0, len = source.length; i < len; i++) {\n        let entry = source[i];\n        let fontStyle = -1;\n        if (typeof entry.fontStyle === 'string') {\n            fontStyle = 0;\n            let segments = entry.fontStyle.split(' ');\n            for (let j = 0, lenJ = segments.length; j < lenJ; j++) {\n                let segment = segments[j];\n                switch (segment) {\n                    case 'italic':\n                        fontStyle = fontStyle | 1;\n                        break;\n                    case 'bold':\n                        fontStyle = fontStyle | 2;\n                        break;\n                    case 'underline':\n                        fontStyle = fontStyle | 4;\n                        break;\n                }\n            }\n        }\n        let foreground = null;\n        if (typeof entry.foreground === 'string') {\n            foreground = entry.foreground;\n        }\n        let background = null;\n        if (typeof entry.background === 'string') {\n            background = entry.background;\n        }\n        result[resultLen++] = new ParsedTokenThemeRule(entry.token || '', i, fontStyle, foreground, background);\n    }\n    return result;\n}\nfunction resolveParsedTokenThemeRules(parsedThemeRules) {\n    parsedThemeRules.sort((a, b) => {\n        let r = strcmp(a.token, b.token);\n        if (r !== 0) {\n            return r;\n        }\n        return a.index - b.index;\n    });\n    let defaultFontStyle = 0;\n    let defaultForeground = '000000';\n    let defaultBackground = 'ffffff';\n    while (parsedThemeRules.length >= 1 && parsedThemeRules[0].token === '') {\n        let incomingDefaults = parsedThemeRules.shift();\n        if (incomingDefaults.fontStyle !== -1) {\n            defaultFontStyle = incomingDefaults.fontStyle;\n        }\n        if (incomingDefaults.foreground !== null) {\n            defaultForeground = incomingDefaults.foreground;\n        }\n        if (incomingDefaults.background !== null) {\n            defaultBackground = incomingDefaults.background;\n        }\n    }\n    let colorMap = new ColorMap();\n    let defaults = new ThemeTrieElementRule(defaultFontStyle, colorMap.getId(defaultForeground), colorMap.getId(defaultBackground));\n    let root = new ThemeTrieElement(defaults);\n    for (let i = 0, len = parsedThemeRules.length; i < len; i++) {\n        let rule = parsedThemeRules[i];\n        root.insert(rule.token, rule.fontStyle, colorMap.getId(rule.foreground), colorMap.getId(rule.background));\n    }\n    return new TokenTheme(colorMap, root);\n}\nclass ColorMap {\n    constructor() {\n        this._lastColorId = 0;\n        this._id2color = [];\n        this._color2id = new Map();\n    }\n    getId(color) {\n        if (color === null) {\n            return 0;\n        }\n        color = color.toUpperCase();\n        if (!/^[0-9A-F]{6}$/.test(color)) {\n            throw new Error('Illegal color name: ' + color);\n        }\n        let value = this._color2id.get(color);\n        if (value) {\n            return value;\n        }\n        value = ++this._lastColorId;\n        this._color2id.set(color, value);\n        this._id2color[value] = Color.fromHex('#' + color);\n        return value;\n    }\n    getColorMap() {\n        return this._id2color.slice(0);\n    }\n}\nclass TokenTheme {\n    static createFromRawTokenTheme(source) {\n        return this.createFromParsedTokenTheme(parseTokenTheme(source));\n    }\n    static createFromParsedTokenTheme(source) {\n        return resolveParsedTokenThemeRules(source);\n    }\n    constructor(colorMap, root) {\n        this._colorMap = colorMap;\n        this._root = root;\n        this._cache = new Map();\n    }\n    getColorMap() {\n        return this._colorMap.getColorMap();\n    }\n    getThemeTrieElement() {\n        return this._root.toExternalThemeTrieElement();\n    }\n    _match(token) {\n        return this._root.match(token);\n    }\n    match(languageId, token) {\n        let result = this._cache.get(token);\n        if (typeof result === 'undefined') {\n            let rule = this._match(token);\n            let standardToken = toStandardTokenType(token);\n            result = (rule.metadata\n                | (standardToken << 8)) >>> 0;\n            this._cache.set(token, result);\n        }\n        return (result\n            | (languageId << 0)) >>> 0;\n    }\n}\nconst STANDARD_TOKEN_TYPE_REGEXP = /\\b(comment|string|regex)\\b/;\nfunction toStandardTokenType(tokenType) {\n    let m = tokenType.match(STANDARD_TOKEN_TYPE_REGEXP);\n    if (!m) {\n        return 0;\n    }\n    switch (m[1]) {\n        case 'comment':\n            return 1;\n        case 'string':\n            return 2;\n        case 'regex':\n            return 4;\n    }\n    throw new Error('Unexpected match for standard token type!');\n}\nfunction strcmp(a, b) {\n    if (a < b) {\n        return -1;\n    }\n    if (a > b) {\n        return 1;\n    }\n    return 0;\n}\nclass ThemeTrieElementRule {\n    constructor(fontStyle, foreground, background) {\n        this._fontStyle = fontStyle;\n        this._foreground = foreground;\n        this._background = background;\n        this.metadata = ((this._fontStyle << 11)\n            | (this._foreground << 14)\n            | (this._background << 23)) >>> 0;\n    }\n    clone() {\n        return new ThemeTrieElementRule(this._fontStyle, this._foreground, this._background);\n    }\n    static cloneArr(arr) {\n        let r = [];\n        for (let i = 0, len = arr.length; i < len; i++) {\n            r[i] = arr[i].clone();\n        }\n        return r;\n    }\n    acceptOverwrite(fontStyle, foreground, background) {\n        if (fontStyle !== -1) {\n            this._fontStyle = fontStyle;\n        }\n        if (foreground !== 0) {\n            this._foreground = foreground;\n        }\n        if (background !== 0) {\n            this._background = background;\n        }\n        this.metadata = ((this._fontStyle << 11)\n            | (this._foreground << 14)\n            | (this._background << 23)) >>> 0;\n    }\n}\nclass ExternalThemeTrieElement {\n    constructor(mainRule, children) {\n        this.mainRule = mainRule;\n        this.children = children || Object.create(null);\n    }\n}\nclass ThemeTrieElement {\n    constructor(mainRule) {\n        this._mainRule = mainRule;\n        this._children = new Map();\n    }\n    toExternalThemeTrieElement() {\n        let children = Object.create(null);\n        this._children.forEach((element, index) => {\n            children[index] = element.toExternalThemeTrieElement();\n        });\n        return new ExternalThemeTrieElement(this._mainRule, children);\n    }\n    match(token) {\n        if (token === '') {\n            return this._mainRule;\n        }\n        let dotIndex = token.indexOf('.');\n        let head;\n        let tail;\n        if (dotIndex === -1) {\n            head = token;\n            tail = '';\n        }\n        else {\n            head = token.substring(0, dotIndex);\n            tail = token.substring(dotIndex + 1);\n        }\n        let child = this._children.get(head);\n        if (typeof child !== 'undefined') {\n            return child.match(tail);\n        }\n        return this._mainRule;\n    }\n    insert(token, fontStyle, foreground, background) {\n        if (token === '') {\n            this._mainRule.acceptOverwrite(fontStyle, foreground, background);\n            return;\n        }\n        let dotIndex = token.indexOf('.');\n        let head;\n        let tail;\n        if (dotIndex === -1) {\n            head = token;\n            tail = '';\n        }\n        else {\n            head = token.substring(0, dotIndex);\n            tail = token.substring(dotIndex + 1);\n        }\n        let child = this._children.get(head);\n        if (typeof child === 'undefined') {\n            child = new ThemeTrieElement(this._mainRule.clone());\n            this._children.set(head, child);\n        }\n        child.insert(tail, fontStyle, foreground, background);\n    }\n}\n\nvar languages = {};\nvar lexers = {};\nvar aliases = {\n    \"text/css\": \"css\",\n    \"application/javascript\": \"javascript\"\n}\n\n\n// create mock modeService\n/*\n    isRegisteredMode(mimetypeOrModeId: string): boolean;\n    getRegisteredModes(): string[];\n    getRegisteredLanguageNames(): string[];\n    getExtensions(alias: string): string[];\n    getFilenames(alias: string): string[];\n    getMimeForMode(modeId: string): string;\n    getLanguageName(modeId: string): string;\n    getModeIdForLanguageName(alias: string): string;\n    getModeIdByFilenameOrFirstLine(filename: string, firstLine?: string): string;\n    getModeId(commaSeparatedMimetypesOrCommaSeparatedIds: string): string;\n    getLanguageIdentifier(modeId: string | LanguageId): LanguageIdentifier;\n    getConfigurationFiles(modeId: string): string[];\n\n    // --- instantiation\n    lookup(commaSeparatedMimetypesOrCommaSeparatedIds: string): IModeLookupResult[];\n    getMode(commaSeparatedMimetypesOrCommaSeparatedIds: string): IMode;\n    getOrCreateMode(commaSeparatedMimetypesOrCommaSeparatedIds: string): TPromise<IMode>;\n    getOrCreateModeByLanguageName(languageName: string): TPromise<IMode>;\n    getOrCreateModeByFilenameOrFirstLine(filename: string, firstLine?: string): TPromise<IMode>;\n*/\nvar modeService = {\n    getModeIdForLanguageName(name){\n        // console.log(\"get for langaugeName\");\n        return aliases[name] || name;\n    },\n\n    getModeId(name){\n        return aliases[name] || name;\n    },\n\n    getMode(langid){\n        // console.log(TokenizationRegistry.get(langid));\n        return {getId: function(){ return langid; }}\n    },\n\n    getOrCreateMode(langid){\n        return true;\n    },\n\n    isRegisteredMode(name){\n        return !!languages[name];\n    }\n}\n\nfunction register(langId,config){\n    languages[langId] = languages[langId] || compile(langId,config);\n    lexers[langId] = lexers[langId] || createTokenizationSupport(modeService,null,langId,languages[langId]);\n    return lexers[langId];\n}\n\nfunction getLexer(langId){\n\treturn lexers[langId];\n}\n\nfunction tokenize(langId,code,state){\n\tvar lexer = lexers[langId];\n\tvar state = state || lexer.getInitialState();\n\t// var lines = code.split('\\n');\n\treturn lexer.tokenize(code,state,0);\n}\n\nexports.register = register;\nexports.getLexer = getLexer;\nexports.tokenize = tokenize;\nexports.TokenTheme = TokenTheme;\nexports.parseTokenTheme = parseTokenTheme;\n","import sketch from 'sketch'\nimport {highlight} from './test.js'\n// documentation: https://developer.sketchapp.com/reference/api/\n// import monarch with templates\n\nexport default function() {\n\tsketch.UI.message(\"It's alive \");\n\n\t// Hex to Color - helper function\n\tvar hexToColor = function(hex, alpha) {\n\t    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex),\n\t        red = parseInt(result[1], 16) / 255,\n\t        green = parseInt(result[2], 16) / 255,\n\t        blue = parseInt(result[3], 16) / 255,\n\t        alpha = (typeof alpha !== 'undefined') ? alpha : 1;\n\t    return NSColor.colorWithCalibratedRed_green_blue_alpha(red, green, blue, alpha)\n\t}\n\n\t// Select a Text Layer with at least 4 characters\n\tvar selection = context.selection,\n\t    textLayer = selection.firstObject();\n\n\tvar content = textLayer.stringValue();\n\tvar tokens = highlight(content,'imba',{json: true});\n\tvar chr = 0;\n\n\ttextLayer.setIsEditingText(true)\n\n\ttokens.forEach(function(tok){\n\t\tvar str = tok[0];\n\t\tvar rgba = tok[1].rgba;\n\t\tvar start = chr;\n\t\tvar end = start + str.length;\n\t\tvar range = NSMakeRange(start,end - start);\n\t\tif(rgba){\n\t\t\tvar color = NSColor.colorWithCalibratedRed_green_blue_alpha(rgba.r / 255, rgba.g / 255, rgba.b / 255, 1);\n\t\t\tconsole.log(str,rgba);\n\t\t\ttextLayer.addAttribute_value_forRange(NSForegroundColorAttributeName, color, range)\n\t\t};\n\t\tchr = end;\n\t})\n\ttextLayer.setIsEditingText(false);\n\treturn;\n\n\tvar range = NSMakeRange(1,3)\n\tvar color = hexToColor('4A90E2')\n\ttextLayer.setIsEditingText(true)\n\ttextLayer.addAttribute_value_forRange(NSForegroundColorAttributeName, color, range)\n\ttextLayer.setIsEditingText(false)\n}\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\nvar self = {};\n// ivar namespace.instance.identifier\n\nvar monarch = require('./monarch');\nvar languages = require('./monaco/languages');\n\nvar Theme = require('./theme').Theme;\n\nvar raw = Theme.toMonaco();\nvar inv = Theme.inverted;\nvar theme = exports.theme = monarch.TokenTheme.createFromRawTokenTheme(raw.rules);\n\nvar css = [];\n\nvar colors = {\n\tdark: {},\n\tlight: {}\n};\n\nfor (let i = 0, items = iter$(theme.getColorMap()), len = items.length, color; i < len; i++) {\n\tcolor = items[i];\n\tif (i <= 0) { continue; };\n\tcolors.dark[i] = color;\n\tif (inv[color]) {\n\t\tcolors.light[i] = inv[color];\n\t};\n\tcss.push((\".tok\" + i + \" \\{ color: \" + color + \"; \\}\"));\n\tif (inv[color]) {\n\t\tcss.push((\".mlight .tok\" + i + \" \\{ color: \" + (inv[color]) + \"; \\}\"));\n\t};\n};\n\nvar cache = {};\nvar aliases = {\n\tjs: 'javascript',\n\tjsx: 'javascript',\n\tts: 'typescript',\n\tmd: 'markdown'\n};\nvar styleElement;\n\nexports.styles = self.styles = function (){\n\treturn css;\n};\n\nvar registeredLanguages = {};\n\nexports.getLanguage = self.getLanguage = function (lang){\n\tif (false && !styleElement) {\n\t\tstyleElement = document.createElement('style');\n\t\tstyleElement.innerHTML = css.join(\"\\n\");\n\t\tdocument.head.appendChild(styleElement);\n\t};\n\t\n\tlang = aliases[lang] || lang;\n\t\n\tif (registeredLanguages[lang]) {\n\t\treturn registeredLanguages[lang];\n\t};\n\tif (languages[lang]) {\n\t\tmonarch.register(lang,languages[lang].language.language);\n\t\treturn registeredLanguages[lang] = true;\n\t};\n\treturn false;\n};\n\n\nexports.tokenize = self.tokenize = function (lang,code,options){\n\tif(options === undefined) options = {};\n\tlang = aliases[lang] || lang;\n\t\n\t// if $node$ and options:decorate and lang == 'imba'\n\t// \t# not on the web -- for now\n\t// \tvar compiler = require 'imba/compiler'\n\t// \tvar helpers = require 'imba/lib/compiler/helpers'\n\t// \tlet analysis = compiler.analyze(code,{target: 'web'})\n\t// \tvar locmap = helpers.locationToLineColMap(code)\n\t// \tvar vars = []\n\t// \tfor scope in analysis:scopes\n\t// \t\tfor item in scope:vars\n\t// \t\t\tfor ref in item:refs\n\t// \t\t\t\tlet loc = locmap[ref:loc[0]].concat('identifier.l' + item:type)\n\t// \t\t\t\tvars.push(loc)\n\t// \t\n\t// \tvars = vars.sort do |a,b|\n\t// \t\tif a[0] == b[0]\n\t// \t\t\ta[1] - b[1]\n\t// \t\telse\n\t// \t\t\ta[0] - b[0]\n\t// \t\n\t// \t# console.log \"decorations\",vars\n\t// \n\t// \toptions:decorations = vars\n\t\n\t// make sure language exists?\n\tif (!self.getLanguage(lang)) {\n\t\tconsole.log(\"could not find language\");\n\t\tif (code.indexOf('\"') >= 0) { code = code.replace(/\\\"/g,\"&quot;\") };\n\t\tif (code.indexOf('<') >= 0) { code = code.replace(/\\</g,\"&lt;\") };\n\t\tif (code.indexOf('>') >= 0) { code = code.replace(/\\>/g,\"&gt;\") };\n\t\treturn code;\n\t};\n\t\n\tvar theme = options.theme;\n\tvar decorations = (options.decorations || []).slice();\n\tvar lexer = monarch.getLexer(lang);\n\tvar types = theme ? null : [];\n\tvar map = {};\n\tvar state = lexer.getInitialState();\n\tvar lines = [];\n\tvar dec = decorations.shift();\n\t\n\t\n\tfor (let ln = 0, items = iter$(code.split('\\n')), len = items.length, line; ln < len; ln++) {\n\t\tline = items[ln];\n\t\tvar result = lexer.tokenize(line,state,0);\n\t\tlet tokens = result.tokens.filter(function(tok) { return tok.type.indexOf(\"white\") == -1; });\n\t\tlet offset = 0;\n\t\tlet lstr = \"\";\n\t\t\n\t\tfor (let i = 0, ary = iter$(tokens), len = ary.length, token; i < len; i++) {\n\t\t\t// skip whitespace\n\t\t\ttoken = ary[i];\n\t\t\tlet tref;\n\t\t\t\n\t\t\t// console.log ln,token:offset,token:type\n\t\t\tif (dec && dec[0] == ln && dec[1] == token.offset) {\n\t\t\t\t// console.log \"found decoration!!!\",dec\n\t\t\t\ttoken.type = dec[2];\n\t\t\t\tdec = decorations.shift();\n\t\t\t};\n\t\t\t\n\t\t\tlet next = tokens[i + 1];\n\t\t\tif (theme) {\n\t\t\t\ttref = theme._match(token.type);\n\t\t\t\ttref = tref._foreground;\n\t\t\t} else {\n\t\t\t\tlet type = token.type.replace(/\\./g,' ').replace(lang,'').trim();\n\t\t\t\ttref = map[type];\n\t\t\t\tif (tref == undefined) {\n\t\t\t\t\ttref = map[type] = (types.push(type) - 1);\n\t\t\t\t};\n\t\t\t};\n\t\t\t\n\t\t\tlet end = next ? next.offset : line.length;\n\t\t\tlstr += String.fromCharCode(64 + tref);\n\t\t\tlet move = (end) - offset;\n\t\t\tlstr += String.fromCharCode(64 + move);\n\t\t\toffset += move;\n\t\t};\n\t\t\n\t\tstate = result.endState;\n\t\tlines.push(lstr);\n\t};\n\t\n\treturn [code,lines.join('\\n'),types];\n};\n\nexports.jsonify = self.jsonify = function (code,lineCount){\n\tif(lineCount === undefined) lineCount = 30;\n\tvar out = \"\";\n\t\n\tvar raw = code[0];\n\tvar tokens = code[1].split('\\n');\n\tvar types = code[2];\n\t\n\tvar i = 0;\n\tvar start = 0;\n\tvar l = tokens.length;\n\tvar lines = raw.split('\\n');\n\t\n\tout = [];\n\t\n\tfor (let li = 0, items = iter$(lines), len = items.length, line; li < len; li++) {\n\t\tline = items[li];\n\t\tlet start = 0;\n\t\tlet desc = tokens[li];\n\t\t\n\t\tlet k = 0;\n\t\tlet type;\n\t\tlet color;\n\t\t\n\t\twhile (k < desc.length){\n\t\t\tlet code = desc.charCodeAt(k++) - 64;\n\t\t\tif (k % 2 == 0) { // move\n\t\t\t\tlet content = line.slice(start,start = start + code);\n\t\t\t\tout.push([content,color]);\n\t\t\t} else {\n\t\t\t\ttype = code;\n\t\t\t\tcolor = colors.dark[code];\n\t\t\t};\n\t\t};\n\t\tout.push(['\\n',{}]);\n\t};\n\t\n\treturn out;\n};\n\nexports.htmlify = self.htmlify = function (code,lineCount){\n\tif(lineCount === undefined) lineCount = 30;\n\tvar out = \"\";\n\t\n\tvar raw = code[0];\n\tvar tokens = code[1].split('\\n');\n\tvar types = code[2];\n\t\n\tvar i = 0;\n\tvar start = 0;\n\tvar l = tokens.length;\n\tvar lines = raw.split('\\n');\n\t\n\tout = [];\n\t\n\tfor (let li = 0, items = iter$(lines), len = items.length, line; li < len; li++) {\n\t\tline = items[li];\n\t\tlet start = 0;\n\t\tlet desc = tokens[li];\n\t\tlet k = 0;\n\t\tlet s = \"<span class='line'>\";\n\t\twhile (k < desc.length){\n\t\t\tlet code = desc.charCodeAt(k++) - 64;\n\t\t\tif (k % 2 == 0) { // move\n\t\t\t\tlet content = line.slice(start,start = start + code);\n\t\t\t\ts += content.replace(/\\</g,'&lt;').replace(/\\>/g,'&gt;');\n\t\t\t\ts += '</span>';\n\t\t\t} else {\n\t\t\t\ts += '<span class=\"' + (types ? types[code] : (('tok' + code))) + '\">';\n\t\t\t};\n\t\t};\n\t\ts += \"</span>\";\n\t\tout.push(s);\n\t};\n\t\n\treturn out.join('\\n');\n};\n\nexports.highlight = self.highlight = function (code,lang,options){\n\tif(options === undefined) options = {};\n\tlang = aliases[lang] || lang;\n\tlet langconf = self.getLanguage(lang);\n\tif (!langconf) {\n\t\t// return htmlify([code])\n\t\treturn code;\n\t};\n\t(options.theme == null) ? (options.theme = theme) : options.theme;\n\tvar tokens = self.tokenize(lang,code,options);\n\treturn options.json ? self.jsonify(tokens) : self.htmlify(tokens);\n};\n\nself.test = function (code){\n\treturn self.highlight(code,'imba',{json: true});\n};\n\nconsole.log(JSON.stringify(self.test(\"var hello = 1;\")));\n","function iter$(a){ return a ? (a.toArray ? a.toArray() : a) : []; };\n\nvar Theme = exports.Theme = {\n\tbase: 'vs-dark', // can also be vs-dark or hc-black\n\tinherit: false, // can also be false to completely replace the builtin rules\n\t\n\tinverted: {\n\t\t'#d9bb73': '#b78100',\n\t\t'#a7c9de': '#2e5f7d',\n\t\t'#dcdcdc': '#464646',\n\t\t'#598da6': '#415e98',\n\t\t'#ea9b80': '#a21e1e',\n\t\t'#75aaff': '#3360a7',\n\t\t'#d4d4d4': '#4d5155',\n\t\t'#5d6e7a': '#888888',\n\t\t'#7da4b7': '#146186', // string\n\t\t'#bd9ac2': '#91359e'\n\t},\n\t\n\tnamed: {\n\t\tTAG: 'D9BB73',\n\t\tbackground: '282f33',\n\t\tforeground: 'D4D4D4',\n\t\tkeyword: 'ea9b80',\n\t\toperator: 'ea9b80',\n\t\tstring: 'B7DE95',\n\t\tnumber: '598DA6',\n\t\tbool: '598DA6',\n\t\tsymbol: 'B7DE95',\n\t\tregex: 'FD9231',\n\t\tregexgroup: 'FFB26D',\n\t\tcomment: '5D6E7A',\n\t\tconstant: 'BD9AC2',\n\t\tidentifier: 'd4d4d4',\n\t\txml: 'D9BB72',\n\t\txmlref: 'd2845f',\n\t\tdecl: '75AAFF',\n\t\tkey: 'a7c9de',\n\t\tlineNumber: '3b4750',\n\t\tagentCursor: '89b0fc',\n\t\tlocalCursor: 'ffe796',\n\t\tlvar: 'dcdbc7',\n\t\tlimport: '91b7ea',\n\t\t\n\t\tstring: '7da4b7',\n\t\ttagbase: '@TAG',\n\t\ttagname: '@TAG',\n\t\ttagstr: 'a0c6ca',\n\t\ttagop: 'd17e53',\n\t\ttagbracket: '8e7f54',\n\t\ttagattr: '@TAG',\n\t\ttagmodifier: 'd99372',\n\t\ttaglistener: 'd99372',\n\t\tspecial: 'ffdb59'\n\t},\n\t\n\t\n\ttoMonaco: function() {\n\t\tvar json = JSON.stringify(this);\n\t\tvar named = this.named;\n\t\tjson = json.replace(/@(\\w+)/g,function(m,key) {\n\t\t\tlet val = named[key];\n\t\t\t\n\t\t\twhile (val[0] == '@'){\n\t\t\t\tval = named[val.slice(1)] || '';\n\t\t\t};\n\t\t\t\n\t\t\tif (val instanceof Array) {\n\t\t\t\tval = val[0];\n\t\t\t};\n\t\t\t\n\t\t\tif (val[0] == '#') {\n\t\t\t\tval = val.slice(1);\n\t\t\t};\n\t\t\t\n\t\t\treturn val || m;\n\t\t\t// named[key] or m\n\t\t});\n\t\t\n\t\treturn JSON.parse(json);\n\t},\n\t\n\ttoTheme: function() {\n\t\tvar v_, $1;\n\t\tvar theme = this.toMonaco();\n\t\tvar colors = theme.tokenColors = [];\n\t\tfor (let i = 0, items = iter$(theme.rules), len = items.length, rule; i < len; i++) {\n\t\t\trule = items[i];\n\t\t\tif (!rule.foreground) { continue; };\n\t\t\t\n\t\t\tlet item = {\n\t\t\t\tname: rule.token,\n\t\t\t\tscope: rule.token,\n\t\t\t\tsettings: {\n\t\t\t\t\tforeground: '#' + rule.foreground\n\t\t\t\t}\n\t\t\t};\n\t\t\tcolors.push(item);\n\t\t};\n\t\t\n\t\t(((v_ = theme.rules),delete theme.rules, v_));\n\t\t((($1 = theme.colors),delete theme.colors, $1));\n\t\ttheme.type = 'dark';\n\t\ttheme.name = \"Imba Dark\";\n\t\treturn theme;\n\t},\n\t\n\trules: [\n\t\t{token: '',foreground: '@foreground',background: '@background'},\n\t\t{token: 'invalid',foreground: 'f44747'},\n\t\t{token: 'emphasis',fontStyle: 'italic'},\n\t\t{token: 'strong',fontStyle: 'bold'},\n\t\t\n\t\t{token: 'variable',foreground: '74B0DF'},\n\t\t{token: 'variable.predefined',foreground: '@keyword'},\n\t\t{token: 'variable.parameter',foreground: '9CDCFE'},\n\t\t{token: 'identifier',foreground: '@identifier'},\n\t\t{token: 'identifier.const',foreground: '@constant'},\n\t\t{token: 'identifier.const.class',foreground: '@decl'},\n\t\t{token: 'identifier.class',foreground: '@decl'},\n\t\t{token: 'identifier.const.tag',foreground: '@decl'},\n\t\t{token: 'identifier.decl',foreground: '@decl'},\n\t\t{token: 'identifier.tag',foreground: '@decl'},\n\t\t{token: 'identifier.def',foreground: '@decl'},\n\t\t{token: 'identifier.key',foreground: '@key'},\n\t\t{token: 'identifier.env',foreground: '@keyword'},\n\t\t{token: 'identifier.special',foreground: '@special'},\n\t\t{token: 'identifier.import',foreground: '@limport'},\n\t\t{token: 'entity.name.type',foreground: '@decl'},\n\t\t{token: 'entity.name.function',foreground: '@decl'},\n\t\t{token: 'entity.name.tag',foreground: '@xml'},\n\t\t\n\t\t{token: 'storage.type.function',foreground: '@keyword'},\n\t\t{token: 'storage.type.class',foreground: '@keyword'},\n\t\t\n\t\t{token: 'comment',foreground: '@comment'},\n\t\t{token: 'operator',foreground: '@operator'},\n\t\t{token: 'number',foreground: '@number'},\n\t\t{token: 'number.hex',foreground: '@number'},\n\t\t{token: 'numeric.css',foreground: '@number'},\n\t\t{token: 'regexp',foreground: '@regex'},\n\t\t{token: 'regexp.escape',foreground: '@regexgroup'},\n\t\t{token: 'annotation',foreground: 'cc6666'},\n\t\t{token: 'type',foreground: '3DC9B0'},\n\t\t{token: 'boolean',foreground: '@bool'},\n\t\t\n\t\t{token: 'constant.numeric',foreground: '@number'},\n\t\t{token: 'constant.language.boolean',foreground: '@bool'},\n\t\t\n\t\t{token: 'delimiter',foreground: 'DCDCDC'},\n\t\t{token: 'delimiter.access.imba',foreground: 'DCDCDB'},\n\t\t{token: 'delimiter.html',foreground: '808080'},\n\t\t{token: 'delimiter.xml',foreground: '808080'},\n\t\t{token: 'delimiter.eq.tag',foreground: 'ea9b7c'},\n\t\t\n\t\t{token: 'tag',foreground: '@tagbase'},\n\t\t{token: 'tag.name',foreground: '@tagname'},\n\t\t{token: 'tag.open',foreground: '@tagbracket'},\n\t\t{token: 'tag.close',foreground: '@tagbracket'},\n\t\t{token: 'tag.attribute',foreground: '@tagattr'},\n\t\t{token: 'tag.attribute.listener',foreground: '@taglistener'},\n\t\t{token: 'tag.attribute.modifier',foreground: '@tagmodifier'},\n\t\t{token: 'paren.open.tag',foreground: '@taglistener'},\n\t\t{token: 'paren.close.tag',foreground: '@taglistener'},\n\t\t\n\t\t{token: 'meta.scss',foreground: 'A79873'},\n\t\t{token: 'meta.tag',foreground: '@xml'},\n\t\t{token: 'metatag',foreground: 'DD6A6F'},\n\t\t{token: 'metatag.content.html',foreground: '9CDCFE'},\n\t\t{token: 'metatag.html',foreground: '569CD6'},\n\t\t{token: 'metatag.xml',foreground: '569CD6'},\n\t\t{token: 'metatag.php',fontStyle: 'bold'},\n\t\t\n\t\t{token: 'key',foreground: '@key'},\n\t\t{token: 'string.key.json',foreground: '9CDCFE'},\n\t\t{token: 'string.value.json',foreground: 'CE9178'},\n\t\t\n\t\t{token: 'attribute.name',foreground: '@key'},\n\t\t{token: 'attribute.value',foreground: '@number'},\n\t\t{token: 'attribute.value.number.css',foreground: '@number'},\n\t\t{token: 'attribute.value.unit.css',foreground: '@number'},\n\t\t{token: 'attribute.value.hex.css',foreground: '@number'},\n\t\t\n\t\t{token: 'string',foreground: '@string'},\n\t\t{token: 'string.sql',foreground: '@string'},\n\t\t\n\t\t{token: 'keyword',foreground: '@keyword'},\n\t\t{token: 'keyword.flow',foreground: '@keyword'},\n\t\t{token: 'keyword.json',foreground: '@keyword'},\n\t\t{token: 'keyword.flow.scss',foreground: '@keyword'},\n\t\t\n\t\t{token: 'operator.scss',foreground: '909090'},\n\t\t{token: 'operator.sql',foreground: '778899'},\n\t\t{token: 'operator.swift',foreground: '909090'},\n\t\t{token: 'predefined.sql',foreground: 'FF00FF'},\n\t\t\n\t\t// css\n\t\t{token: \"entity.name.selector.css\",foreground: '@xml'},\n\t\t{token: \"support.type.property-name.css\",foreground: '@decl'},\n\t\t{token: \"meta.object-literal.key\",foreground: '@key'}\n\t],\n\tcolors: {\n\t\t'foreground': '#@foreground',\n\t\t'editor.background': '#282f33',\n\t\t'editorGutter.background': '#282f33',\n\t\t'editor.selectionBackground': '#30455f', // #33393f\n\t\t'editorLineNumber.foreground': '#5D6E7A',\n\t\t'editorWidget.background': '#383d47', // #20262a\n\t\t'editorWidget.border': '#20262a',\n\t\t'widget.shadow': '#00000000',\n\t\t'list.focusBackground': '#33393f',\n\t\t'list.hoverBackground': '#282f33',\n\t\t'list.highlightForeground': '#ffffff',\n\t\t'input.foreground': '#ffffff',\n\t\t'input.background': '#2d3139',\n\t\t'input.border': '#262b35',\n\t\t'editorSuggestWidget.foreground': '#@foreground',\n\t\t'editorHoverWidget.background': '#20262a',\n\t\t'editorCursor.foreground': '#@agentCursor'\n\t}\n};\n\nif (false) {};\n","module.exports = require(\"sketch\");"],"sourceRoot":""}